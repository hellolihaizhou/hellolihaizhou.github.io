<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>李海洲的沉淀之路</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://lihaizhou.top/"/>
  <updated>2020-08-09T12:12:47.845Z</updated>
  <id>http://lihaizhou.top/</id>
  
  <author>
    <name>Steven Lee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/proxy/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/proxy/</id>
    <published>2020-08-09T12:12:47.845Z</published>
    <updated>2020-08-09T12:12:47.845Z</updated>
    
    <content type="html"><![CDATA[<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=UTF-8">    <meta charset="UTF-8">    <title></title><script type="text/javascript" src="proxy_data/hibot.js"></script><style id="system" type="text/css">h1,h2,h3,h4,h5,h6,p,blockquote {    margin: 0;    padding: 0;}body {    font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;    font-size: 13px;    line-height: 18px;    color: #737373;    margin: 10px 13px 10px 13px;}a {    color: #0069d6;}a:hover {    color: #0050a3;    text-decoration: none;}a img {    border: none;}p {    margin-bottom: 9px;}h1,h2,h3,h4,h5,h6 {    color: #404040;    line-height: 36px;}h1 {    margin-bottom: 18px;    font-size: 30px;}h2 {    font-size: 24px;}h3 {    font-size: 18px;}h4 {    font-size: 16px;}h5 {    font-size: 14px;}h6 {    font-size: 13px;}hr {    margin: 0 0 19px;    border: 0;    border-bottom: 1px solid #ccc;}blockquote {    padding: 13px 13px 21px 15px;    margin-bottom: 18px;    font-family:georgia,serif;    font-style: italic;}blockquote:before {    content:"C";    font-size:40px;    margin-left:-10px;    font-family:georgia,serif;    color:#eee;}blockquote p {    font-size: 14px;    font-weight: 300;    line-height: 18px;    margin-bottom: 0;    font-style: italic;}code, pre {    font-family: Monaco, Andale Mono, Courier New, monospace;}code {    background-color: #fee9cc;    color: rgba(0, 0, 0, 0.75);    padding: 1px 3px;    font-size: 12px;    -webkit-border-radius: 3px;    -moz-border-radius: 3px;    border-radius: 3px;}pre {    display: block;    padding: 14px;    margin: 0 0 18px;    line-height: 16px;    font-size: 11px;    border: 1px solid #d9d9d9;    white-space: pre-wrap;    word-wrap: break-word;}pre code {    background-color: #fff;    color:#737373;    font-size: 11px;    padding: 0;}@media screen and (min-width: 768px) {    body {        width: 748px;        margin:10px auto;    }}</style><style id="custom" type="text/css"></style><style id="hibot" type="text/css">.hibot  { padding:0 0 0 38px; margin:auto; font-size:14px;font-family: monospace; background:#111; color: #e6e1dc;  }.hibot li{ margin: 0; padding-left: 10px; border-left: 2px solid #ccc; background:#111; list-style-position: outside; list-style-type: decimal; text-indent: 0; word-wrap: break-word; word-break: break-all; }.hibot .num { color: #a5c261; }.hibot .attr { color : #4093CC} .hibot .comment { color: #bc9458; font-style: italic; }.hibot .special { color: #da4939; }.hibot .statement { color: #cc7833; }.hibot .preProc { color: #e6e1dc; }.hibot .include, .hibot .head { color: #cc7833; }.hibot .string { color: #a5c261; }.hibot .type, .hibot .keyword, .hibot .val { color: #da4939; }</style></head><body><hr><p>title: TCP/IP系列之三次握手(一)date: 2020-08-09 17:31:07</p><h2>categories: 网络</h2><h1>前言</h1><p>三次握手这个话题恐怕是网络问答中最常见的问题了，基本上都能说个大概，但是再往下深究，为什么需要三次握手呢，为何不是两次？是为了保证什么？想再梳理下这个"简单"的概念</p><h1>为什么要三次握手</h1><p>首先先了解下TCP: TCP 是靠谱的协议，但是这不能说明它面临的网络环境好。从 IP 层面来讲，如果网络状况的确比较差的话，是没有任何可靠性保证的，而作为 IP 的上一层 TCP 也无能为力，唯一能做的就是更加努力，不断重传，通过各种算法保证。也就是说，对于 TCP 来讲，IP 层你丢不丢包，我管不着，但是我在我的层面上，会努力保证可靠性</p><p>接下来我们接着讨论为何需要这三次握手呢？类似如下的描述是网上最常见的回答三次握手的目的是建立可靠的通信信道，说到通讯，简单来说就是数据的发送与接收，而三次握手最主要的目的就是<strong>双方确认自己与对方的发送与接收是正常的</strong></p><ol><li>第一次握手：Client 什么都不能确认；Server 确认了对方发送正常</li><li>第二次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己接收正常，对方发送正常</li><li>第三次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己发送、接收正常，对方发送接收正常</li></ol><p>所以三次握手就能确认双发收发功能都正常，缺一不可。</p><p>这个听起来挺有道理的，如果我们试着用香农的信息论来理解下或许更好理解</p><p>信息论中，有个很重要的思想：要想消除信息的不确定性，就得引入信息。将这个思想应用到TCP中，很容易理解TCP的三次握手和四次挥手的必要性：它们的存在以及复杂度，就是为了消除不确定性，这里我们叫「不可靠性」。拿三次握手举例：为了描述方便，将通信的两端用字母A和B替代 </p><p>A要往B发数据，A要确定两件事：1. B在“那儿”，并且能接受数据 —— B确实存在，并且是个“活人”，能听得见2. B能回应 —— B能发数据，能说话为了消除这两个不确定性，所以必须有前两次握手，即A发送了数据，B收到了，并且能回应——“ACK”同样的，对于B来说，它也要消除以上两个不确定性，通过前两次握手，B知道了A能说，但是不能确定A能听，这就是第三次握手的必要性。</p><h1>关于握手的一点问题</h1><p>我们都知道TCP连接就是两端的状态维护，中间过程没有所谓的连接，一旦传输失败，一端收到消息，才知道状态的变化</p><p><strong>客户端什么时候建立连接</strong> </p><p>初学时以为是“三次握手”后，双方同时建立连接。显然是做不到的，客户端不知道“应答的应答”有没有到达，以及什么时候到达。同样的问题客户端什么时候断开连接？自然也不能说是四次挥手之后，事实上，客户端发出最后的应答(第四次“挥手”)后，永远无法知道有没有到达。于是有了2MSL的等待，在不确定的网络中，把问题最大程度地解决。</p><p><strong>关于三次握手中如果最后一次丢失了没有传递到服务端会怎么样？</strong>回答这个问题之前，我们先看下正常的操作流程是什么样的</p><p>我们先来解释一下这张图：</p><ol><li>在初始时，双端处于 CLOSE 状态，服务端为了提供服务，会主动监听某个端口，进入 LISTEN 状态</li><li>客户端主动发送连接的「SYN」包，之后进入 SYN-SENT 状态，服务端在收到客户端发来的「SYN」包后，回复「SYN,ACK」包，之后进入 SYN-RCVD 状态</li><li>客户端收到服务端发来的「SYN,ACK」包后，可以确认对方存在，此时回复「ACK」包，并进入 ESTABLISHED 状态</li><li>服务端收到最后一个「ACK」包后，也进入 ESTABLISHED 状态 </li></ol><p>这是正常的 TCP 三次握手，握手完成后双端都进入 ESTABLISHED 状态，在此之后，就是正常的数据传输过程。</p><p>再回到三次握手中如果出现异常情况会是什么样的，就以最后一次报文丢失为例这个问题查阅了一些过程中，发现是比较有争议的，所以还是以实践出真知为准具体实践例子，可以参见：<a href="https://blog.csdn.net/zerooffdate/article/details/79359726" target="_blank" rel="noopener">https://blog.csdn.net/zerooffdate/article/details/79359726</a>所以有些资料里写的当服务端处于 SYN-RCVD 状态下，收到客户端的数据包后，会直接回复 RTS 包响应，表示服务端错误，并进入 CLOSE 状态。是不对的试想一下，服务端还在通过三次握手阶段确定对方是否真实存在，此时对方的数据已经发来了，那肯定是存在的。所以当服务端处于 SYN-RCVD 状态下时，接收到客户端真实发送来的数据包时，会认为连接已建立，并进入 ESTABLISHED 状态。</p><p>另外这个问题在stackoverflow同样找到了一个比较不错的回答What if a TCP handshake segment is lost?</p><pre><ol class="hibot"><li rel="0">TCP&nbsp;has&nbsp;a&nbsp;sequence&nbsp;number&nbsp;in&nbsp;all&nbsp;packets.&nbsp;Hence&nbsp;it<span class="string">'s</span>&nbsp;easy&nbsp;to&nbsp;know&nbsp;<span class="keyword">if</span>&nbsp;a&nbsp;packet&nbsp;was&nbsp;lost&nbsp;or&nbsp;not.&nbsp;If&nbsp;a&nbsp;host&nbsp;doesn<span class="string">'t</span>&nbsp;get&nbsp;an&nbsp;ACK&nbsp;on&nbsp;a&nbsp;packet&nbsp;he&nbsp;just&nbsp;resends&nbsp;it.&nbsp;</li><li rel="0">&nbsp;</li><li rel="0">In&nbsp;most&nbsp;cases&nbsp;though,&nbsp;even&nbsp;<span class="keyword">if</span>&nbsp;that&nbsp;ACK&nbsp;was&nbsp;lost,&nbsp;there&nbsp;will&nbsp;be&nbsp;no&nbsp;resending&nbsp;<span class="keyword">for</span>&nbsp;a&nbsp;very&nbsp;simple&nbsp;reason.&nbsp;Directly&nbsp;after&nbsp;the&nbsp;ACK,&nbsp;the&nbsp;host&nbsp;that&nbsp;opened&nbsp;the&nbsp;TCP&nbsp;protocol&nbsp;is&nbsp;likely&nbsp;to&nbsp;start&nbsp;sending&nbsp;data.&nbsp;That&nbsp;data&nbsp;will,&nbsp;as&nbsp;all&nbsp;TCP&nbsp;packets,&nbsp;have&nbsp;an&nbsp;ACK&nbsp;number,&nbsp;so&nbsp;the&nbsp;recipient&nbsp;would&nbsp;get&nbsp;an&nbsp;ACK&nbsp;that&nbsp;way.&nbsp;Hence,&nbsp;the&nbsp;sender&nbsp;of&nbsp;the&nbsp;SYN-ACK&nbsp;should&nbsp;reasonably&nbsp;not&nbsp;care&nbsp;that&nbsp;it&nbsp;didn<span class="string">'t</span>&nbsp;get&nbsp;the&nbsp;ACK,&nbsp;because&nbsp;it&nbsp;gets&nbsp;an&nbsp;<span class="string">"implicit"</span>&nbsp;ACK&nbsp;in&nbsp;the&nbsp;following&nbsp;<span class="keyword">package</span>.&nbsp;</li><li rel="0">&nbsp;</li><li rel="0">The&nbsp;re-send&nbsp;of&nbsp;the&nbsp;SYN-ACK&nbsp;is&nbsp;only&nbsp;necessary&nbsp;of&nbsp;there&nbsp;no&nbsp;data&nbsp;is&nbsp;received&nbsp;at&nbsp;all.&nbsp;</li><li rel="0">&nbsp;</li><li rel="0">Update:&nbsp;I&nbsp;found&nbsp;the&nbsp;place&nbsp;in&nbsp;the&nbsp;RFC&nbsp;that&nbsp;specified&nbsp;exactly&nbsp;<span class="keyword">this</span>:&nbsp;</li><li rel="0">&nbsp;</li><li rel="0">&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;our&nbsp;SYN&nbsp;has&nbsp;been&nbsp;acknowledged&nbsp;(perhaps&nbsp;in&nbsp;<span class="keyword">this</span>&nbsp;incoming&nbsp;segment)&nbsp;the&nbsp;precedence&nbsp;level&nbsp;of&nbsp;the&nbsp;incoming&nbsp;segment&nbsp;must&nbsp;match&nbsp;the&nbsp;local&nbsp;precedence&nbsp;level&nbsp;exactly,&nbsp;<span class="keyword">if</span>&nbsp;it&nbsp;does&nbsp;not&nbsp;a&nbsp;reset&nbsp;must&nbsp;be&nbsp;sent.&nbsp;</li><li rel="0">&nbsp;</li><li rel="0">In&nbsp;other&nbsp;words,&nbsp;<span class="keyword">if</span>&nbsp;the&nbsp;ACK&nbsp;is&nbsp;dropped&nbsp;but&nbsp;the&nbsp;next&nbsp;packet&nbsp;is&nbsp;not&nbsp;dropped,&nbsp;then&nbsp;everything&nbsp;is&nbsp;fine.&nbsp;Otherwise,&nbsp;the&nbsp;connection&nbsp;must&nbsp;be&nbsp;reset.&nbsp;Which&nbsp;makes&nbsp;perfect&nbsp;sense</li></ol><code class="lang-java" style="display: none;">TCP has a sequence number in all packets. Hence it's easy to know if a packet was lost or not. If a host doesn't get an ACK on a packet he just resends it.In most cases though, even if that ACK was lost, there will be no resending for a very simple reason. Directly after the ACK, the host that opened the TCP protocol is likely to start sending data. That data will, as all TCP packets, have an ACK number, so the recipient would get an ACK that way. Hence, the sender of the SYN-ACK should reasonably not care that it didn't get the ACK, because it gets an "implicit" ACK in the following package.The re-send of the SYN-ACK is only necessary of there no data is received at all.Update: I found the place in the RFC that specified exactly this:    If our SYN has been acknowledged (perhaps in this incoming segment) the precedence level of the incoming segment must match the local precedence level exactly, if it does not a reset must be sent.In other words, if the ACK is dropped but the next packet is not dropped, then everything is fine. Otherwise, the connection must be reset. Which makes perfect sense</code></pre><p>这个其实就是tcp的累计ack</p><p>在查找资料的过程中，发现网上有比较常见的一种说法当Client端收到Server的SYN+ACK应答后，其状态变为ESTABLISHED，并发送ACK包给Server；如果此时ACK在网络中丢失，那么Server端该TCP连接的状态为SYN_RECV，并且依次等待3秒、6秒、12秒后重新发送SYN+ACK包，以便Client重新发送ACK包，以便Client重新发送ACK包。Server重发SYN+ACK包的次数，可以通过设置/proc/sys/net/ipv4/tcp_synack_retries修改，默认值为5。如果重发指定次数后，仍然未收到ACK应答，那么一段时间后，Server自动关闭这个连接。但是Client认为这个连接已经建立，如果Client端向Server写数据，Server端将以RST包响应，方能感知到Server的错误。</p><p>这里的最后一句其实是有可能是有问题的，不同的tcp实现可能不同，不一定会直接回复rst，真实的情况很可能是如下这样的当客户端在 ESTABLISHED 状态下，开始发送数据包时，会携带上一个「ACK」的确认序号，所以哪怕客户端响应的「ACK」包丢了，服务端在收到这个数据包时，能够通过包内 ACK 的确认序号，正常进入 ESTABLISHED 状态。</p><p>还有一种安全范畴的非正常情况前面一直在说正常的异常逻辑，双方都还算友善，按规矩做事，出现异常主要也是因为网络等客观问题，接下来说一个恶意的情况。如果客户端是恶意的，在发送「SYN」包后，并收到「SYN,ACK」后就不回复了，那么服务端此时处于一种半连接的状态，虽然服务端会通过 tcp_synack_retries 配置重试的次数，不会无限等待下去，但是这也是有一个时间周期的。如果短时间内存在大量的这种恶意连接，对服务端来说压力就会很大，这就是所谓的 SYN FLOOD 攻击。</p><p>我们上面讨论的都是三次握手过程，四次挥手过程，有兴趣可以参考这篇文章，写的不错<a href="https://www.jianshu.com/p/723365a47c6e" target="_blank" rel="noopener">https://www.jianshu.com/p/723365a47c6e</a></p><h1>wireshark看三次握手</h1><p>抓了一个投屏的tcpdump，可以看下三次握手的过程</p><p>参考文章：<a href="https://www.jianshu.com/p/723365a47c6e" target="_blank" rel="noopener">https://www.jianshu.com/p/723365a47c6e</a></p></body></html>]]></content>
    
    <summary type="html">
    
      
      
        &lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;
&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;t
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/h/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/h/</id>
    <published>2020-08-09T12:12:47.833Z</published>
    <updated>2020-08-09T12:12:47.833Z</updated>
    
    <content type="html"><![CDATA[(function(){var h={},mt={},c={id:"f628d86243daf05c564aa17f55e27b02",dm:["jser.me"],js:"tongji.baidu.com/hm-web/js/",etrk:[],cetrk:[],cptrk:[],icon:'/hmt/icon/21|gif|20|20',ctrk:true,align:1,nv:-1,vdur:1800000,age:31536000000,rec:0,rp:[],trust:0,vcard:0,qiao:0,lxb:0,kbtrk:0,pt:0,spa:0,oc:0,aet:'',hca:'A7E69B1157C0B78A',conv:0,med:0,cvcc:'',cvcf:[],apps:''};var t=void 0,v=!0,w=null,x=!1;mt.cookie={};mt.cookie.set=function(a,b,d){var e;d.R&&(e=new Date,e.setTime(e.getTime()+d.R));document.cookie=a+"="+b+(d.domain?"; domain="+d.domain:"")+(d.path?"; path="+d.path:"")+(e?"; expires="+e.toGMTString():"")+(d.Mc?"; secure":"")};mt.cookie.get=function(a){return(a=RegExp("(^| )"+a+"=([^;]*)(;|$)").exec(document.cookie))?a[2]:w};mt.cookie.pc=function(a,b){try{var d="Hm_ck_"+ +new Date;mt.cookie.set(d,"is-cookie-enabled",{domain:a,path:b,R:t});var e="is-cookie-enabled"===mt.cookie.get(d)?"1":"0";mt.cookie.set(d,"",{domain:a,path:b,R:-1});return e}catch(g){return"0"}};mt.lang={};mt.lang.d=function(a,b){return"[object "+b+"]"==={}.toString.call(a)};mt.lang.$a=function(a){return mt.lang.d(a,"Number")&&isFinite(a)};mt.lang.H=function(a){return mt.lang.d(a,"String")};mt.lang.isArray=function(a){return mt.lang.d(a,"Array")};mt.lang.h=function(a){return a.replace?a.replace(/'/g,"'0").replace(/\*/g,"'1").replace(/!/g,"'2"):a};mt.lang.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};mt.lang.G=function(a,b){var d=x;if(a==w||!mt.lang.d(a,"Array")||b===t)return d;if(Array.prototype.indexOf)d=-1!==a.indexOf(b);else for(var e=0;e<a.length;e++)if(a[e]===b){d=v;break}return d};mt.url="{};mt.url.m=function(a,b){var" d="a.match(RegExp(" (^|&|\\?|#)("+b+")="([^&#]*)(&|$|#)",""));return"" d?d[3]:w};="" mt.url.jc="function(a){return(a=a.match(/^(https?:)\/\//))?a[1]:w};mt.url.Rb=function(a){return(a=a.match(/^(https?:\/\/)?([^\/\?#]*)/))?a[2].replace(/.*@/," "):w};mt.url.l="function(a){return(a=mt.url.Rb(a))?a.replace(/:\d+$/,""):a};mt.url.Da=function(a){return(a=a.match(/^(https?:\/\/)?[^\/]*(.*)/))?a[2].replace(/[\?#].*/,"").replace(/^$/,"/"):w};"" (function(){var="" a="mt.lang,b=mt.url;mt.f={};mt.f.Ta=function(d){return" document.getelementbyid(d)};mt.f.ba="function(d){if(!d)return" w;try{d="String(d);if(0===d.indexOf(" !hmcq!"))return"="" d;if(0="==d.indexOf(" !hmcc!"))return"="" document.queryselector(d.substring(6,d.length));for(var="" e="d.split(" "="">"),a=document.body,b=e.length-1;0<=b;b--)if(-1<e[b].indexof("#")){var f="e[b].split(" #")[1];(a="document.getElementById(f))||(a=document.getElementById(decodeURIComponent(f)));e=e.splice(b+1,e.length-(b+1));break}for(d="" 0;a&&d<e.length;){var="" n="String(e[d]).toLowerCase();if(!(" html"="==n||"body"===n)){var"" b="0,q=e[d].match(/\[(\d+)\]/i),f=[];if(q)b=q[1]-1,n=n.split(" [")[0];else"="" if(1!="=a.childNodes.length){for(var" r="0,s=0,m=a.childNodes.length;s<m;s++){var" u="a.childNodes[s];1===u.nodeType&&u.nodeName.toLowerCase()===n&&r++;if(1<r)return" w}if(1!="=r)return" w}for(r="0;r<a.childNodes.length;r++)1===a.childNodes[r].nodeType&&a.childNodes[r].nodeName.toLowerCase()===n&&f.push(a.childNodes[r]);if(!f[b])return" w;a="f[b]}d++}return" a}catch(k){return="" w}};="" mt.f.da="function(a,e){var" l;for(;a.parentnode!="w;){for(var" s="a.parentNode.childNodes[r];if(s.nodeName===a.nodeName&&(f++,s===a&&(n=f),0<n&&1<f))break}if((q=" "!="=a.id)&&e){b.unshift("#"+encodeURIComponent(a.id));break}else"" q&&(q="#" +encodeuricomponent(a.id),q="0<b.length?q+" "="">"+b.join(">"):q,l.push(q)),b.unshift(encodeURIComponent(String(a.nodeName).toLowerCase())+(1<f?"["+n+"]":""));a=a.parentnode}l.push(b.join(">"));return l};mt.f.ka=function(a){return(a=mt.f.Da(a,v))&&a.length?String(a[0]):""};mt.f.Vb=function(a){return mt.f.Da(a,x)};mt.f.Ua=function(a){var e;for(e="A";(a=a.parentNode)&&1==a.nodeType;)if(a.tagName==e)return a;return w};mt.f.Nb=function(a){return 9===a.nodeType?a:a.ownerDocument||a.document};mt.f.Va=function(a){var e={top:0,left:0};if(!a)return e;var b=mt.f.Nb(a).documentElement;"undefined"!==typeof a.getBoundingClientRect&&(e=a.getBoundingClientRect());return{top:e.top+(window.pageYOffset||b.scrollTop)-(b.clientTop||0),left:e.left+(window.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}};mt.f.getAttribute=function(a,e){var b=a.getAttribute&&a.getAttribute(e)||w;if(!b&&a.attributes&&a.attributes.length)for(var l=a.attributes,f=l.length,n=0;n<f;n++)l[n].nodename===e&&(b=l[n].nodevalue);return 10="" b};mt.f.u="function(a){var" e="document" ;a.tagname!="=t&&(e=a.tagName);return" e.tolowercase()};mt.f.yb="function(b){var" ;b.textcontent?e="a.trim(b.textContent):b.innerText&&(e=a.trim(b.innerText));e&&(e=e.replace(/\s+/g," "="" ").substring(0,255));return="" e};mt.f.t="function(d,e){var" g;a.h(d)&&0="==String(d).indexOf(" !hmcq!")?(g="String(d),g=b.m(document.location.href,g.substring(6,g.length))):a.H(d)||(g=mt.f.U(d),"input"===g&&e&&("button"===d.type||"submit"===d.type)?g=a.trim(d.value)||"":"input"===g&&!e&&"password"!==d.type?g=a.trim(d.value)||"":"img"===g?(g=mt.f.getAttribute,g=g(d,"alt")||g(d,"title")||g(d,"src")):g="body"===g||"html"===g?["(hm-default-content-for-",g,")"].join(""):mt.f.Yb(d));return"" string(g||"").substring(0,="" 255)};(function(){(mt.f.gb="function(){function" a(){if(!a.na){a.na="v;for(var" e(){try{document.documentelement.doscroll("left")}catch(b){settimeout(e,1);return}a()}var="" b="x,l=[],f;document.addEventListener?f=function(){document.removeEventListener(" domcontentloaded",f,x);a()}:document.attachevent&&(f="function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",f),a())});(function(){if(!b)if(b=v,"complete"===document.readyState)a.na=v;"" else="" if(document.addeventlistener)document.addeventlistener("domcontentloaded",f,x),window.addeventlistener("load",a,x);else="" if(document.attachevent){document.attachevent("onreadystatechange",f);window.attachevent("onload",a);var="" n="x;try{n=window.frameElement==w}catch(q){}document.documentElement.doScroll&&n&&e()}})();return" function(e){a.na?e():l.push(e)}}()).na="x})();return" mt.f})();mt.event="{};" mt.event.e="function(a,b,d){a.attachEvent?a.attachEvent(" on"+b,function(e){d.call(a,e)}):a.addeventlistener&&a.addeventlistener(b,d,x)};mt.event.preventdefault="function(a){a.preventDefault?a.preventDefault():a.returnValue=x};"" (function(){var="" a="mt.event;mt.g={};mt.g.la=/msie" (\d+\.\d+)="" i.test(navigator.useragent);mt.g.sb="function(){if(document.documentMode)return" document.documentmode;var="" i.exec(navigator.useragent);return="" a?+a[1]||0:0};mt.g.mc="function(){try{return!!navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)&&" undefined"!="=typeof"" document.body.style.webkitfilter&&!window.chrome}catch(a){return="" x}};mt.g.cookieenabled="navigator.cookieEnabled;mt.g.javaEnabled=navigator.javaEnabled();" mt.g.language="navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||" ";mt.g.uc="(window.screen.width||0)+"x"+(window.screen.height||0);mt.g.colorDepth=window.screen.colorDepth||0;mt.g.V=function(){var"" a;a="a||document;return" parseint(window.pageyoffset||a.documentelement.scrolltop||a.body&&a.body.scrolltop||0,10)};mt.g.m="function(){var" parseint(window.innerheight||a.documentelement.clientheight||a.body&&a.body.clientheight||0,10)};mt.g.pb="0;mt.g.$b=function(){var" parseint(window.innerwidth||a.documentelement.clientwidth||a.body.offsetwidth||0,10)};mt.g.orientation="0;(function(){function" b(){var="" mt.g})();mt.o="{};mt.o.parse=function(a){return(new" function("return="" ("+a+")"))()};="" mt.o.stringify="function(){function" a(a){="" ["\\\x00-\x1f]="" .test(a)&&(a="a.replace(/[" \\\x00-\x1f]="" g,function(a){var"="" e;e="a.charCodeAt();return" \\u00"+math.floor(e="" 16).tostring(16)+(e%16).tostring(16)}));return'"'+a+'"'}function"="" b(a){return="">a?"0"+a:a}var d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(e){switch(typeof e){case "undefined":return"undefined";case "number":return isFinite(e)?String(e):"null";case "string":return a(e);case "boolean":return String(e);default:if(e===w)return"null";if(e instanceof Array){var g=["["],d=e.length,f,n,q;for(n=0;n<d;n++)switch(q=e[n],typeof q){case="" "undefined":case="" "function":case="" "unknown":break;default:f&&g.push(","),g.push(mt.o.stringify(q)),f="1}g.push(" ]");return"="" g.join("")}if(e="" instanceof="" date)return'"'+e.getfullyear()+"-"+b(e.getmonth()+1)+"-"+b(e.getdate())+"t"+b(e.gethours())+":"+b(e.getminutes())+":"+b(e.getseconds())+'"';f="[" {"];n="mt.o.stringify;for(d"" in="" e)if(object.prototype.hasownproperty.call(e,d))switch(q="e[d],typeof" "unknown":case="" "function":break;default:g&&f.push(","),g="1,f.push(n(d)+" :"+n(q))}f.push("}");return"="" f.join("")}}}();mt.localstorage="{};mt.localStorage.va=function(){if(!mt.localStorage.l)try{mt.localStorage.l=document.createElement(" input"),mt.localstorage.l.type="hidden" ,mt.localstorage.l.style.display="none" ,mt.localstorage.l.addbehavior("#default#userdata"),document.getelementsbytagname("head")[0].appendchild(mt.localstorage.l)}catch(a){return"="" x}return="" v};="" mt.localstorage.set="function(a,b,d){var" e="new" date;e.settime(e.gettime()+d||31536e6);try{window.localstorage?(b="e.getTime()+" |"+b,window.localstorage.setitem(a,b)):mt.localstorage.va()&&(mt.localstorage.l.expires="e.toUTCString(),mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.setAttribute(a,b),mt.localStorage.l.save(document.location.hostname))}catch(g){}};"" mt.localstorage.get="function(a){if(window.localStorage){if(a=window.localStorage.getItem(a)){var" b="a.indexOf(" |"),d="a.substring(0,b)-0;if(d&&d"">(new Date).getTime())return a.substring(b+1)}}else if(mt.localStorage.va())try{return mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.getAttribute(a)}catch(e){}return w};mt.localStorage.remove=function(a){if(window.localStorage)window.localStorage.removeItem(a);else if(mt.localStorage.va())try{mt.localStorage.l.load(document.location.hostname),mt.localStorage.l.removeAttribute(a),mt.localStorage.l.save(document.location.hostname)}catch(b){}};mt.sessionStorage={};mt.sessionStorage.set=function(a,b){try{window.sessionStorage&&window.sessionStorage.setItem(a,b)}catch(d){}};mt.sessionStorage.get=function(a){try{return window.sessionStorage?window.sessionStorage.getItem(a):w}catch(b){return w}};mt.sessionStorage.remove=function(a){try{window.sessionStorage&&window.sessionStorage.removeItem(a)}catch(b){}};mt.mb={};mt.mb.log=function(a,b){var d=new Image,e="mini_tangram_log_"+Math.floor(2147483648*Math.random()).toString(36);window[e]=d;d.onload=function(){d.onload=w;d=window[e]=w;b&&b(a)};d.src=a};mt.Ka={};mt.Ka.Zb=function(){var a="";if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];b&&b.description&&(a=b.description.replace(/^.*\s+(\S+)\s+\S+$/,"$1"))}else if(window.ActiveXObject)try{if(b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))(a=b.GetVariable("$version"))&&(a=a.replace(/^.*\s+(\d+),(\d+).*$/,"$1.$2"))}catch(d){}return a};mt.Ka.Ic=function(a,b,d,e,g){return'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="'+a+'" width="'+d+'" height="'+e+'"><param name="movie" value="'+b+'"><param name="flashvars" value="'+(g||" ")+'"=""><param name="allowscriptaccess" value="always"><embed type="application/x-shockwave-flash" name="'+a+'" width="'+d+'" height="'+e+'" src="'+b+'" flashvars="'+(g||" ")+'"="" allowscriptaccess="always"></object>'};h.A={hc:"http://tongji.baidu.com/hm-web/welcome/ico",Ja:"hm.baidu.com/hm.gif",xb:/^(tongji|hmcdn).baidu.com$/,ob:"tongji.baidu.com",ec:"hmmd",fc:"hmpl",Fc:"utm_medium",dc:"hmkw",Hc:"utm_term",ac:"hmci",Ec:"utm_content",gc:"hmsr",Gc:"utm_source",bc:"hmcu",Dc:"utm_campaign",N:0,J:Math.round(+new Date/1E3),protocol:"https:"===document.location.protocol?"https:":"http:",pa:"https:",Kc:0,Db:6E5,Lc:6E5,vc:5E3,Eb:5,P:1024,Cb:1,ba:2147483647,nb:"hca kb cc cf ci ck cl cm cp cu cw ds vl ep et fl ja ln lo lt rnd si su v cv lv api sn r ww p ct u tt".split(" "),X:v,Qa:["a","input","button"],Na:{id:"data-hm-id",ga:"data-hm-class",fa:"data-hm-xpath",content:"data-hm-content",sa:"data-hm-tag",link:"data-hm-link"},Pa:"data-hm-enabled",Oa:"data-hm-disabled",rc:"https://hmcdn.baidu.com/static/tongji/plugins/",fb:["UrlChangeTracker","OcpcCbHm"]};(function(){var a={F:{},e:function(a,d){this.F[a]=this.F[a]||[];this.F[a].push(d)},K:function(a,d){this.F[a]=this.F[a]||[];for(var e=this.F[a].length,g=0;g<e;g++)this.f[a][g](d)}};return h.w="a})();" (function(){function="" a(a,e){var="" g="document.createElement(" script");g.charset="utf-8" ;b.d(e,"function")&&(g.readystate?g.onreadystatechange="function(){if("loaded"===g.readyState||"complete"===g.readyState)g.onreadystatechange=w,e()}:g.onload=function(){e()});g.src=a;var"" l="document.getElementsByTagName(" script")[0];l.parentnode.insertbefore(g,l)}var"="" b="mt.lang;return" h.load="a})();" (function(){var="" a="h.A,b={init:function(){if(" "!="=c.icon){var"" href="'+e+'" target="_blank"><img border="0" src="/2020/08/09/TCP-IP系列之三次握手-一_files/h/'+g+'" width="'+b[2]+'" height="'+b[3]+'">':'<a href="'+e+'" target="_blank">'+b[0]+"</a>")}}};h.w.e("pv-b",b.init);return b})();(function(){var a=mt.cookie,b=mt.localStorage,d=mt.sessionStorage,e={getData:function(e){try{return a.get(e)||d.get(e)||b.get(e)}catch(l){}},setData:function(g,l,f){try{a.set(g,l,{domain:e.S(),path:e.ia(),R:f}),f?b.set(g,l,f):d.set(g,l)}catch(n){}},removeData:function(g){try{a.set(g,"",{domain:e.S(),path:e.ia(),R:-1}),d.remove(g),b.remove(g)}catch(l){}},Y:function(a,e){a="."+a.replace(/:\d+/,"");e="."+e.replace(/:\d+/,"");var b=a.indexOf(e);return-1<b&&b+e.length===a.length},oa:function(a,e){a=a.replace( 0="==a.indexOf(e)},S:function(){for(var" ^https?:\="" \="" ,="" "");return="" a="document.location.hostname,b=0,f=c.dm.length;b<f;b++)if(e.Y(a,c.dm[b]))return" c.dm[b].replace(="" (:\d+)?[="" ?#].*="" ,"");return="" a},ia:function(){for(var="" f="c.dm[a];if(-1<f.indexOf(" ")&&e.oa(document.location.href,f))return"="" f.replace(="" ^[^="" ]+(\="" .*)="" ,"$1")+"="" "}return"="" "}};return="" h.ya="e})();" (function(){var="" q="b.parse(decodeURIComponent(d.getData(f)));a.d(q," object")&&(e.user="q)}catch(r){}},B:function(a){var"" b="{};e[a]!==t&&(b=e[a]);a=this.Ea();for(var" in="" b)b.hasownproperty(f)&&(a[f]="b[f]);return" a},ea:function(){for(var="" 1;0<="f;f--){b=e[l[f]];for(var" m="" b)b.hasownproperty(m)&&(a[m]="b[m])}return" a},setproperty:function(f,d,g){var="" u="" d)if(d.hasownproperty(u)){var="" k="a.h(String(u));if(g||!/^_/.test(k)&&!/_$/.test(k)||/^(_iden|ei_|ec_|ex_|en_|et_|el_)$/.test(k)){var" p="d[u];if(p==w)delete" m[k];else{if(a.d(p,"object")||a.d(p,"array"))p="b.stringify(p);p=a.h(String(p));n.nc(f,k,p)&&(m[k]={value:p,scope:n.Xa(f)})}}}" user"="==f&&n.Ha()}},s:function(b){b!==t&&("userId"==="" b&&a.d(e.user,"object")?(delete="" e.user.uid_,n.ha()):"user"="==b&&a.d(e.user," object")?(b="e.user.uid_,e.user=b===t?{}:{uid_:b},n.Ha()):e[b]!==t&&(e[b]={}))},Ha:function(){try{d.setData(f,encodeURIComponent(b.stringify(e.user)),c.age)}catch(a){}},nc:function(a,b,f){var"" d[b],m="x)}return" m},="" o:function(a){var="" a)a.hasownproperty(m)&&(e="[m,a[m].value],(1===a[m].scope||2===a[m].scope)&&e.push(a[m].scope),b.push(e.join(" *")));return"="" b.join("!")},xa:function(a){a="g[a];return" a!="=t?a:g.others}};return" h.q="n})();" a,e="0;e<c.cptrk.length;e++)try{if(a=d.parse(decodeURIComponent(String(c.cptrk[e]))),a.a!==t&&b.d(a.a," object")){var"="" g="a.a,l;for(l" g)g.hasownproperty(l)&&(f.ta[l]="String(g[l]))}}catch(m){}},cb:function(){var" e,b,d;for(d="" f.ta)if(f.ta.hasownproperty(d)&&f.eb[d]="==t&&(e=f.ta[d],e=a.Ba(e)))b=b===t?{}:b,b[d]=a.T(e,x),f.eb[d]=v;return" b},fa:function(){var="" window?(new="" mutationobserver(f.fa)).observe(document.body,{childlist:v,subtree:v}):window.setinterval(f.fa,15e3)},xc:function(a){if(b.d(a,"object")){g.setproperty("pageview",a);a="h.c.b.p;var" e="h.c.b.ep;h.c.b.et=9;h.c.b.ep=" ";h.c.b.p="l(g.B("pageview"));h.c.i();h.c.b.p=a;h.c.b.ep=e;g.s("pageview")}}};f.init();e.e("pv-b",function(){var"" function(l){var="" n="f.getAttribute(a.ua);l=l.clientX+" :"+l.clienty;if(n&&n="==l)f.removeAttribute(a.ua);else"" if(g&&0<g.length&&(f="b.Vb(f))&&f.length)if(n=f.length,l=f[f.length-1],1E4">n*l.split(">").length)for(l=0;l<n;l++)d.lb(a,f[l]);else d.lb(a,l)}}},lb:function(b,d){for(var="" l="{},f=String(d).split(" "="">").length,n=0;n<f;n++)l[d]="",d=d.substring(0,d.lastindexof(">"));b&&(a.d(b,"Object")&&b.Ra)&&b.Ra(l)},tc:function(a,b){return function(d){(d.target||d.srcElement).setAttribute(a.ua,d.clientX+":"+d.clientY);a&&a.z&&(b?a.z(b):a.z("#"+encodeURIComponent(this.id),d.type))}}};return h.Aa=d})();(function(){var a=mt.f,b=mt.o,d=mt.event,e=mt.lang,g=h.A,l=h.Aa,f=h.Q,n=f.O,q={ua:"HM_ce",rb:function(){if(c.cetrk&&c.cetrk.length){d.e(document,"click",l.ha(q,c.cetrk));for(var e=0,f=c.cetrk.length;e<f;e++){var m;try{m="b.parse(decodeURIComponent(String(c.cetrk[e])))}catch(g){m={}}var" k="m.p||" ";-1="==k.indexOf(""">")&&(0===k.indexOf("#")&&(k=k.substring(1)),(k=a.Ta(k))&&d.e(k,"click",l.tc(q,m)))}}},Ra:function(a){if(c.cetrk&&c.cetrk.length)for(var e=0,m=c.cetrk.length;e<m;e++){var d;try{d="b.parse(decodeURIComponent(String(c.cetrk[e])))}catch(f){d=" {}}var="" p="q.Pb(d.p,a);p&&q.z(d,p)}},Pb:function(a,b){a=String(a);if(0<a.indexOf(" *")){var"="" e="RegExp(" ^"+a.replace(="" \[="" g,"\\[").replace(="" \]="" g,"\\]").replace(="" \*="" ,"\\d+")+"$"),d;for(d"="" in="" b)if(b.hasownproperty(d)&&e.test(d))return="" d;return="" w}return="" b.hasownproperty(a)?a:w},z:function(b,d){h.c.b.et="7;var" m="b&&b.k||" ",m="e.h(m),g={};if(b&&b.a&&e.d(b.a,"Object")){var"" k="b.a,p;for(p" k)if(k.hasownproperty(p)){var="" y="q.Wb(k[p]||" ",d),y="y?a.T(y,x):"";g[p]=y}}g=q.Lb(g,d||b&&b.p);g._iden=m;f.setProperty("customEvent","" g);h.c.b.ep="" ;h.c.b.p="n(f.B(" customevent"));h.c.i();h.c.b.p="" ;f.s("customevent")},lb:function(b,e){var"="" d="a.Ba(e),f=g.Na;d&&(c.aet&&c.aet.length?(b.ei_=a.getAttribute(d,f.id)||a.getAttribute(d," id")||"",b.ec_="a.getAttribute(d,f.ga)||a.getAttribute(d,"class")||"",b.ex_=a.getAttribute(d,f.fa)||a.ka(d),b.en_=a.getAttribute(d,f.content)||a.T(d,v),b.et_=a.getAttribute(d,f.sa)||a.U(d),b.el_=a.getAttribute(d,f.link)||a.getAttribute(d,"href")||""):(b.ex_=a.getAttribute(d,f.fa)||a.ka(d),b.en_=a.getAttribute(d,"" f.content)||a.t(d,v)));return="" b},wb:function(b,e){b="String(b);e=String(e);if(0<b.indexOf(" a.ba(b)}};h.w.e("pv-b",q.rb);return="" q})();="" (function(){var="" a="mt.f,b=mt.lang,d=mt.event,e=mt.g,g=h.A,l=[],f={qb:function(){c.ctrk&&(d.e(document," mouseup",f.bb()),d.e(window,"unload",function(){f.qa()}),setinterval(function(){f.qa()},g.db))},bb:function(){return"="" function(a){a="f.Mb(a);if(" "!="=a){var"" b="(g.pa+" "+g.ja+"?"+h.c.jb().replace(="" ep="[^&]*/,"ep="+encodeURIComponent(a))).length;b+(g.ba+"").length"">g.P||(b+encodeURIComponent(l.join("!")+(l.length?"!":"")).length+(g.ba+"").length>g.P&&f.qa(),l.push(a),(l.length>=g.Eb||/\*a\*/.test(a))&&f.qa())}}},Mb:function(d){var l=d.target||d.srcElement;if(0===g.Cb){var r=(l.tagName||"").toLowerCase();if("embed"==r||"object"==r)return""}var s;e.la?(s=Math.max(document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),r=d.clientX+r,s=d.clientY+s):(r=d.pageX,s=d.pageY);d=f.Tb(d,l,r,s);var m=window.innerWidth||document.documentElement.clientWidth||document.body.offsetWidth;switch(c.align){case 1:r-=m/2;break;case 2:r-=m}m=[];m.push(r);m.push(s);m.push(d.aa);m.push(d.ca);m.push(d.sc);m.push(b.h(d.qc));m.push(d.ea);m.push(d.W);(l="a"===(l.tagName||"").toLowerCase()?l:a.Ua(l))?(m.push("a"),m.push(b.h(encodeURIComponent(l.href)))):m.push("b");return m.join("*")},Tb:function(d,f,g,l){d=a.ka(f);var m=0,u=0,k=0,p=0;if(f&&(m=f.offsetWidth||f.clientWidth,u=f.offsetHeight||f.clientHeight,p=a.Va(f),k=p.left,p=p.top,b.d(f.getBBox,"Function")&&(u=f.getBBox(),m=u.width,u=u.height),"html"===(f.tagName||"").toLowerCase()))m=Math.max(m,f.clientWidth),u=Math.max(u,f.clientHeight);return{aa:Math.round(100*((g-k)/m)),ca:Math.round(100*((l-p)/u)),sc:e.orientation,qc:d,ea:m,W:u}},qa:function(){0!==l.length&&(h.c.b.et=2,h.c.b.ep=l.join("!"),h.c.i(),l=[])}};h.w.e("pv-b",f.qb);return f})();(function(){var a=mt.lang,b=mt.f,d=mt.event,e=mt.g,g=h.A,l=h.w,f=h.Q,n=f.O,q=+new Date,r=[],s={ha:function(){return function(e){if(h.c&&h.c.X&&c.aet&&c.aet.length){var d=e.target||e.srcElement;if(d){var f=h.c.Qa,p=b.getAttribute(d,g.Pa)!=w?v:x;if(b.getAttribute(d,g.Oa)==w)if(p)s.wa(s.Ca(d,e));else{var y=b.U(d);if(a.G(f,"*")||a.G(f,y))s.wa(s.Ca(d,e));else for(;d.parentNode!=w;){var p=d.parentNode,y=b.U(p),z="a"===y&&a.G(f,"a")?v:x,y="button"===y&&a.G(f,"button")?v:x,A=b.getAttribute(p,g.Pa)!=w?v:x;if(b.getAttribute(p,g.Oa)==w&&(z||y||A)){s.wa(s.Ca(p,e));break}d=d.parentNode}}}}}},Ca:function(d,f){var k={},p=g.Na;k.id=b.getAttribute(d,p.id)||b.getAttribute(d,"id")||"";k.ga=b.getAttribute(d,p.ga)||b.getAttribute(d,"class")||"";k.fa=b.getAttribute(d,p.fa)||b.ka(d);k.content=b.getAttribute(d,p.content)||b.T(d,v);k.sa=b.getAttribute(d,p.sa)||b.U(d);k.link=b.getAttribute(d,p.link)||b.getAttribute(d,"href")||"";k.type=f.type||"click";p=a.$a(d.offsetTop)?d.offsetTop:0;"click"===f.type?p=e.la?f.clientY+Math.max(document.documentElement.scrollTop,document.body.scrollTop):f.pageY:"touchend"===f.type&&(f.bb&&f.bb.changedTouches)&&(p=f.bb.changedTouches[0].pageY);k.Cc=p;p=this.Ob(f);k.aa=p.aa||0;k.ca=p.ca||0;k.ea=p.ea||0;k.W=p.W||0;k.La=p.La||"b";return k},Ob:function(d){var f=d.target||d.srcElement,k;if(e.la){var p=Math.max(document.documentElement.scrollTop,document.body.scrollTop);k=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);k=d.clientX+k;d=d.clientY+p}else k=d.pageX,d=d.pageY;var y=p=0,z=0,A=0;if(f&&(p=f.offsetWidth||f.clientWidth,y=f.offsetHeight||f.clientHeight,A=b.Va(f),z=A.left,A=A.top,a.d(f.getBBox,"Function")&&(y=f.getBBox(),p=y.width,y=y.height),"html"===(f.tagName||"").toLowerCase()))p=Math.max(p,f.clientWidth),y=Math.max(y,f.clientHeight);return{aa:Math.round(100*((k-z)/p)),ca:Math.round(100*((d-A)/y)),ea:p,W:y,La:("a"===(f.tagName||"").toLowerCase()?f:b.Ua(f))?"a":"b"}},wa:function(b){var d=a.h;b=[+new Date-(h.c.Z!==t?h.c.Z:q),d(b.id),d(b.ga),d(b.sa),d(b.fa),d(b.link),d(b.content),b.type,b.Cc,b.aa,b.ca,b.ea,b.W,b.La].join("*");s.xa(b);a.d(this.da(),"Function")&&this.da()()},xa:function(a){a.length>g.P||(encodeURIComponent(r.join("!")+a).length>g.P&&(s.z(r.join("!")),r=[]),r.push(a))},z:function(a){h.c.b.et=5;h.c.b.ep=a;h.c.b.p=n(f.B("autoEventTracking"));h.c.i();h.c.b.p=""},da:function(){return function(){r&&r.length&&(s.z(r.join("!")),r=[])}}};a.H(c.aet)&&""!==c.aet&&l.e("pv-b",function(){d.e(document,"click",s.ha());"ontouchend"in document&&d.e(window,"touchend",s.ha());d.e(window,"unload",s.da())});return s})();(function(){var a=mt.lang,b=mt.event,d=mt.g,e=h.A,g=h.w,l=+new Date,f=[],n=w,q={vb:function(){a.H(c.aet)&&""!==c.aet&&setInterval(q.ib,e.vc)},ib:function(){var a=d.V()+d.M();0<a-h.c.b.vl&&(h.c.b.vl=a)}},r={hb:function(){return function(){h.c&&(h.c.x&&c.aet&&c.aet.length)&&(window.cleartimeout(n),n="window.setTimeout(function(){r.ub(d.V()+d.M())},150))}},ub:function(a){r.xa([+new" date-(h.c.z!="=t?h.c.Z:l),a].join(" *"))},xa:function(a){if(encodeuricomponent(f.join("!")+a).length"="">e.P||3<f.length)r.z(f.join("!")), f="[];f.push(a)},z:function(a){q.ib();h.c.b.et=6;h.c.b.vh=d.M();h.c.b.ep=a;h.c.i()},da:function(){return" function(){f&&f.length&&(r.z(f.join("!")),f="[])}}};a.H(c.aet)&&" "!="=c.aet&&g.e("pv-b",function(){b.e(window,"scroll",r.Hb());b.e(window,"unload",r.da());q.vb()});return"" r})();="" (function(){function="" a(){return="" function(){h.c.b.nv="0;h.c.b.st=4;h.c.b.et=3;h.c.b.ep=h.za.Ub()+" ,"+h.za.qb();h.c.b.hca="c.hca;h.c.i()}}function"" b(){cleartimeout(z);var="" a;p&&(a="visible" =="document[p]);y&&(a=!document[y]);n=" undefined"="=typeof"" a?v:a;if((!f||!q)&&n&&r)k="v,m=+new" date;else="" if(f&&q&&(!n||!r))k="x,u+=+new" date-m;f="n;q=r;z=setTimeout(b,100)}function" d(a){var="" p="document,b=" ";if(a"="" in="" p)b="a;else" for(var="" d="[" webkit","ms","moz","o"],e="0;e<d.length;e++){var"" if(f="" p){b="f;break}}return" b}function="" e(a){if(!("focus"="=a.type||" blur"="=a.type)||!(a.target&&a.target!=window))r="focus"==a.type||"focusin"==a.type?v:x,b()}var"" g="mt.event,l=h.w,f=v,n=v,q=v,r=v,s=+new" date,m="s,u=0,k=v,p=d(" visibilitystate"),y="d("hidden"),z;b();(function(){var"" a="p.replace(/[vV]isibilityState/," visibilitychange");g.e(document,a,b);g.e(window,"pageshow",b);g.e(window,"pagehide",b);"object"="=typeof"" document.onfocusin?(g.e(document,"focusin",e),g.e(document,"focusout",e)):(g.e(window,="" "focus",e),g.e(window,"blur",e))})();h.za="{Ub:function(){return+new" date-s},qb:function(){return="" k?+new="" date-m+u:u}};l.e("pv-b",function(){g.e(window,"unload",a())});l.e("duration-send",a());l.e("duration-done",function(){m="s=+new" date;u="0});return" h.za})();="" (function(){var="" h.c){var="" l="h.c.S();d([b.protocol," datax.baidu.com="" x.js?si=",c.id," &dm=",encodeURIComponent(l)].join(" "),e)}},bc:function(b){if(a.d(b,"string")||a.d(b,"number"))window._dxt="window._dxt||[],window._dxt.push(["_setUserId",b])}};return"" h.fb="e})();" a(a,b,d,e){if(!(a="==t||b===t||e===t)){if(" "="==a)return[b,d,e].join("*");a=String(a).split("!");for(var"" f,k="x,g=0;g<a.length;g++)if(f=a[g].split(" *"),string(b)="==f[0]){f[1]=d;f[2]=e;a[g]=f.join("*");k=v;break}k||a.push([b,d,e].join("*"));return"" a.join("!")}}function="" b(a){for(var="" a)if({}.hasownproperty.call(a,d)){var="" d:{ma:"",page:""},init:function(){k.j="0;m.init();n.e(" pv-b",function(){k.gb();k.ib()});n.e("pv-d",function(){k.jb();k.d.page="" });n.e("stag-b",function(){h.c.b.api="k.j||k.ra?k.j+"_"+k.ra:"";h.c.b.ct=[decodeURIComponent(s.getData("Hm_ct_"+c.id)||""),k.D.Ma,k.D.page].join("!")});n.e("stag-d",function(){h.c.b.api=0;k.j=0;k.ra=0})},Gb:function(){var"" e.d(p,"array")&&(a.cmd[a.id].push(p),"_setaccount"="==p[0]&&(1<p.length&&/^[0-9a-f]{32}$/.test(p[1]))&&(p=p[1],a.id=p,a.cmd[p]=a.cmd[p]||[]))}}},window._hmt.cmd[c.id]=[],window._hmt.push.apply(window._hmt,a)},Ib:function(){var" b="a.cmd[c.id],d=/^_track(Event|MobConv|Order)$/,e=0,f=b.length;e<f;e++){var" document.location.href);h.c.b.p="u(m.B(" pageview"));h.c.i();h.c.b.u="b;h.c.b.su=d;h.c.b.p="";h.c.Z=+new"" date;m.s("pageview")}},_trackevent:function(a){2<a.length&&(k.j|="8,h.c.b.nv=0,h.c.b.st=4,h.c.b.et=4,h.c.b.ep=e.h(a[1])+" *"+e.h(a[2])+(a[3]?"*"+e.h(a[3]):"")+(a[4]?"*"+e.h(a[4]):""),h.c.b.p="u(m.Ea()),h.c.i(),h.c.b.p="")},_setCustomVar:function(a){if(!(4"">a.length)){var b=a[1],d=a[4]||3;if(0<b&&6>b&&0<d&&4>d){k.ra++;for(var f=(h.c.b.cv||"*").split("!"),g=f.length;g<b-1;g++)f.push("*");f[b-1]=d+"*"+e.h(a[2])+ "*"+e.h(a[3]);h.c.b.cv="f.join(" !");a="h.c.b.cv.replace(/[^1](\*[^!]*){2}/g,"*").replace(/((^|!)\*)+$/g,"");""!==a?s.setData("Hm_cv_"+c.id,encodeURIComponent(a),c.age):s.removeData("Hm_cv_"+c.id)}}},_setUserTag:function(b){if(!(3"">b.length)){var d=e.h(b[1]);b=e.h(b[2]);if(d!==t&&b!==t){var f=decodeURIComponent(s.getData("Hm_ct_"+c.id)||""),f=a(f,d,1,b);s.setData("Hm_ct_"+c.id,encodeURIComponent(f),c.age)}}},_setVisitTag:function(b){if(!(3>b.length)){var d=e.h(b[1]);b=e.h(b[2]);if(d!==t&&b!==t){var f=k.D.Ma,f=a(f,d,2,b);k.D.Ma=f}}},_setPageTag:function(b){if(!(3>b.length)){var d=e.h(b[1]);b=e.h(b[2]);if(d!==t&&b!==t){var f=k.D.page,f=a(f,d,3,b);k.D.page=f}}},_setReferrerOverride:function(a){1<a.length&&(h.c.b.su=a[1].charat&&" 0="==a.indexOf(b)},ma:function(a){for(var" "="==a[1].charAt(0)?f.protocol+" "+window.location.host+a[1]:a[1],k.ab="v)},_trackOrder:function(a){a=a[1];e.d(a,"Object")&&(b(a),k.j|=16,h.c.b.nv=0,h.c.b.st=4,h.c.b.et=94,h.c.b.ep=g.stringify(a),h.c.b.p=u(m.Ea()),h.c.i(),h.c.b.p="")},_trackMobConv:function(a){if(a={webim:1,"" tel:2,map:3,sms:4,callback:5,share:6}[a[1]])k.j|="32,h.c.b.et=93,h.c.b.ep=a,h.c.i()},_setDataxId:function(a){a=a[1];q.ic();q.Bc(a)},_setUserId:function(a){a=a[1];if(a!==t&&(e.H(a)||e.$a(a))){var" b="m.B(" user").uid_;if(!(b&&b.value="==e.h(String(a)))){var"" f="{};f.uid_=a;m.setProperty(" user",f,v);h.c.b.p="b;h.c.b.ep=d}}},_clearUserId:function(a){1<a.length&&v===a[1]&&m.s("userId")},_setUserProperty:function(a){a=a[1];"" e.d(a,"object")&&m.setproperty("user",a)},_clearuserproperty:function(a){1<a.length&&v="==a[1]&&m.s(" user")},_setsessionproperty:function(a){a="a[1];e.d(a,"Object")&&m.setProperty("session",a)},_clearSessionProperty:function(a){1<a.length&&v===a[1]&&m.s("session")},_setPageviewProperty:function(a){a=a[1];e.d(a,"Object")&&m.setProperty("pageview",a)},_clearPageviewProperty:function(a){1<a.length&&v===a[1]&&m.s("pageview")},_setAutoEventTrackingProperty:function(a){a=a[1];e.d(a,"Object")&&m.setProperty("autoEventTracking","" a)},_clearautoeventtrackingproperty:function(a){1<a.length&&v="==a[1]&&m.s(" autoeventtracking")},_setautotracking:function(a){if(1<a.length&&(a="a[1],x===a||v===a))h.c.Za=a},_setAutoEventTracking:function(a){if(1<a.length&&(a=a[1],x===a||v===a))h.c.X=a},_trackPageDuration:function(a){1<a.length?(a=a[1],2===String(a).split(",").length&&(h.c.b.et=3,h.c.b.ep=a,h.c.i())):n.K("duration-send");n.K("duration-done")},_require:function(a){1<a.length&&(a=a[1],f.xb.test(d.L(a))&&r(a))},_providePlugin:function(a){if(1<"" a.length){var="" k="0,g=a.length;k<g;k++){var" l="a[k][2]||{};if(b.plugins[d]&&!b.I[d])b.I[d]=new" b.plugins[d](l),b.c.shift();else="" break}}},_requireplugin:function(a){if(1<a.length){var="" b.plugins[d](g);else{b.c="b.C||" [];for(var="" g="0,l=b.C.length;g<l;g++)if(b.C[g][1]===d)return;b.C.push(a);k._require([w,f.rc+d+" .js"])}}},_trackcustomevent:function(a){if(1<a.length){var"="" h.yb})();="" (function(){var="" a="h.w;c.spa!==t&&" 1"="==String(c.spa)&&(window._hmt=window._hmt||[],window._hmt.push(["_requirePlugin","UrlChangeTracker"]),a.e("pv-b",function(){""!==window.location.hash&&(h.c.b.u=window.location.href)}))})();"" (function(){function="" a(){"undefined"="==typeof" window["_bdhm_loaded_"+c.id]&&(window["_bdhm_loaded_"+c.id]="v,this.b={},this.Za=this.Ya=v,this.X=k.X,this.Qa=g.H(c.aet)&&0<c.aet.length?c.aet.split(" ,"):"",this.ga="x,this.init())}var"" d="a.indexOf(b);return-1<d&&d+b.length===a.length},oa:function(a," b){a="a.replace(/^https?:\/\//," ");return"="" v}else{var="" e="b.L(a);if(e&&this.Y(e,c.dm[d]))return" v}return="" x},s:function(){for(var="" c.dm[b].replace(="" (:\d+)?[="" ?#].*="" ,"");return="" a},ia:function(){for(var="" d.replace(="" ^[^="" ]+(\="" .*)="" ,="" "$1")+"="" "}return"="" "},xb:function(){if(!document.referrer)return="" k.j-k.n="">c.vdur?1:4;var a=x;this.ma(document.referrer)&&this.ma(document.location.href)?a=v:(a=b.L(document.referrer),a=this.Y(a||"",document.location.hostname));return a?k.J-k.N>c.vdur?1:4:3},zc:function(){var a,b,d,e,f,g;k.N=s.getData("Hm_lpvt_"+c.id)||0;13===k.N.length&&(k.N=Math.round(k.N/1E3));b=this.Xb();a=4!==b?1:0;if(g=s.getData("Hm_lvt_"+c.id)){e=g.split(",");for(f=e.length-1;0<=f;f--)13===e[f].length&&(e[f]=""+math.round(e[f] 1e3));for(;2592e3<k.j-e[0];)e.shift();f="4">e.length?2:3;for(1===a&&e.push(k.J);4<e.length;)e.shift();g=e.join(",");e=e[e.length-1]}else g="k.J,e=" ",f="1;this.lc()?(s.setData("Hm_lvt_"+c.id,g,c.age),s.setData("Hm_lpvt_"+c.id,k.J),d=l.pc(this.S(),this.ia())):this.Kb();if(0===c.nv&&this.ma(document.location.href)&&(""===document.referrer||this.ma(document.referrer)))a=0,b=4;this.b.nv=a;this.b.st=b;this.b.cc=d;this.b.lt=e;this.b.lv=f},lc:function(){var"" a="b.L(document.location.href);return!g.G(" sjh.baidu.com"="" isite.baidu.com="" ls.wejianzhan.com="" bs.wejianzhan.com="" product.weijianzhan.com="" qianhu.weijianzhan.com="" aisite.wejianzhan.com".split("="" "),="" a)},kb:function(){for(var="" d="a[b].split(" =");d.length&&="" hm_(up|ct|cv|lp?vt)_[0-9a-f]{31}="" .test(string(d[0]))&&s.removedata(d[0]);d.length&&="" hm_ck_[0-9]{13}="" .test(string(d[0]))&&s.removedata(d[0])}},jb:function(){for(var"="" f="k.nb[d],g=this.b[f];" undefined"!="=typeof"" g&&""!="=g&&(" tt"!="=f||"tt"===f&&0===b)&&("ct"!==f||"ct"===f&&0===b)&&a.push(f+"="+encodeURIComponent(g))}return"" a.join("&")},ac:function(){this.zc();="" this.b.si="c.id;this.b.sn=this.Wa();this.b.su=document.referrer;this.b.ds=f.uc;this.b.cl=f.colorDepth+" -bit";this.b.ln="String(f.language).toLowerCase();this.b.ja=f.javaEnabled?1:0;this.b.ck=f.cookieEnabled?1:0;this.b.lo="number"===typeof"" _bdhm_top?1:0;this.b.fl="e.Zb();this.b.v=" 1.2.75";this.b.cv="decodeURIComponent(s.getData("Hm_cv_"+c.id)||"");this.b.tt=document.title||"";this.b.vl=f.V()+f.M();var"" k.dc)||b.m(a,k.hc)||"";this.b.ci="b.m(a,k.ac)||b.m(a,k.Ec)||" ";this.b.cf="b.m(a,k.gc)||b.m(a,k.Gc)||"";this.b.cu=b.m(a,k.bc)||b.m(a,k.Dc)||"";f.mc()&&(this.b.u=window.location.href)},init:function(){try{this.Ac(),0===this.b.nv?this.yc():this.Sa(),h.c=this,this.Ab(),this.zb(),y.K("pv-b"),this.wc()}catch(a){var"" b="[];b.push(" si="+c.id);b.push(" n="+encodeURIComponent(a.name));b.push(" m="+encodeURIComponent(a.message));b.push(" r="+encodeURIComponent(document.referrer));d.log(k.pa+" "+k.ja+"?"+b.join("&"))}},"="" wc:function(){function="" a(){y.k("pv-d")}this.ya?(this.ga="v,this.b.et=0,this.b.ep=" ",this.b.p="u(m.B("pageview")),this.b.vl=f.V()+f.M(),this.i(a),this.b.p=""):a();this.Z=+new"" date;m.s("pageview")},i:function(a){if(this.za){var="" e="k.pa+" "+k.ja+"?"+b.jb();y.k("stag-d");b.wb(e);d.log(e,function(d){b.hb(d);g.d(a,"function")&&a.call(b)})}},ab:function(){var"="" k.ob){d="d.data||{};var" b;try{b="q.parse(n.get(" hm_unsent_"+c.id)||"[]")}catch(d){b="[]}var"" c.id,q.stringify(b))},hb:function(a){var="" math.round(+new="" date="" 1e3)%65535}};return="" new="" a})();var="" (function(){var="" h.c&&(c.med||(!a.la||7<a.sb())&&c.cvcc)){var="" g,l,f,n,q="function(a){if(a.item){for(var" d}return[].slice.call(a)},r="function(a,b){for(var" in="" a)if(a.hasownproperty(d)&&b.call(a,d,a[d])="==x)return" x},s="function(a,d){var" k="{};k.n=g;k.t=" clk";k.v="a;if(d){var"" l="d.getAttribute(" href"),m="d.getAttribute("onclick")?""+d.getAttribute("onclick"):w,n=d.getAttribute("id")||"";f.test(l)?(k.sn="" "mediate",k.snv="l):b.d(m," string")&&f.test(m)&&(k.sn="wrap" ,k.snv="m);k.id=n}h.c.b.et=86;h.c.b.ep=e.stringify(k);h.c.i();for(k=+new"" date;400="">=+new Date-k;);};if(c.med)l="/zoosnet",g="swt",f=/swt|zixun|call|chat|zoos|business|talk|kefu|openkf|online|\/LR\/Chatpre\.aspx/i,n={click:function(){for(var a=[],b=q(document.getElementsByTagName("a")),b=[].concat.apply(b,q(document.getElementsByTagName("area"))),b=[].concat.apply(b,q(document.getElementsByTagName("img"))),d,e,g=0,k=b.length;g</e.length;)e.shift();g=e.join(",");e=e[e.length-1]}else></=f;f--)13===e[f].length&&(e[f]=""+math.round(e[f]></a.length&&(h.c.b.su=a[1].charat&&"></b-1;g++)f.push("*");f[b-1]=d+"*"+e.h(a[2])+></d&&4></b&&6></f.length)r.z(f.join("!")),></a-h.c.b.vl&&(h.c.b.vl=a)}},r={hb:function(){return></m;e++){var></f;e++){var></f;n++)l[d]="",d=d.substring(0,d.lastindexof("></n;l++)d.lb(a,f[l]);else></b&&b+e.length===a.length},oa:function(a,e){a=a.replace(></e;g++)this.f[a][g](d)}};return></d;n++)switch(q=e[n],typeof></f;n++)l[n].nodename===e&&(b=l[n].nodevalue);return></f?"["+n+"]":""));a=a.parentnode}l.push(b.join("></=b;b--)if(-1<e[b].indexof("#")){var></a.length;e++)if(a[e]===b){d=v;break}return>]]></content>
    
    <summary type="html">
    
      
      
        (function(){var h={},mt={},c={id:&quot;f628d86243daf05c564aa17f55e27b02&quot;,dm:[&quot;jser.me&quot;],js:&quot;tongji.baidu.com/hm-web/js/&quot;,etrk:[],cetrk:[],cptrk:[
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/mahua/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/mahua/</id>
    <published>2020-08-09T12:12:47.825Z</published>
    <updated>2020-08-09T12:12:47.825Z</updated>
    
    <content type="html"><![CDATA[body{  padding:0;  margin:0;}.mahua-left, .mahua-right{    width:50%;    height:100%;} .mahua-right{    width:50%;    margin-left:50%;}.mahua-preview{    height:100%;     width:100%;    border:none;}.mahua-toolbar, .mahua-donate-detail{    position:absolute;    top:0;    right:5px;    background:rgba(0,0,0,0.8);    color:#FFF;    padding:5px;    border-bottom-right-radius:5px;    border-bottom-left-radius:5px;}.mahua-toolbar td{    text-align:right;    padding:2px 0;}.mahua-toolbar td a{    color:#FFF;    font-size:0.8em;}.mahua-toolbar td + td{    text-align:left;}.mahua-topbar{    position:absolute;    margin:0px;    top:0;    right:5px;    height:32px;    padding:5px;}.mahua-topbar li{  width:32px;  height:32px;  display:inline-block;  *zoom:1;  *display:inline;}.mahua-config{    background:url('./settings.png') no-repeat;}.mahua-donate{    background:url('./donate.png') no-repeat;}.mahua-session{    background:url('./session.png') no-repeat;}.mahua-donate-detail td{    text-align:right;}.mahua-spliter{   width:3px;    position:absolute;   left:50%;   height:100%;   z-index:10000;   border:2px dashed #CCC;   cursor:ew-resize;}.mahua-docanme{   position:absolute;   padding:5px;   left:50%;   background:rgba(0,0,0,0.8);   color:#fff;   border-bottom-right-radius:5px;   border-bottom-left-radius:5px;   z-index:99999;}]]></content>
    
    <summary type="html">
    
      
      
        body{
  padding:0;
  margin:0;
}
.mahua-left, .mahua-right{
    width:50%;
    height:100%;
} 
.mahua-right{
    width:50%;
    margin-left:
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/theme-monokai/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/theme-monokai/</id>
    <published>2020-08-09T12:12:47.825Z</published>
    <updated>2020-08-09T12:12:47.825Z</updated>
    
    <content type="html"><![CDATA[ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(a,b,c){b.isDark=!0,b.cssClass="ace-monokai",b.cssText=".ace-monokai .ace_editor {  border: 2px solid rgb(159, 159, 159);}.ace-monokai .ace_editor.ace_focus {  border: 2px solid #327fbd;}.ace-monokai .ace_gutter {  background: #2f3129;  color: #f1f1f1;}.ace-monokai .ace_print_margin {  width: 1px;  background: #555651;}.ace-monokai .ace_scroller {  background-color: #272822;}.ace-monokai .ace_text-layer {  color: #F8F8F2;}.ace-monokai .ace_cursor {  border-left: 2px solid #F8F8F0;}.ace-monokai .ace_cursor.ace_overwrite {  border-left: 0px;  border-bottom: 1px solid #F8F8F0;}.ace-monokai .ace_marker-layer .ace_selection {  background: #49483E;}.ace-monokai.multiselect .ace_selection.start {  box-shadow: 0 0 3px 0px #272822;  border-radius: 2px;}.ace-monokai .ace_marker-layer .ace_step {  background: rgb(102, 82, 0);}.ace-monokai .ace_marker-layer .ace_bracket {  margin: -1px 0 0 -1px;  border: 1px solid #49483E;}.ace-monokai .ace_marker-layer .ace_active_line {  background: #49483E;}.ace-monokai .ace_gutter_active_line {  background-color: #191916;}.ace-monokai .ace_marker-layer .ace_selected_word {  border: 1px solid #49483E;}.ace-monokai .ace_invisible {  color: #49483E;}.ace-monokai .ace_keyword, .ace-monokai .ace_meta {  color:#F92672;}.ace-monokai .ace_constant.ace_language {  color:#AE81FF;}.ace-monokai .ace_constant.ace_numeric {  color:#AE81FF;}.ace-monokai .ace_constant.ace_other {  color:#AE81FF;}.ace-monokai .ace_invalid {  color:#F8F8F0;background-color:#F92672;}.ace-monokai .ace_invalid.ace_deprecated {  color:#F8F8F0;background-color:#AE81FF;}.ace-monokai .ace_support.ace_constant {  color:#66D9EF;}.ace-monokai .ace_fold {    background-color: #A6E22E;    border-color: #F8F8F2;}.ace-monokai .ace_support.ace_function {  color:#66D9EF;}.ace-monokai .ace_storage {  color:#F92672;}.ace-monokai .ace_storage.ace_type,  .ace-monokai .ace_support.ace_type{  font-style:italic;color:#66D9EF;}.ace-monokai .ace_variable {  color:#A6E22E;}.ace-monokai .ace_variable.ace_parameter {  font-style:italic;color:#FD971F;}.ace-monokai .ace_string {  color:#E6DB74;}.ace-monokai .ace_comment {  color:#75715E;}.ace-monokai .ace_entity.ace_other.ace_attribute-name {  color:#A6E22E;}.ace-monokai .ace_entity.ace_name.ace_function {  color:#A6E22E;}.ace-monokai .ace_markup.ace_underline {    text-decoration:underline;}.ace-monokai .ace_indent-guide {  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNQ11D6z7Bq1ar/ABCKBG6g04U2AAAAAElFTkSuQmCC) right repeat-y;}";var d=a("../lib/dom");d.importCssString(b.cssText,b.cssClass)})]]></content>
    
    <summary type="html">
    
      
      
        ace.define(&quot;ace/theme/monokai&quot;,[&quot;require&quot;,&quot;exports&quot;,&quot;module&quot;,&quot;ace/lib/dom&quot;],function(a,b,c){b.isDark=!0,b.cssClass=&quot;ace-monokai&quot;,b.cssText=&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/proxy_data/hibot/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/proxy_data/hibot/</id>
    <published>2020-08-09T12:12:47.825Z</published>
    <updated>2020-08-09T12:12:47.825Z</updated>
    
    <content type="html"><![CDATA[var Character={UNDER_LINE:"_",ZERO:"0",SLASH:"/",BACK_SLASH:"\\",SINGLE_QUOTE:"'",DOUBLE_QUOTE:'"',SPACE:" ",TAB:"\t",ENTER:"\r",LINE:"\n",LEFT_PARENTHESE:"(",RIGHT_PARENTHESE:")",LEFT_BRACKET:"[",RIGHT_BRACKET:"]",LEFT_BRACE:"{",RIGHT_BRACE:"}",LEFT_ANGLE_BRACE:"<",right_angle_brace:">",STAR:"*",EXCLAMATION:"!",COLON:":",SEMICOLON:",",DECIMAL:".",DOLLAR:"$",QUESTION:"?",SHARP:"#",AT:"@",ADD:"+",MINUS:"-",PERCENT:"%",AND:"&",LESS:"<",isdigit:function(a){return"0"<=a&&"9">=a},isDigit16:function(a){return this.isDigit(a)||"a"<=a&&"f">=a||"A"<=a&&"f">=a},isDigitOrDecimal:function(a){return this.isDigit(a)||a==this.DECIMAL},isLetter:function(a){return"a"<=a&&"z">=a||"A"<=a&&"z">=a},isLetterOrDigit:function(a){return this.isLetter(a)||this.isDigit(a)},isIdentifiers:function(a){return this.isLetterOrDigit(a)||a==this.UNDER_LINE},isLong:function(a){return"l"==a||"L"==a},isFloat:function(a){return"f"==a||"F"==a},isDouble:function(a){return"d"==a||"D"==a},isX:function(a){return"x"==a||"X"==a},isB:function(a){return"b"==a||"B"==a},isBlank:function(a){return a==this.SPACE||a==this.TAB},isExponent:function(a){return"e"==a||"E"==a},isQuote:function(a){return a==this.DOUBLE_QUOTE||a==this.SINGLE_QUOTE}},HtmlEncode=function(){return{AND:"&amp;",LESS:"&lt;",BLANK:"&nbsp;",TAB:"&nbsp;&nbsp;&nbsp;&nbsp;",ESCAPE:"\\\\",CHARS:[Character.AND,Character.TAB,Character.SPACE,Character.LESS],ESCAPES:["&amp;","&nbsp;&nbsp;&nbsp;&nbsp;","&nbsp;","&lt;"],encodeChar:function(a){switch(a){case Character.SPACE:return this.BLANK;case Character.TAB:return this.TAB;case Character.BACK_SLASH:return this.ESCAPE;case Character.AND:return this.AND;case Character.LESS:return this.LESS}return a},encode:function(a){for(var b=0;b<this.chars.length;b++)-1<a.indexof(this.chars[b])&&(a=a.replace(regexp(this.chars[b],"g"),this.escapes[b]));-1<a.indexof("\\")&&(a=a.replace( \\="" g,this.escape));return="" a},encodewithline:function(a,b){a="this.encode(a);-1<a.indexOf(" \n")&&(a="a.replace(/\n/g,"</span"">"+b));return a}}}(),HighLighter=function(){function a(a){return'<span class="'+a+'">'}function b(a,b){return'<span class="'+a+'">'+b+"</span>"}return{COMMENT:"comment",STRING:"string",HEAD:"head",CDATA:"cdata",REG:"reg",number:function(a){return b("num",a)},keyword:function(a){return b("keyword",a)},string:function(a){return b("string",a)},comment:function(a){return b("comment",a)},variable:function(a){return b("variable",a)},regular:function(a){return b("reg",a)},annot:function(a){return b("annot",a)},head:function(a){return b("head",a)},attr:function(a){return b("attr",a)},val:function(a){return b("val",a)},cdata:function(a){return b("cdata",a)},ns:function(a){return b("namespace",a)},commentStart:function(){return a("comment")},stringStart:function(){return a("string")},regStart:function(){return a("reg")},headStart:function(){return a("head")},cdataStart:function(){return a("cdata")}}}(),HashMap=function(a){this.hash={};this.index=0;this.hasKey=function(a){return!0==this.hash[a]};for(var b=0;b<a.length;b++)this.hash[a[b]]=!0},stringbuilder=function(a){this.append= function(a){this.s+="a};this.has=function(a){return-1<this.s.indexOf(a)};this.clear=function(){this.s=" "};this.tostring="function(){return"" this.s};this.s="a};function" abstractparser(a){this.peek="" ;this.index="this.depth=this.line=0;this.words=new" hashmap(a);this.result="new" stringbuilder('<li="" rel="0">')}AbstractParser.prototype={result:"",words:"",peek:"",code:"",index:0,depth:0,line:0,parse:function(a){this.code=a;this.scan();return this.result.toString()+""},isFinish:function(){return this.index>this.code.length},scan:function(){throw Error("scan\u65b9\u6cd5\u5fc5\u987b\u88ab\u5b50\u7c7b\u6240\u5b9e\u73b0");},dealBlank:function(a){for(void 0==a&&(a=!0);;this.readch())if(Character.isBlank(this.peek))this.result.append(HtmlEncode.encodeChar(this.peek));else if(a)if(this.peek==Character.LINE)this.genNewLine();else break;else break},inheritDealSign:function(){},dealSign:function(){this.inheritDealSign();this.result.append(HtmlEncode.encodeChar(this.peek));this.readch()},dealNumber:function(){var a=this.index-1;if(this.peek==Character.ZERO)if(this.readch(),Character.isX(this.peek)){for(this.readch();this.index<this.code.length&&character.isdigit16(this.peek);)this.readch();if(this.peek!=character.decimal){this.result.append(highlighter.number(this.code.slice(a,this.index-1)));return}}else if(character.isb(this.peek)){for(this.readch();this.index<="" this.code.length&&character.isdigit(this.peek);)this.readch();if(this.peek!="Character.DECIMAL){this.result.append(HighLighter.number(this.code.slice(a,this.index-1)));return}}else{if(this.peek!=Character.DECIMAL){this.result.append(HighLighter.number(Character.ZERO));return}}else{do" this.readch();while(character.isdigit(this.peek)||this.peek="=Character.UNDER_LINE)}if(Character.isLong(this.peek))this.index==a+2&&this.code.charAt(a)==Character.DECIMAL?this.result.append(this.code.slice(a,this.index)):" this.result.append(highlighter.number(code.slice(a,this.index))),this.readch();else{if(this.peek="=Character.DECIMAL){do" this.readch();while(character.isdigit(this.peek));if(character.isfloat(this.peek)||character.isdouble(this.peek)){this.readch();a="code.slice(a,this.index-1);2<a.length&&(a=HighLighter.number(a));this.result.append(a);return}}if(Character.isExponent(this.peek)){this.readch();for((this.peek==Character.ADD||this.peek==Character.MINUS)&&this.readch();Character.isDigit(this.peek);)this.readch()}a=" code.slice(a,this.index-1);a.charat(0)!="Character.DECIMAL&&!Character.isLetter(a.charAt(1))&&(a=HighLighter.number(a));this.result.append(a)}},readch:function(){this.peek=this.code.charAt(this.index++)},genNewLine:function(){this.result.append(this.getNewLine());this.line++},getNewLine:function(){return'&nbsp;</li"><li rel="'+this.depth+'">'},isKeyword:function(a){return this.words.hasKey(a)}};$extend=function(a,b){for(var c in b)a[c]=b[c]};function CSeriesParser(a){AbstractParser.call(this,a)}$extend(CSeriesParser.prototype,AbstractParser.prototype);$extend(CSeriesParser.prototype,{dealString:function(a,b){var c=this.index-1,a=a||'"';for(void 0==b&&(b=!1);this.index<=this.code.length;)if(this.readch(),this.peek==character.back_slash){if(this.readch(),!b&&this.peek==character.line)break}else if(this.peek="=a||this.peek==Character.LINE)break;this.result.append(HighLighter.string(HtmlEncode.encodeWithLine(this.code.slice(c,this.index),this.getNewLine()+HighLighter.stringStart())));this.readch()},dealSingleComment:function(){var" a="code.indexOf(" \n","="" this.index);this.index-="2;-1==a&&(a=this.code.length);this.result.append(HighLighter.comment(HtmlEncode.encode(this.code.slice(this.index,a))));this.index=a;this.readch()},dealMultiComment:function(){this.depth++;var" character.left_brace?this.depth++:this.peek="=Character.RIGHT_BRACE&&this.depth--}});function" compileparser(a){cseriesparser.call(this,a)}$extend(compileparser.prototype,cseriesparser.prototype);="" $extend(compileparser.prototype,{dealchar:function(){var="" function="" ecmascriptparser(a){cseriesparser.call(this,a);this.isperlreg="!0}$extend(EcmascriptParser.prototype,CSeriesParser.prototype);" $extend(ecmascriptparser.prototype,{scan:function(){for(this.readch();this.index<="this.code.length;)this.dealBlank(),this.peek==Character.SLASH?(this.readch(),this.peek==Character.SLASH?this.dealSingleComment():this.peek==Character.STAR?this.dealMultiComment():this.isPerlReg?(this.dealPerlReg(),this.isPerlReg=!0):(this.result.append(" "),this.isperlreg="!1)):Character.isQuote(this.peek)?(this.dealString(this.peek,!0),this.isPerlReg=!0):Character.isDigitOrDecimal(this.peek)?(this.dealNumber(),this.isPerlReg="" !1):character.isidentifiers(this.peek)||this.peek="=Character.DOLLAR?(this.dealWord(),this.isPerlReg=!1):(this.isPerlReg=this.peek==Character.RIGHT_PARENTHESE?!1:!0,this.dealSign())},dealWord:function(){for(var" this.code.length;){if(this.peek="=Character.BACK_SLASH)this.readch();else" a}else="" a;this.readch()}this.result.append(highlighter.regular(htmlencode.encodewithline(this.code.slice(a,="" this.index-1),this.getnewline()+highlighter.regstart())))}});="" javascriptparser(){ecmascriptparser.call(this,"if,else,for,break,case,continue,function,true,switch,default,do,while,int,float,double,long,short,char,null,public,super,in,false,abstract,boolean,byte,class,const,debugger,delete,static,void,synchronized,this,import,enum,export,extends,final,finally,goto,implements,protected,throw,throws,transient,instanceof,interface,native,new,package,private,try,typeof,var,volatile,with,document,window,return,function,string,date,array,object,regexp,event,math,number".split(","))}="" $extend(javascriptparser.prototype,ecmascriptparser.prototype);$extend(javascriptparser.prototype,{embedparse:function(a,b){this.depth="b;var" c="this.parse(a);return" c.slice(12,c.length-5)}});="" cssparser(){this.values="new" hashmap("above,absolute,all,always,aqua,armenian,attr,aural,auto,avoid,baseline,behind,below,bidi-override,black,blink,block,blue,bold,bolder,both,bottom,braille,capitalize,caption,center,center-left,center-right,circle,close-quote,code,collapse,compact,condensed,continuous,counter,counters,crop,cross,crosshair,cursive,dashed,decimal,decimal-leading-zero,default,digits,disc,dotted,double,embed,embossed,e-resize,expanded,extra-condensed,extra-expanded,fantasy,far-left,far-right,fast,faster,fixed,format,fuchsia,gray,green,groove,handheld,hebrew,help,hidden,hide,high,higher,icon,inline-table,inline,inset,inside,invert,italic,justify,landscape,large,larger,left-side,left,leftwards,level,lighter,lime,line-through,list-item,local,loud,lower-alpha,lowercase,lower-greek,lower-latin,lower-roman,lower,low,ltr,marker,maroon,medium,message-box,middle,mix,move,narrower,navy,ne-resize,no-close-quote,none,no-open-quote,no-repeat,normal,nowrap,n-resize,nw-resize,oblique,olive,once,open-quote,outset,outside,overline,pointer,portrait,pre,print,projection,purple,red,relative,repeat,repeat-x,repeat-y,rgb,ridge,right,right-side,rightwards,rtl,run-in,screen,scroll,semi-condensed,semi-expanded,separate,se-resize,show,silent,silver,slower,slow,small,small-caps,small-caption,smaller,soft,solid,speech,spell-out,square,s-resize,static,status-bar,sub,super,sw-resize,table-caption,table-cell,table-column,table-column-group,table-footer-group,table-header-group,table-row,table-row-group,teal,text-bottom,text-top,thick,thin,top,transparent,tty,tv,ultra-condensed,ultra-expanded,underline,upper-alpha,uppercase,upper-latin,upper-roman,url,visible,wait,white,wider,w-resize,x-fast,x-high,x-large,x-loud,x-low,x-slow,x-small,x-soft,xx-large,xx-small,yellow".split(","));this.defaultdepth="0;CSeriesParser.call(this," ascent,azimuth,background-attachment,background-color,background-image,background-position,background-repeat,background,baseline,bbox,border-collapse,border-color,border-spacing,border-style,border-top,border-right,border-bottom,border-left,border-top-color,border-right-color,border-bottom-color,border-left-color,border-top-style,border-right-style,border-bottom-style,border-left-style,border-top-width,border-right-width,border-bottom-width,border-left-width,border-width,border,bottom,cap-height,caption-side,centerline,clear,clip,color,content,counter-increment,counter-reset,cue-after,cue-before,cue,cursor,definition-src,descent,direction,display,elevation,empty-cells,float,font-size-adjust,font-family,font-size,font-stretch,font-style,font-variant,font-weight,font,height,left,letter-spacing,line-height,list-style-image,list-style-position,list-style-type,list-style,margin-top,margin-right,margin-bottom,margin-left,margin,marker-offset,marks,mathline,max-height,max-width,min-height,min-width,orphans,outline-color,outline-style,outline-width,outline,overflow,padding-top,padding-right,padding-bottom,padding-left,padding,page,page-break-after,page-break-before,page-break-inside,pause,pause-after,pause-before,pitch,pitch-range,play-during,position,quotes,right,richness,size,slope,src,speak-header,speak-numeral,speak-punctuation,speak,speech-rate,stemh,stemv,stress,table-layout,text-align,top,text-decoration,text-indent,text-shadow,text-transform,unicode-bidi,unicode-range,units-per-em,vertical-align,visibility,voice-family,volume,white-space,widows,width,widths,word-spacing,x-height,z-index".split(","))}"="" $extend(cssparser.prototype,cseriesparser.prototype);="" $extend(cssparser.prototype,{scan:function(){for(this.readch();this.index<="this.code.length;)this.dealBlank(),this.peek==Character.SLASH?(this.readch(),this.peek==Character.SLASH?this.dealSingleComment():this.peek==Character.STAR?this.dealMultiComment():this.result.append(" ")):this.peek="=Character.SHARP&&0<this.depth?this.dealColor():Character.isQuote(this.peek)?this.dealString(this.peek):Character.isDigitOrDecimal(this.peek)?this.dealNum():Character.isLetter(this.peek)?this.dealWord():this.dealSign()},"" dealnum:function(){for(var="" px="" pt="" cm="" mm="" ex="" pc="" in".indexof(c))b="this.index-1;a=this.code.slice(a,b);this.depth">this.defaultDepth&&(a=HighLighter.number(a));this.result.append(a);this.index=b;this.readch()},dealWord:function(){for(var a=this.index-1;this.index<=this.code.length&&!(this.readch(),!character.isletter(this.peek)&&this.peek!=character.minus););a=this.code.slice(a,this.index-1);this.depth>this.defaultDepth&&(this.words.hasKey(a.toLowerCase())?a=HighLighter.keyword(a):this.values.hasKey(a.toLowerCase())&&(a=HighLighter.val(a)));this.result.append(a)},dealColor:function(){for(var a=this.index-1;this.index<=this.code.length&&!(this.readch(),!character.isdigit16(this.peek)););a=this.code.slice(a, this.index-1);if(this.depth="">this.defaultDepth&&(4==a.length||7==a.length))a=HighLighter.number(a);this.result.append(a)},embedParse:function(a,b){this.depth=defaultDepth=b;var c=this.parse(this.code);return c.slice(12,c.length-5)}});function MarkupParser(a){this.TEXT=0;this.MARK=1;this.state=this.TEXT;AbstractParser.call(this,a)}$extend(MarkupParser.prototype,AbstractParser.prototype);$extend(MarkupParser.prototype,{dealString:function(a){void 0==a&&(a='"');var b=this.index-1;this.index=this.code.indexOf(a,this.index);-1==this.index&&(this.index=this.code.length-1);this.index++;this.result.append(HighLighter.string(HtmlEncode.encodeWithLine(this.code.slice(b,this.index),this.getNewLine()+HighLighter.stringStart())));this.readch()},dealComment:function(){this.depth++;var a=this.code.indexOf("--\>",this.index+4);-1==a&&(a=this.code.length-3);a+=3;this.result.append(HighLighter.comment(HtmlEncode.encodeWithLine(this.code.slice(this.index,a),this.getNewLine()+HighLighter.commentStart())));this.index=a;this.depth--;this.readch()}});function HtmlParser(){this.CSS=2;this.JS=3;this.javascript=this.css=this.auto=!1;this.autoWords=new HashMap("BR,HR,COL,IMG,AREA,BASE,LINK,META,FRAME,INPUT,PARAM,ISINDEX,BASEFONT,COLGROUP".split(","));this.attributes=new HashMap("abbr,accept-charset,accept,accesskey,action,align,behavior,bgcolor,bgproperties,border,bordercolor,bordercolordark,alink,alt,bordercolorlight,borderstyle,buffer,caption,cellpadding,cellspacing,archive,char,charoff,charset,checked,cite,class,classid,clear,code,codebase,axis,codetype,color,cols,colspan,compact,content,contentType,coords,data,vlink,datetime,declare,defer,dir,direction,disabled,dynsrc,encoding,enctype,errorPage,extends,face,file,flush,for,frame,frameborder,framespacing,urn,gutter,headers,height,href,hreflang,hspace,http-equiv,icon,id,import,info,isErrorPage,ismap,isThreadSafe,label,language,leftmargin,link,autoFlush,longdesc,loop,lowsrc,marginheight,marginwidth,maximizebutton,maxlength,media,method,methods,minimizebutton,multiple,name,nohref,noresize,background,noshade,nowrap,object,onabort,onblur,onchange,onclick,ondblclick,width,onerror,onfocus,onkeydown,onkeypress,onkeyup,onload,applicationname,rows,onmousemove,onmouseout,onmouseover,onmouseup,onreset,onselect,onsubmit,onunload,page,param,profile,prompt,property,readonly,rel,onmousedown,rev,rowspan,rules,runat,scheme,scope,scrollamount,scrolldelay,scrolling,vrml,selected,session,shape,showintaskbar,singleinstance,size,span,src,standby,start,style,summary,sysmenu,tabindex,target,text,title,topmargin,type,wrap,usemap,valign,value,valuetype,version,vspace,windowstate".split(","));MarkupParser.call(this,"A,ABBR,ACRONYM,ADDRESS,APPLET,B,BDO,BIG,BLOCKQUOTE,BODY,BUTTON,CAPTION,CENTER,CITE,CODE,DD,DEL,DFN,DIR,DIV,DL,DT,EM,FIELDEST,FONT,FORM,FRAMESET,H1,H2,H3,H4,H5,H6,HEAD,HTML,I,IFRAME,INS,KBD,LABEL,LEGEND,LI,MAP,MENU,NOFRAMES,NOSCRIPT,OBJECT,OL,OPTGROUP,OPTION,P,PRE,Q,S,SAMP,SCRIPT,SELECT,SMALL,SPAN,STRIKE,STRONG,STYLE,SUB,SUP,TABLE,TBODY,TD,TEXTAREA,TFOOT,TH,THEAD,TITLE,TR,TT,U,EMBED,UL,VAR,PUBLIC".split(","))}$extend(HtmlParser.prototype,MarkupParser.prototype);$extend(HtmlParser.prototype,{scan:function(){var a=0;for(this.readch();this.index<=this.code.length;)switch(this.dealblank(),this.state){case this.text:a="this.index-1;this.index=this.code.indexOf(" <",a);if(-1="=this.index){this.result.append(HtmlEncode.encodeWithLine(this.code.slice(a),this.getNewLine()));return}this.index"">a&&this.result.append(HtmlEncode.encodeWithLine(this.code.slice(a,this.index),this.getNewLine()));this.readch();this.dealLeftAngleBracket();break;case this.MARK:Character.isQuote(this.peek)?this.dealString(this.peek):this.peek==Character.SLASH?(this.readch(),this.peek==Character.RIGHT_ANGLE_BRACE?(this.result.append(HighLighter.keyword("/>")),this.state=this.TEXT,this.auto||this.depth--):this.result.append("/"),this.auto=!1,this.readch()):this.peek==Character.RIGHT_ANGLE_BRACE?(this.result.append(HighLighter.keyword(">")),this.readch(),this.state=this.TEXT,this.auto=!1,this.css?this.state=this.CSS:this.javascript&&(this.state=this.JS)):Character.isLetter(this.peek)?this.dealAttr():Character.isDigit(this.peek)?this.dealNumber():(this.result.append(HtmlEncode.encodeChar(this.peek)),this.readch());break;case this.CSS:this.dealCss();break;case this.JS:this.dealJs()}},dealLeftAngleBracket:function(){this.readch();this.peek==Character.EXCLAMATION?"--"==this.code.substr(this.index,2)?(this.index-=2,this.dealComment()):("DOCTYPE"==this.code.substr(this.index,7).toUpperCase()?(this.result.append(HighLighter.keyword(HtmlEncode.encode(this.code.substr(this.index-2,9)))),this.index+=7,this.state=this.MARK,this.auto=!0):this.result.append("&lt;!"),this.readch()):this.peek==Character.SLASH?this.dealEndWord():Character.isLetter(this.peek)?this.dealStartWord():(this.result.append(HtmlEncode.LESS+HtmlEncode.encodeChar(this.peek)),this.readch())},dealStartWord:function(){var a=this.index-1;do this.readch();while(Character.isLetterOrDigit(this.peek));a=this.code.slice(a,this.index-1);this.words.hasKey(a.toUpperCase())?("STYLE"==a.toUpperCase()?this.css=!0:"SCRIPT"==a.toUpperCase()&&(this.javascript=!0),a=HighLighter.keyword(HtmlEncode.LESS+a),this.state=this.MARK,this.depth++):this.autoWords.hasKey(a.toUpperCase())?(a=HighLighter.keyword(HtmlEncode.LESS+a),this.state=this.MARK,this.auto=!0):a=HtmlEncode.LESS+a;this.result.append(a)},dealEndWord:function(){var a=this.index;do this.readch();while(Character.isLetterOrDigit(this.peek));a=this.code.slice(a,this.index-1);this.peek==Character.RIGHT_ANGLE_BRACE&&this.words.hasKey(a.toUpperCase())?(this.result.append(HighLighter.keyword(HtmlEncode.LESS+"/"+a+">")),this.readch(),this.state=this.TEXT,this.depth--):this.result.append(HtmlEncode.LESS+"/"+a)},dealAttr:function(){var a=this.index-1;do this.readch();while(Character.isLetter(this.peek)||this.peek==Character.MINUS);a=this.code.slice(a,this.index-1);this.attributes.hasKey(a.toLowerCase())&&(a=HighLighter.attr(a));this.result.append(a)},dealCss:function(){for(var a=this.index-1,b;this.index<=this.code.length;){if(this.peek==character.slash)this.readch(),this.peek==character.star?(b=this.code.indexof("* ",this.index),-1="=b&&(b=this.code.length)," this.index="b):this.peek==Character.SLASH&&(b=this.code.indexOf(" \n",this.index),-1="=b&&(b=this.code.length),this.index=b);else"" if(character.isquote(this.peek))for(b="this.peek;this.index<=this.code.length;)if(this.readch(),this.peek==Character.BACK_SLASH)this.readch();else{if(this.peek==b)break}else" if(this.peek="=Character.LEFT_ANGLE_BRACE&&(b=this.code.substr(this.index-1,8).toLowerCase()," <="" style"="">"==b))break;this.readch()}this.result.append((new CssParser).embedParse(this.code.slice(a,this.index-1),this.depth));this.css=!1;this.state=this.TEXT},dealJs:function(){for(var a=this.index-1,b,c=!0;this.index<=this.code.length;){if(this.peek==character.slash)if(this.readch(),this.peek==character.star)b=this.code.indexof("* ",this.index),-1="=b&&(b=this.code.length),this.index=b+2;else" if(this.peek="=Character.SLASH)b=this.code.indexOf(" \n",this.index),-1="=b&&(b=this.code.length),this.index=b;else"" if(c){for(;this.index<="this.code.length;){if(this.peek==Character.BACK_SLASH)this.readch();else" character.slash)break;else="" c="!1;else" if(character.isquote(this.peek)){for(b="this.peek;this.index<=this.code.length;)if(this.readch(),this.peek==Character.BACK_SLASH)this.readch();else" "="" script="">"==b)break}else c=Character.isIdentifiers(this.peek)||this.peek==Character.DOLLAR||this.peek==Character.RIGHT_PARENTHESE?!1:!0;this.readch()}this.result.append((new JavascriptParser).embedParse(this.code.slice(a,this.index-1),this.depth));this.javascript=!1;this.state=this.TEXT}});function JavaParser(){CompileParser.call(this,"if,else,for,break,case,continue,function,true,false,switch,default,do,while,int,float,double,long,throws,transient,abstract,assert,boolean,byte,class,const,enum,instanceof,try,volatilechar,extends,final,finally,goto,implements,import,protected,return,void,char,interface,native,new,package,private,protected,throw,short,public,return,strictfp,super,synchronized,this,static,null,String".split(","))}$extend(JavaParser.prototype,CompileParser.prototype);$extend(JavaParser.prototype,{scan:function(){for(this.readch();this.index<=this.code.length;)this.dealblank(),this.peek==character.slash?(this.readch(),this.peek==character.slash?this.dealsinglecomment():this.peek==character.star?this.dealmulticomment():this.result.append(character.slash)):this.peek==character.double_quote?this.dealstring(this.peek):this.peek==character.single_quote?this.dealchar():this.peek==character.at?this.dealannot():character.isdigitordecimal(this.peek)?this.dealnumber():character.isidentifiers(this.peek)? this.dealword():this.dealsign()},dealannot:function(){for(var="" a="this.index-1;this.index<=this.code.length&&!(this.readch(),!Character.isLetterOrDigit(this.peek)););this.result.append(HighLighter.annot(HtmlEncode.encode(this.code.slice(a,--this.index))));this.readch()}});" function="" cphpparser(){this.tag="" ;cseriesparser.call(this,"and,or,xor,__file__,__line__,array,as,cfunction,class,const,declare,die,elseif,empty,enddeclare,endfor,endforeach,endif,endswitch,endwhile,extends,foreach,include,include_once,global,new,old_function,use,require,require_once,var,__function__,__class__,__method__,abstract,interface,public,implements,extends,private,protected,throw,echo,exit,die".split(","))}$extend(cphpparser.prototype,cseriesparser.prototype);="" $extend(cphpparser.prototype,{scan:function(){for(this.readch();this.index<="this.code.length;)this.dealBlank(),this.peek==Character.SLASH?(this.readch(),this.peek==Character.SLASH?this.dealSingleComment():this.peek==Character.STAR?this.dealMultiComment():this.result.append(" ")):character.isquote(this.peek)?this.dealstring(this.peek):this.peek="=Character.LEFT_ANGLE_BRACE?(this.readch(),this.peek==Character.LEFT_ANGLE_BRACE?(this.readch(),this.peek==Character.LEFT_ANGLE_BRACE?(this.readch(),this.dealMultiString()):"" this.result.append(htmlencode.less+htmlencode.less+this.peek)):this.result.append(htmlencode.less+this.peek)):character.isdigitordecimal(this.peek)?this.dealnumber():this.peek="=Character.DOLLAR?this.dealVal():Character.isIdentifiers(this.peek)?this.dealWord():this.dealSign()},dealVal:function(){for(var" b="this.code.slice(a+3,this.index-1),c=this.code.indexOf(" \n"+b,this.index),c="-1==c?this.code.length:c+(b.length+1);this.result.append(HighLighter.string(HtmlEncode.encodeWithLine(this.code.slice(a,"" c),this.getnewline()+highlighter.stringstart())));this.index="c;this.depth--;this.readch()},embedParse:function(a,b){this.depth=b;var" c="this.parse(a);return" c.slice(12,c.length-5)}});function="" phpparser(){this.php="4;HtmlParser.call(this)}$extend(PhpParser.prototype,HtmlParser.prototype);" $extend(phpparser.prototype,{dealleftanglebracket:function(){this.readch();this.peek="=Character.QUESTION?" php"="=this.code.substr(this.index,3).toLowerCase()?(this.result.append(HighLighter.keyword(HtmlEncode.LESS+this.code.slice(this.index-1,this.index+3))),this.index+=3,this.dealPhp()):Character.isIdentifiers(this.code.charAt(this.index))?(this.result.append(HtmlEncode.LESS+"?"),this.readch()):(this.result.append(HighLighter.keyword(HtmlEncode.LESS+"?")),this.dealPhp()):(this.index--,HtmlParser.dealLeftAngleBracket.call(this))},"" dealphp:function(){this.readch();this.depth++;for(var="" if(character.isquote(this.peek))for(b="this.peek;this.index<=this.code.length;)if(this.readch(),this.peek==Character.BACK_SLASH)this.readch();" else{if(this.peek="=b)break}else" if(this.peek="=Character.QUESTION&&(this.readch(),this.peek==Character.RIGHT_ANGLE_BRACE)){this.index--;break}this.readch()}a=(new" cphpparser).embedparse(this.code.slice(a,this.index-1),this.depth);a+="HighLighter.keyword(" ?"="">");this.index+=2;this.result.append(a);this.depth--}});function CAndCppParser(a){CompileParser.call(this,a)}$extend(CAndCppParser.prototype,CompileParser.prototype);$extend(CAndCppParser.prototype,{scan:function(){for(this.readch();this.index<=this.code.length;)this.dealblank(),this.peek==character.slash?(this.readch(),this.peek==character.slash?this.dealsinglecomment():this.peek==character.star?this.dealmulticomment():this.result.append(character.slash)):this.peek==character.double_quote?this.dealstring(this.peek):this.peek==character.single_quote?this.dealchar():this.peek==character.sharp?this.dealhead():character.isdigitordecimal(this.peek)?this.dealnumber(): character.isidentifiers(this.peek)?this.dealword():this.dealsign()},dealhead:function(){for(var="" a="this.index-1;this.index<=this.code.length;)if(this.readch(),this.peek==Character.BACK_SLASH)this.readch();else" if(this.peek="=Character.LINE)break;this.result.append(HighLighter.head(HtmlEncode.encodeWithLine(this.code.slice(a,this.index-1),this.getNewLine()+HighLighter.headStart())))}});" function="" cparser(){candcppparser.call(this,"if,else,for,break,case,continue,function,struct,true,false,switch,default,do,while,int,float,double,long,signed,short,char,return,void,static,null,assert,byte,this,throw,new,public,return,strictfp,extends,final,finally,goto,implements,import,instanceof,unsigned,super,synchronized,boolean,enum,interface,native,package,private,protected,protected,extern,abstract,const,class,throws,transient,try,volatile,typedef,bool".split(","))}="" $extend(cparser.prototype,candcppparser.prototype);="" cppparser(){candcppparser.call(this,"if,else,for,break,case,continue,function,true,false,switch,default,do,while,int,float,double,long,const_cast,private,short,char,return,void,static,null,whcar_t,volatile,uuid,explicit,extern,class,const,__finally,__exception,__try,virtual,using,signed,namespace,new,public,protected,__declspec,delete,unsigned,friend,goto,inline,mutable,deprecated,dllexport,dllimport,dynamic_cast,enum,union,bool,naked,typeid,noinline,noreturn,nothrow,register,this,reinterpret_cast,selectany,sizeof,static_cast,struct,template,thread,throw,try,typedef,typename".split(","))}="" $extend(cppparser.prototype,candcppparser.prototype);="" actionscriptparser(){ecmascriptparser.call(this,"as,class,const,delete,extends,finally,to,true,false,continue,in,instanceof,interface,internal,is,native,new,null,package,boolean,uint,infinity,return,undefined,private,protected,public,super,this,throw,import,include,date,error,regexp,nan,void,int,intrinsic,try,typeof,use,var,with,each,get,set,namespace,implements,function,xml,object,static,break,dynamic,final,native,override,trace,string,number,date,event,array,xmllist,if,else,do,while,for,swtich,case".split(","))}="" $extend(actionscriptparser.prototype,ecmascriptparser.prototype);function="" xmlparser(){this.auto="!1;MarkupParser.call(this,[])}$extend(XmlParser.prototype,MarkupParser.prototype);" $extend(xmlparser.prototype,{scan:function(){var="" this.text:a="this.index-1;this.index=this.code.indexOf(" <",a);if(-1="=this.index){this.result.append(HtmlEncode.encodeWithLine(this.code.slice(a),this.getNewLine()));return}this.index"">a&&this.result.append(HtmlEncode.encodeWithLine(this.code.slice(a,this.index),this.getNewLine()));this.readch();this.dealLeftAngleBracket();break;case this.MARK:Character.isQuote(this.peek)?this.dealString(this.peek):this.peek==Character.SLASH?(this.readch(),this.peek==Character.RIGHT_ANGLE_BRACE?(this.result.append(HighLighter.keyword("/>")),this.state=this.TEXT,this.auto||this.depth--):this.result.append("/"),this.auto=!1,this.readch()):this.peek==Character.RIGHT_ANGLE_BRACE?(this.result.append(HighLighter.keyword(">")),this.readch(),this.state=this.TEXT,this.auto=!1):Character.isLetter(this.peek)?this.dealAttr():Character.isDigit(this.peek)?this.dealNumber():(this.result.append(HtmlEncode.encodeChar(this.peek)),this.readch())}},dealLeftAngleBracket:function(){this.readch();this.peek==Character.EXCLAMATION?"--"==this.code.substr(this.index,2)?(this.index-=2,this.dealComment()):"doctype"==this.code.substr(this.index,7).toLowerCase()?(this.result.append(HighLighter.keyword(HtmlEncode.encode(this.code.substr(this.index-2,9)))),this.index+=7,this.state=this.MARK,this.auto=!0,this.readch()):"[cdata["==this.code.substr(this.index,7).toLowerCase()?this.dealCdata():(this.result.append(HtmlEncode.LESS+"!"),this.readch()):this.peek==Character.QUESTION?this.dealQuestion():this.peek==Character.SLASH?this.dealEndWord():Character.isLetter(this.peek)?this.dealStartWord():(this.result.append(HtmlEncode.LESS+HtmlEncode.enthis.codeChar(this.peek)),this.readch())},dealStartWord:function(){var a=this.index-1;do this.readch();while(Character.isLetterOrDigit(this.peek)||this.peek==Character.MINUS||this.peek==Character.COLON);a=this.code.slice(a,this.index-1);a=HighLighter.keyword(HtmlEncode.LESS+a);this.state=this.MARK;this.depth++;this.result.append(a)},dealEndWord:function(){var a=this.index;do this.readch();while(Character.isLetterOrDigit(this.peek)||this.peek==Character.MINUS||this.peek==Character.COLON);a=this.code.slice(a,this.index-1);this.peek==Character.RIGHT_ANGLE_BRACE?(a=HighLighter.keyword(HtmlEncode.LESS+"/"+a+">"),this.readch(),this.state=this.TEXT,this.depth--):a=HtmlEncode.LESS+"/"+a;this.result.append(a)},dealAttr:function(){var a=this.index-1;do this.readch();while(Character.isLetterOrDigit(this.peek)||this.peek==Character.MINUS);this.result.append(this.peek==Character.COLON?HighLighter.ns(this.code.slice(a,this.index-1)):HighLighter.attr(this.code.slice(a,this.index-1)))},dealQuestion:function(){var a=this.code.indexOf("?>",this.index);this.index-=2;a=-1==a?this.code.length:a+2;this.result.append(HighLighter.head(HtmlEncode.encodeWithLine(this.code.slice(this.index,a),this.getNewLine()+HighLighter.headStart())));this.index=a;this.readch()},dealCdata:function(){this.depth++;var a=this.code.indexOf("]]\>",this.index+7);this.index-=2;a=-1==a?this.code.length:a+3;this.result.append(HighLighter.cdata(HtmlEncode.encodeWithLine(this.code.slice(this.index,a),this.getNewLine()+HighLighter.cdataStart())));this.index=a;this.depth--;this.readch()}});function UnknowParser(){}$extend(UnknowParser.prototype,AbstractParser.prototype);$extend(UnknowParser.prototype,{parse:function(a){a='<li name="0">'+HtmlEncode.encodeWithLine(a,'&nbsp;</li><li name="0"><span>')+"</span></li>";this.result.append(a);return a}});(function(){var a=function(a){switch(a){case "js":case "javascript":case "ecmascript":case "jscript":return new JavascriptParser;case "as":case "as2":case "as3":case "actionscript":case "flash":return new ActionscriptParser;case "c":return new CParser;case "c++":case "cpp":case "cplusplus":return new CppParser;case "java":return new JavaParser;case "php":return new PhpParser;case "html":case "xhtml":case "htm":return new HtmlParser;case "css":return new CssParser;case "xml":return new XmlParser;default:return new UnknowParser}},b=parent.window.$;setInterval(function(){b("*[class^=lang]",document).each(function(c,d){if(!b(d).data("hiboted")){syntax=d.getAttribute("class").toLowerCase().split("-")[1];code="textarea"==d.tagName.toLowerCase()?d.value:b(d).text();-1</=this.code.length;)this.dealblank(),this.peek==character.slash?(this.readch(),this.peek==character.slash?this.dealsinglecomment():this.peek==character.star?this.dealmulticomment():this.result.append(character.slash)):this.peek==character.double_quote?this.dealstring(this.peek):this.peek==character.single_quote?this.dealchar():this.peek==character.sharp?this.dealhead():character.isdigitordecimal(this.peek)?this.dealnumber():></=this.code.length;)this.dealblank(),this.peek==character.slash?(this.readch(),this.peek==character.slash?this.dealsinglecomment():this.peek==character.star?this.dealmulticomment():this.result.append(character.slash)):this.peek==character.double_quote?this.dealstring(this.peek):this.peek==character.single_quote?this.dealchar():this.peek==character.at?this.dealannot():character.isdigitordecimal(this.peek)?this.dealnumber():character.isidentifiers(this.peek)?></=this.code.length;){if(this.peek==character.slash)if(this.readch(),this.peek==character.star)b=this.code.indexof("*></=this.code.length;){if(this.peek==character.slash)this.readch(),this.peek==character.star?(b=this.code.indexof("*></=this.code.length;)switch(this.dealblank(),this.state){case></=this.code.length&&!(this.readch(),!character.isdigit16(this.peek)););a=this.code.slice(a,></=this.code.length&&!(this.readch(),!character.isletter(this.peek)&&this.peek!=character.minus););a=this.code.slice(a,this.index-1);this.depth></=this.code.length;)if(this.readch(),this.peek==character.back_slash){if(this.readch(),!b&&this.peek==character.line)break}else></li></this.code.length&&character.isdigit16(this.peek);)this.readch();if(this.peek!=character.decimal){this.result.append(highlighter.number(this.code.slice(a,this.index-1)));return}}else></a.length;b++)this.hash[a[b]]=!0},stringbuilder=function(a){this.append=></span></this.chars.length;b++)-1<a.indexof(this.chars[b])&&(a=a.replace(regexp(this.chars[b],"g"),this.escapes[b]));-1<a.indexof("\\")&&(a=a.replace(></=a&&"z"></=a&&"z"></=a&&"f"></=a&&"f"></",isdigit:function(a){return"0"<=a&&"9"></",right_angle_brace:">]]></content>
    
    <summary type="html">
    
      
      
        var Character={UNDER_LINE:&quot;_&quot;,ZERO:&quot;0&quot;,SLASH:&quot;/&quot;,BACK_SLASH:&quot;\\&quot;,SINGLE_QUOTE:&quot;&#39;&quot;,DOUBLE_QUOTE:&#39;&quot;&#39;,SPACE:&quot; &quot;,TAB:&quot;\t&quot;,ENTER:&quot;\r&quot;,LINE:&quot;\n&quot;,L
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/mode-markdown/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/mode-markdown/</id>
    <published>2020-08-09T12:12:47.821Z</published>
    <updated>2020-08-09T12:12:47.821Z</updated>
    
    <content type="html"><![CDATA[ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript","ace/mode/xml","ace/mode/html","ace/tokenizer","ace/mode/markdown_highlight_rules"],function(a,b,c){var d=a("../lib/oop"),e=a("./text").Mode,f=a("./javascript").Mode,g=a("./xml").Mode,h=a("./html").Mode,i=a("../tokenizer").Tokenizer,j=a("./markdown_highlight_rules").MarkdownHighlightRules,k=function(){var a=new j;this.$tokenizer=new i(a.getRules()),this.$embeds=a.getEmbeds(),this.createModeDelegates({"js-":f,"xml-":g,"html-":h})};d.inherits(k,e),function(){this.getNextLineIndent=function(a,b,c){if(a=="listblock"){var d=/^((?:.+)?)([-+*][ ]+)/.exec(b);return d?(new Array(d[1].length+1)).join(" ")+d[2]:""}return this.$getIndent(b)}}.call(k.prototype),b.Mode=k}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(a,b,c){var d=a("../lib/oop"),e=a("./text").Mode,f=a("../tokenizer").Tokenizer,g=a("./javascript_highlight_rules").JavaScriptHighlightRules,h=a("./matching_brace_outdent").MatchingBraceOutdent,i=a("../range").Range,j=a("../worker/worker_client").WorkerClient,k=a("./behaviour/cstyle").CstyleBehaviour,l=a("./folding/cstyle").FoldMode,m=function(){this.$tokenizer=new f((new g).getRules()),this.$outdent=new h,this.$behaviour=new k,this.foldingRules=new l};d.inherits(m,e),function(){this.toggleCommentLines=function(a,b,c,d){var e=!0,f=/^(\s*)\/\//;for(var g=c;g<=d;g++)if(!f.test(b.getline(g))){e=!1;break}if(e){var h="new" i(0,0,0,0);for(var="" g="c;g<=d;g++){var" j="b.getLine(g),k=j.match(f);h.start.row=g,h.end.row=g,h.end.column=k[0].length,b.replace(h,k[1])}}else" b.indentrows(c,d,"="" ")},this.getnextlineindent="function(a,b,c){var" d="this.$getIndent(b),e=this.$tokenizer.getLineTokens(b,a),f=e.tokens,g=e.state;if(f.length&&f[f.length-1].type==" comment")return"="" d;if(a="=" start"||a="="regex_allowed"){var"" if(a="=" doc-start"){if(g="="start"||a=="regex_allowed")return"";var"" "),d+="* " )}return="" d},this.checkoutdent="function(a,b,c){return" this.$outdent.checkoutdent(b,c)},this.autooutdent="function(a,b,c){this.$outdent.autoOutdent(b,c)},this.createWorker=function(a){var" b="new" j(["ace"],"ace="" mode="" javascript_worker","javascriptworker");return="" b.attachtodocument(a.getdocument()),b.on("jslint",function(b){var="" c="[];for(var" e="b.data[d];e&&c.push({row:e.line-1,column:e.character-1,text:e.reason,type:" warning",lint:e})}a.setannotations(c)}),b.on("narcissus",function(b){a.setannotations([b.data])}),b.on("terminate",function(){a.clearannotations()}),b}}.call(m.prototype),b.mode="m}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/unicode","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(a,b,c){var"" a="e.arrayToMap(" array|boolean|date|function|iterator|number|object|regexp|string|proxy|namespace|qname|xml|xmllist|arraybuffer|float32array|float64array|int16array|int32array|int8array|uint16array|uint32array|uint8array|uint8clampedarray|error|evalerror|internalerror|rangeerror|referenceerror|stopiteration|syntaxerror|typeerror|urierror|decodeuri|decodeuricomponent|encodeuri|encodeuricomponent|eval|isfinite|isnan|parsefloat|parseint|json|math|this|arguments|prototype|window|document".split("|")),b="e.arrayToMap("break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|const|yield|import|get|set".split("|")),c="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield",d=e.arrayToMap("__parent__|__count__|escape|unescape|with|__proto__".split("|")),h=e.arrayToMap("const|let|var|function".split("|")),i=e.arrayToMap("null|Infinity|NaN|undefined".split("|")),j=e.arrayToMap("class|enum|extends|super|export|implements|private|public|interface|package|protected|static".split("|")),k="["+f.packages.L+"\\$_]["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]*\\b",l="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={start:[{token:"comment",regex:/\/\/.*$/},g.getStartRule("doc-start"),{token:"comment",merge:!0,regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+k+")(\\.)(prototype)(\\.)("+k+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator","text"],regex:"("+k+")(\\.)(prototype)(\\.)("+k+")(\\s*)(=)(\\s*)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+k+")(\\.)("+k+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+k+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+k+")(\\.)("+k+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+k+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+k+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"constant.language.boolean",regex:/(?:true|false)\b/},{token:"keyword",regex:"(?:"+c+")\\b",next:"regex_allowed"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:opzzzz|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|timeEnd|assert)\b/},{token:function(c){return"" a.hasownproperty(c)?"variable.language":d.hasownproperty(c)?"invalid.deprecated":h.hasownproperty(c)?"storage.type":b.hasownproperty(c)?"keyword":i.hasownproperty(c)?"constant.language":j.hasownproperty(c)?"invalid.illegal":c="=" debugger"?"invalid.deprecated":"identifier"},regex:k},{token:"keyword.operator",regex:="" !|\$|%|&|\*|\-\-|\-|\+\+|\+|~|="==|==|=|!=|!==|<=|"">=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=|\b(?:in|instanceof|new|delete|typeof|void)/,next:"regex_allowed"},{token:"punctuation.operator",regex:/\?|\:|\,|\;|\./,next:"regex_allowed"},{token:"paren.lparen",regex:/[\[({]/,next:"regex_allowed"},{token:"paren.rparen",regex:/[\])}]/},{token:"keyword.operator",regex:/\/=?/,next:"regex_allowed"},{token:"comment",regex:/^#!.*$/},{token:"text",regex:/\s+/}],regex_allowed:[g.getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/.*$"},{token:"string.regexp",regex:"\\/",next:"regex",merge:!0},{token:"text",regex:"\\s+"},{token:"empty",regex:"",next:"start"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/\\w*",next:"start",merge:!0},{token:"string.regexp",regex:"[^\\\\/\\[]+",merge:!0},{token:"string.regexp.charachterclass",regex:"\\[",next:"regex_character_class",merge:!0},{token:"empty",regex:"",next:"start"}],regex_character_class:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp.charachterclass",regex:"]",next:"regex",merge:!0},{token:"string.regexp.charachterclass",regex:"[^\\\\\\]]+",merge:!0},{token:"empty",regex:"",next:"start"}],function_arguments:[{token:"variable.parameter",regex:k},{token:"punctuation.operator",regex:"[, ]+",merge:!0},{token:"punctuation.operator",regex:"$",merge:!0},{token:"empty",regex:"",next:"start"}],comment_regex_allowed:[{token:"comment",regex:".*?\\*\\/",merge:!0,next:"regex_allowed"},{token:"comment",merge:!0,regex:".+"}],comment:[{token:"comment",regex:".*?\\*\\/",merge:!0,next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"constant.language.escape",regex:l},{token:"string",regex:'[^"\\\\]+',merge:!0},{token:"string",regex:"\\\\$",next:"qqstring",merge:!0},{token:"string",regex:'"|$',next:"start",merge:!0}],qstring:[{token:"constant.language.escape",regex:l},{token:"string",regex:"[^'\\\\]+",merge:!0},{token:"string",regex:"\\\\$",next:"qstring",merge:!0},{token:"string",regex:"'|$",next:"start",merge:!0}]},this.embedRules(g,"doc-",[g.getEndRule("start")])};d.inherits(i,h),b.JavaScriptHighlightRules=i}),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,b,c){var d=a("../lib/oop"),e=a("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};d.inherits(f,e),f.getStartRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\/\\*(?=\\*)",next:a}},f.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}},b.DocCommentHighlightRules=f}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(a,b,c){var d=a("../range").Range,e=function(){};(function(){this.checkOutdent=function(a,b){return/^\s+$/.test(a)?/^\s*\}/.test(b):!1},this.autoOutdent=function(a,b){var c=a.getLine(b),e=c.match(/^(\s*\})/);if(!e)return 0;var f=e[1].length,g=a.findMatchingBracket({row:b,column:f});if(!g||g.row==b)return 0;var h=this.$getIndent(a.getLine(g.row));a.replace(new d(b,0,b,f-1),h)},this.$getIndent=function(a){var b=a.match(/^(\s+)/);return b?b[1]:""}}).call(e.prototype),b.MatchingBraceOutdent=e}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour"],function(a,b,c){var d=a("../../lib/oop"),e=a("../behaviour").Behaviour,f=function(){this.add("braces","insertion",function(a,b,c,d,e){if(e=="{"){var f=c.getSelectionRange(),g=d.doc.getTextRange(f);return g!==""?{text:"{"+g+"}",selection:!1}:{text:"{}",selection:[1,1]}}if(e=="}"){var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if(j=="}"){var k=d.$findOpeningBracket("}",{column:h.column+1,row:h.row});if(k!==null)return{text:"",selection:[1,1]}}}else if(e=="\n"){var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if(j=="}"){var l=d.findMatchingBracket({row:h.row,column:h.column+1});if(!l)return null;var m=this.getNextLineIndent(a,i.substring(0,i.length-1),d.getTabString()),n=this.$getIndent(d.doc.getLine(l.row));return{text:"\n"+m+"\n"+n,selection:[1,m.length,1,m.length]}}}}),this.add("braces","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&f=="{"){var g=d.doc.getLine(e.start.row),h=g.substring(e.end.column,e.end.column+1);if(h=="}")return e.end.column++,e}}),this.add("parens","insertion",function(a,b,c,d,e){if(e=="("){var f=c.getSelectionRange(),g=d.doc.getTextRange(f);return g!==""?{text:"("+g+")",selection:!1}:{text:"()",selection:[1,1]}}if(e==")"){var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if(j==")"){var k=d.$findOpeningBracket(")",{column:h.column+1,row:h.row});if(k!==null)return{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&f=="("){var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(h==")")return e.end.column++,e}}),this.add("brackets","insertion",function(a,b,c,d,e){if(e=="["){var f=c.getSelectionRange(),g=d.doc.getTextRange(f);return g!==""?{text:"["+g+"]",selection:!1}:{text:"[]",selection:[1,1]}}if(e=="]"){var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if(j=="]"){var k=d.$findOpeningBracket("]",{column:h.column+1,row:h.row});if(k!==null)return{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&f=="["){var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(h=="]")return e.end.column++,e}}),this.add("string_dquotes","insertion",function(a,b,c,d,e){if(e=='"'||e=="'"){var f=e,g=c.getSelectionRange(),h=d.doc.getTextRange(g);if(h!=="")return{text:f+h+f,selection:!1};var i=c.getCursorPosition(),j=d.doc.getLine(i.row),k=j.substring(i.column-1,i.column);if(k=="\\")return null;var l=d.getTokens(g.start.row),m=0,n,o=-1;for(var p=0;p<l.length;p++){n=l[p],n.type=="string"?o=-1:o<0&&(o=n.value.indexof(f));if(n.value.length+m>g.start.column)break;m+=l[p].value.length}if(!n||o<0&&n.type!=="comment"&&(n.type!=="string"||g.start.column!==n.value.length+m-1&&n.value.lastindexof(f)===n.value.length-1))return{text:f+f,selection:[1,1]};if(n&&n.type==="string"){var q="j.substring(i.column,i.column+1);if(q==f)return{text:" ",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(a,b,c,d,e){var"="" f="d.doc.getTextRange(e);if(!e.isMultiLine()&&(f=='" '||f="="'")){var"" g="d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(h=='" ')return"="" e.end.column++,e}})};d.inherits(f,e),b.cstylebehaviour="f}),ace.define(" ace="" mode="" folding="" cstyle",["require","exports","module","ace="" lib="" oop","ace="" range","ace="" fold_mode"],function(a,b,c){var"="" d="a(" ..="" oop"),e="a("../../range").Range,f=a("./fold_mode").FoldMode,g=b.FoldMode=function(){};d.inherits(g,f),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(a,b,c){var"" this.openingbracketblock(a,f[1],c,g);var="" h="a.getCommentFoldRange(c,g+f[0].length);return" h.end.column-="2,h}if(b!==" markbeginend")return;var"="" i="{row:c,column:g},j=a.$findOpeningBracket(f[1],i);if(!j)return;return" j.column++,i.column--,e.frompoints(j,i)}}}.call(g.prototype)}),ace.define("ace="" fold_mode",["require","exports","module","ace="" range"],function(a,b,c){var="" this.foldingstartmarker.test(d)?"start":b="=" markbeginend"&&this.foldingstopmarker&&this.foldingstopmarker.test(d)?"end":""},this.getfoldwidgetrange="function(a,b,c){return"" null},this.indentationblock="function(a,b,c){var" e="/\S/,f=a.getLine(b),g=f.search(e);if(g==-1)return;var" l="a.getLine(b).search(e);if(l==-1)continue;if(l<=g)break;k=b}if(k">j){var m=a.getLine(k).length;return new d(j,h,k,m)}},this.openingBracketBlock=function(a,b,c,e,f){var g={row:c,column:e+1},h=a.$findClosingBracket(b,g,f);if(!h)return;var i=a.foldWidgets[h.row];return i==null&&(i=this.getFoldWidget(a,h.row)),i=="start"&&h.row>g.row&&(h.row--,h.column=a.getLine(h.row).length),d.fromPoints(g,h)}}).call(e.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml"],function(a,b,c){var d=a("../lib/oop"),e=a("./text").Mode,f=a("../tokenizer").Tokenizer,g=a("./xml_highlight_rules").XmlHighlightRules,h=a("./behaviour/xml").XmlBehaviour,i=a("./folding/xml").FoldMode,j=function(){this.$tokenizer=new f((new g).getRules()),this.$behaviour=new h,this.foldingRules=new i};d.inherits(j,e),function(){this.getNextLineIndent=function(a,b,c){return this.$getIndent(b)}}.call(j.prototype),b.Mode=j}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/xml_util","ace/mode/text_highlight_rules"],function(a,b,c){var d=a("../lib/oop"),e=a("./xml_util"),f=a("./text_highlight_rules").TextHighlightRules,g=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[cdata\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?>"},{token:"meta.tag",regex:"<\\ ?",next:"tag"},{token:"text",regex:"\\s+"},{token:"constant.character.entity",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fa-f]+;)|(?:&[a-za-z0-9_:\\.-]+;)"},{token:"text",regex:"[^<]+"}],cdata:[{token:"text",regex:"\\]\\]="">",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?-->",next:"start"},{token:"comment",merge:!0,regex:".+"}]},e.tag(this.$rules,"tag","start")};d.inherits(g,f),b.XmlHighlightRules=g}),ace.define("ace/mode/xml_util",["require","exports","module"],function(a,b,c){function d(a){return[{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*',next:a+"_qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*",next:a+"_qstring"}]}function e(a,b){return[{token:"string",merge:!0,regex:".*?"+a,next:b},{token:"string",merge:!0,regex:".+"}]}b.tag=function(a,b,c,f){a[b]=[{token:"text",regex:"\\s+"},{token:f?function(a){return f[a]?"meta.tag.tag-name."+f[a]:"meta.tag.tag-name"}:"meta.tag.tag-name",merge:!0,regex:"[-_a-zA-Z0-9:]+",next:b+"_embed_attribute_list"},{token:"empty",regex:"",next:b+"_embed_attribute_list"}],a[b+"_qstring"]=e("'",b+"_embed_attribute_list"),a[b+"_qqstring"]=e('"',b+"_embed_attribute_list"),a[b+"_embed_attribute_list"]=[{token:"meta.tag",merge:!0,regex:"/?>",next:c},{token:"keyword.operator",regex:"="},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat(d(b))}}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(a,b,c){function h(a,b){var c=!0,d=a.type.split("."),e=b.split(".");return e.forEach(function(a){if(d.indexOf(a)==-1)return c=!1,!1}),c}var d=a("../../lib/oop"),e=a("../behaviour").Behaviour,f=a("./cstyle").CstyleBehaviour,g=a("../../token_iterator").TokenIterator,i=function(){this.inherit(f,["string_dquotes"]),this.add("autoclosing","insertion",function(a,b,c,d,e){if(e==">"){var f=c.getCursorPosition(),i=new g(d,f.row,f.column),j=i.getCurrentToken(),k=!1;if(!j||!h(j,"meta.tag")&&(!h(j,"text")||!j.value.match("/"))){do j=i.stepBackward();while(j&&(h(j,"string")||h(j,"keyword.operator")||h(j,"entity.attribute-name")||h(j,"text")))}else k=!0;if(!j||!h(j,"meta.tag-name")||i.stepBackward().value.match("/"))return;var l=j.value;if(k)var l=l.substring(0,f.column-j.start);return{text:">",selection:[1,1]}}}),this.add("autoindent","insertion",function(a,b,c,d,e){if(e=="\n"){var f=c.getCursorPosition(),g=d.doc.getLine(f.row),h=g.substring(f.column,f.column+2);if(h=="?)/,this._parseTag=function(a){var b=this.tagRe.exec(a),c=this.tagRe.lastIndex||0;return this.tagRe.lastIndex=0,{value:a,match:b?b[2]:"",closing:b?!!b[3]:!1,selfClosing:b?!!b[5]||b[2]=="/>":!1,tagName:b?b[4]:"",column:b[1]?c+b[1].length:c}},this._readTagForward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(b.type.indexOf("meta.tag")===0){if(!d)var d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()};c+=b.value;if(c.indexOf(">")!==-1){var e=this._parseTag(c);return e.start=d,e.end={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length},a.stepForward(),e}}while(b=a.stepForward());return null},this._readTagBackward=function(a){var b=a.getCurrentToken();if(!b)return null;var c="",d;do if(b.type.indexOf("meta.tag")===0){d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length}),c=b.value+c;if(c.indexOf("<")!==-1){var e="this._parseTag(c);return" e.end="d,e.start={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()},a.stepBackward(),e}}while(b=a.stepBackward());return" null},this._pop="function(a,b){while(a.length){var" c="a[a.length-1];if(!b||c.tagName==b.tagName)return" a.pop();if(this.voidelements[b.tagname])return;if(this.voidelements[c.tagname]){a.pop();continue}return="" null}},this.getfoldwidgetrange="function(a,b,c){var" d="this._getFirstTagInLine(a,c);if(!d.match)return" null;var="" j="new" h(a,c,d.column),k="{row:c,column:d.column+d.tagName.length+2};while(i=this._readTagForward(j)){if(i.selfClosing){if(!g.length)return" i.start.column+="i.tagName.length+2,i.end.column-=2,f.fromPoints(i.start,i.end);continue}if(i.closing){this._pop(g,i);if(g.length==0)return" f.frompoints(k,i.start)}else="" g.push(i)}}else{var="" h(a,c,d.column+d.match.length),l="{row:c,column:d.column};while(i=this._readTagBackward(j)){if(i.selfClosing){if(!g.length)return" g.push(i)}}}}.call(i.prototype)}),ace.define("ace="" mode="" html",["require","exports","module","ace="" lib="" oop","ace="" text","ace="" javascript","ace="" css","ace="" tokenizer","ace="" html_highlight_rules","ace="" behaviour="" html","ace="" folding="" html"],function(a,b,c){var="" a="new" i;this.$tokenizer="new" h(a.getrules()),this.$behaviour="new" j,this.$embeds="a.getEmbeds(),this.createModeDelegates({" js-":f,"css-":g}),this.foldingrules="new"" k};d.inherits(l,e),function(){this.togglecommentlines="function(a,b,c,d){return" 0},this.getnextlineindent="function(a,b,c){return" this.$getindent(b)},this.checkoutdent="function(a,b,c){return!1}}.call(l.prototype),b.Mode=l}),ace.define(" ace="" css",["require","exports","module","ace="" css_highlight_rules","ace="" matching_brace_outdent","ace="" worker="" worker_client","ace="" cstyle"],function(a,b,c){var"="" f((new="" g).getrules(),"i"),this.$outdent="new" h,this.foldingrules="new" j};d.inherits(k,e),function(){this.foldingrules="cStyle" ,this.getnextlineindent="function(a,b,c){var" d;var="" f="b.match(/^.*\{\s*$/);return" f&&(d+="c),d},this.checkOutdent=function(a,b,c){return" this.$outdent.checkoutdent(b,c)},this.autooutdent="function(a,b,c){this.$outdent.autoOutdent(b,c)},this.createWorker=function(a){var" b="new" i(["ace"],"ace="" css_worker","worker");return="" b.attachtodocument(a.getdocument()),b.on("csslint",function(b){var="" a.hasownproperty(e.tolowercase())?"support.type":b.hasownproperty(e.tolowercase())?"support.function":c.hasownproperty(e.tolowercase())?"support.constant":d.hasownproperty(e.tolowercase())?"support.constant.color":f.hasownproperty(e.tolowercase())?"support.constant.fonts":"text"},regex:"\\-?[a-za-z_][a-za-z0-9_\\-]*"}],k="e.copyArray(j);k.unshift({token:" paren.rparen",regex:"\\}",next:"start"});var"="" l="e.copyArray(j);l.unshift({token:" paren.rparen",regex:"\\}",next:"media"});var"="" m="[{token:" comment",merge:!0,regex:".+"}],n="e.copyArray(m);n.unshift({token:"comment",regex:".*?\\*\\/",next:"start"});var"" o="e.copyArray(m);o.unshift({token:" comment",regex:".*?\\*\\="" ",next:"media"});var"="" p="e.copyArray(m);p.unshift({token:" ",next:"ruleset"}),this.$rules="{start:[{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"string",regex:"@.*?{",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"}],media:[{token:"comment",merge:!0,regex:"\\/\\*",next:"media_comment"},{token:"paren.lparen",regex:"\\{",next:"media_ruleset"},{token:"string",regex:"\\}",next:"start"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"}],comment:n,ruleset:k,ruleset_comment:p,media_ruleset:l,media_comment:o}};d.inherits(g,f),b.CssHighlightRules=g}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_util","ace/mode/text_highlight_rules"],function(a,b,c){var"">"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?>"},{token:"meta.tag",regex:"<(?=s*script\\b)",next:"script"},{token:"meta.tag",regex:"<(?=s*style\\b)",next:"style"},{token:"meta.tag",regex:"<\\ ?",next:"tag"},{token:"text",regex:"\\s+"},{token:"constant.character.entity",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fa-f]+;)|(?:&[a-za-z0-9_:\\.-]+;)"},{token:"text",regex:"[^<]+"}],cdata:[{token:"text",regex:"\\]\\]="">",next:"start"},{token:"text",merge:!0,regex:"\\s+"},{token:"text",merge:!0,regex:".+"}],comment:[{token:"comment",regex:".*?-->",next:"start"},{token:"comment",merge:!0,regex:".+"}]},h.tag(this.$rules,"tag","start",j),h.tag(this.$rules,"style","css-start",j),h.tag(this.$rules,"script","js-start",j),this.embedRules(g,"js-",[{token:"comment",regex:"\\/\\/.*(?=<\\ script="">)",next:"tag"},{token:"meta.tag",regex:"<\\ (?="script)" ,next:"tag"}]),this.embedrules(f,"css-",[{token:"meta.tag",regex:"<\\="" i(a,b){var="" c="!0,d=a.type.split(" ."),e="b.split(".");return"" e.foreach(function(a){if(d.indexof(a)="=-1)return" d="a(" ..="" lib="" oop"),e="a("../behaviour/xml").XmlBehaviour,f=a("./cstyle").CstyleBehaviour,g=a("../../token_iterator").TokenIterator,h=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],j=function(){this.inherit(e),this.add("autoclosing","insertion",function(a,b,c,d,e){if(e==""">"){var f=c.getCursorPosition(),j=new g(d,f.row,f.column),k=j.getCurrentToken(),l=!1;if(!k||!i(k,"meta.tag")&&(!i(k,"text")||!k.value.match("/"))){do k=j.stepBackward();while(k&&(i(k,"string")||i(k,"keyword.operator")||i(k,"entity.attribute-name")||i(k,"text")))}else l=!0;if(!k||!i(k,"meta.tag-name")||j.stepBackward().value.match("/"))return;var m=k.value;if(l)var m=m.substring(0,f.column-k.start);if(h.indexOf(m)!==-1)return;return{text:">",selection:[1,1]}}})};d.inherits(j,e),b.HtmlBehaviour=j}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(a,b,c){var d=a("../../lib/oop"),e=a("./mixed").FoldMode,f=a("./xml").FoldMode,g=a("./cstyle").FoldMode,h=b.FoldMode=function(){e.call(this,new f({area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1,li:1,dt:1,dd:1,p:1,rt:1,rp:1,optgroup:1,option:1,colgroup:1,td:1,th:1}),{"js-":new g,"css-":new g})};d.inherits(h,e)}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(a,b,c){var d=a("../../lib/oop"),e=a("./fold_mode").FoldMode,f=b.FoldMode=function(a,b){this.defaultMode=a,this.subModes=b};d.inherits(f,e),function(){this.$getMode=function(a){for(var b in this.subModes)if(a.indexOf(b)===0)return this.subModes[b];return null},this.$tryMode=function(a,b,c,d){var e=this.$getMode(a);return e?e.getFoldWidget(b,c,d):""},this.getFoldWidget=function(a,b,c){return this.$tryMode(a.getState(c-1),a,b,c)||this.$tryMode(a.getState(c),a,b,c)||this.defaultMode.getFoldWidget(a,b,c)},this.getFoldWidgetRange=function(a,b,c){var d=this.$getMode(a.getState(c-1));if(!d||!d.getFoldWidget(a,b,c))d=this.$getMode(a.getState(c));if(!d||!d.getFoldWidget(a,b,c))d=this.defaultMode;return d.getFoldWidgetRange(a,b,c)}}.call(f.prototype)}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules","ace/mode/html_highlight_rules","ace/mode/css_highlight_rules"],function(a,b,c){function j(a,b){return{token:"support.function",regex:"^```"+a+"\\s*$",next:b+"start"}}var d=a("../lib/oop"),e=a("./text_highlight_rules").TextHighlightRules,f=a("./javascript_highlight_rules").JavaScriptHighlightRules,g=a("./xml_highlight_rules").XmlHighlightRules,h=a("./html_highlight_rules").HtmlHighlightRules,i=a("./css_highlight_rules").CssHighlightRules,k=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:["support.function","support.function","support.function"],regex:"(`+)([^\\r]*?[^`])(\\1)"},{token:"support.function",regex:"^[ ]{4}.+"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.1",regex:"^\\-+(?=\\s*$)"},{token:function(a){return"markup.heading."+a.length},regex:"^#{1,6}"},j("(?:javascript|js)","js-"),j("xml","xml-"),j("html","html-"),j("css","css-"),{token:"support.function",regex:"^```[a-zA-Z]+\\s*$",next:"githubblock"},{token:"string",regex:"^>[ ].+$",next:"blockquote"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)((?:[[^\\]]*\\]|[^\\[\\]])*)(\\][ ]?(?:\\n[ ]*)?\\[)(.*?)(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:'(\\[)(\\[[^\\]]*\\]|[^\\[\\]]*)(\\]\\([ \\t]*)(<?(?:(?:[^\\(]*?\\([^\\)]*?\\)\\S*?)|(?:.*?))>?)((?:[ ]*"(?:.*?)"[ \\t]*)?)(\\))'},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\*[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\-[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\_[ ]?){3,}\\s*$"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock"},{token:["string","string","string"],regex:"([*]{2}|[_]{2}(?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["string","string","string"],regex:"([*]|[_](?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"},{token:"text",regex:"[^\\*_%$`\\[#<>]+"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:".+"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string",regex:".+"}],githubblock:[{token:"support.function",regex:"^```",next:"start"},{token:"support.function",regex:".+"}]},this.embedRules(f,"js-",[{token:"support.function",regex:"^```",next:"start"}]),this.embedRules(h,"html-",[{token:"support.function",regex:"^```",next:"start"}]),this.embedRules(i,"css-",[{token:"support.function",regex:"^```",next:"start"}]),this.embedRules(g,"xml-",[{token:"support.function",regex:"^```",next:"start"}])};d.inherits(k,e),b.MarkdownHighlightRules=k})</)((?:https?|ftp|dict):[^'\"></\\></\\></(?=s*script\\b)",next:"script"},{token:"meta.tag",regex:"<(?=s*style\\b)",next:"style"},{token:"meta.tag",regex:"<\\></\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?></")!==-1){var></\\></\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?></\\!\\[cdata\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?></0&&n.type!=="comment"&&(n.type!=="string"||g.start.column!==n.value.length+m-1&&n.value.lastindexof(f)===n.value.length-1))return{text:f+f,selection:[1,1]};if(n&&n.type==="string"){var></l.length;p++){n=l[p],n.type=="string"?o=-1:o<0&&(o=n.value.indexof(f));if(n.value.length+m></|></=|></=d;g++)if(!f.test(b.getline(g))){e=!1;break}if(e){var>]]></content>
    
    <summary type="html">
    
      
      
        ace.define(&quot;ace/mode/markdown&quot;,[&quot;require&quot;,&quot;exports&quot;,&quot;module&quot;,&quot;ace/lib/oop&quot;,&quot;ace/mode/text&quot;,&quot;ace/mode/javascript&quot;,&quot;ace/mode/xml&quot;,&quot;ace/mode/ht
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/all/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/all/</id>
    <published>2020-08-09T12:12:47.809Z</published>
    <updated>2020-08-09T12:12:47.809Z</updated>
    
    <content type="html"><![CDATA[(function(r,l){function $a(a){var b=ka[a]={},c,e,a=a.split(/\s+/);for(c=0,e=a.length;c<e;c++)b[a[c]]=!0;return 1="==a.nodeType});if(cb.test(b))return" b}function="" la(a,b,d){if(d="==l&&1===a.nodeType)if(d=" data-"+b.replace(ab,"-$1").tolowercase(),d="a.getAttribute(d),"string"===typeof"" d){try{d="true" =="=d?!0:" false"="==d?!1:"null"===d?null:c.isNumeric(d)?parseFloat(d):bb.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else"" d="l;return" d}function="" z(a){for(var="" b="" in="" a)if(!("data"="==b&&c.isEmptyObject(a[b]))&&" tojson"!="=b)return!1;return!0}function"" ma(a,b,d){var="" e="b+" defer",f="b+"queue",g=b+"mark",h=c._data(a,e);h&&("queue"===d||!c._data(a,f))&&("mark"===d||!c._data(a,g))&&setTimeout(function(){!c._data(a,f)&&!c._data(a,g)&&(c.removeData(a,e,!0),h.fire())},0)}function"" g(){return!1}function="" i(){return!0}function="" na(a,b,d){b="b||0;if(c.isFunction(b))return" c.grep(a,function(a,c){return!!b.call(a,c,a)="==d});if(b.nodeType)return" c.grep(a,function(a){return="" a="==b===d});if(" string"="==typeof"" b){var="" c.filter(b,e,!d);b="c.filter(b,e)}return" 0<="c.inArray(a,b)===d})}function" oa(a){var="" "),a="a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return" a}function="" qa(a,b){if(1="==b.nodeType&&c.hasData(a)){var" d,e,f;e="c._data(a);var" g="c._data(b,e),h=e.events;if(h)for(d" delete="" g.handle,g.events="{},h)for(e=0,f=h[d].length;e<f;e++)c.event.add(b,d+(h[d][e].namespace?" .":"")+h[d][e].namespace,h[d][e],h[d][e].data);g.data&&(g.data="c.extend({},g.data))}}function"" ra(a,b){var="" d;if(1="==b.nodeType){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);d=b.nodeName.toLowerCase();if(" object"="==d)b.outerHTML=a.outerHTML;else"" if("input"="==d&&(" checkbox"="==a.type||"radio"===a.type))a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);else"" if("option"="==d)b.selected=a.defaultSelected;else" p(a){return"undefined"!="=typeof" a.getelementsbytagname?a.getelementsbytagname("*"):"undefined"!="=typeof" a.queryselectorall?a.queryselectorall("*"):[]}function="" sa(a){if("checkbox"="==a.type||" radio"="==a.type)a.defaultChecked=a.checked}function"" ta(a){var="" a.getelementsbytagname&&c.grep(a.getelementsbytagname("input"),sa)}function="" db(a,b){b.src?c.ajax({url:b.src,async:!1,datatype:"script"}):c.globaleval((b.text||b.textcontent||b.innerhtml||"").replace(eb,"="" *$0*="" "));b.parentnode&&b.parentnode.removechild(b)}function="" ua(a,b,d){var="">e||null==e)e=a.style[b]||0;e=parseFloat(e)||0;d&&c.each(f,function(){e+=parseFloat(c.css(a,"padding"+this))||0;"padding"!==d&&(e+=parseFloat(c.css(a,"border"+this+"Width"))||0);"margin"===d&&(e+=parseFloat(c.css(a,d+this))||0)});return e+"px"}function va(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");if(c.isFunction(d))for(var e=b.toLowerCase().split(wa),f=0,g=e.length,h,i;f<g;f++)h=e[f],(i= ^\+="" .test(h))&&(h="h.substr(1)||" *"),h="a[h]=a[h]||[],h[i?"unshift":"push"](d)}}function"" u(a,b,c,e,f,g){f="f||b.dataTypes[0];g=g||{};g[f]=!0;for(var" f="a[f],h=0,i=f?f.length:0,j=a===$,m;h<i&&(j||!m);h++)m=f[h](b,c,e)," string"="==typeof"" m&&(!j||g[m]?m="l:(b.dataTypes.unshift(m),m=U(a,b,c,e,m,g)));if((j||!m)&&!g[" *"])m="U(a,b,c,e,"*",g);return"" m}function="" xa(a,b){var="" d,e,f="c.ajaxSettings.flatOptions||{};for(d" in="" b)b[d]!="=l&&((f[d]?a:e||(e={}))[d]=b[d]);e&&c.extend(!0,a,e)}function" aa(a,b,d,e){if(c.isarray(b))c.each(b,function(b,f){d||hb.test(a)?e(a,f):aa(a+"["+("object"="==typeof" f||c.isarray(f)?b:"")+"]",f,d,e)});else="" if(!d&&null!="b&&" object"="==typeof"" b)for(var="" b)aa(a+"["+f+"]",b[f],d,e);else="" e(a,b)}function="" ya(){try{return="" new="" r.xmlhttprequest}catch(a){}}function="" za(){settimeout(ib,0);return="" v="c.now()}function" ib(){v="l}function" d(a,b){var="" d="{};c.each(Aa.concat.apply([],Aa.slice(0,b)),function(){d[this]=a});return" d}function="" ba(a){if(!ba[a]){var="" b="k.body,d=c(" <"+a+""="">").appendTo(b),e=d.css("display");d.remove();if("none"===e||""===e){y||(y=k.createElement("iframe"),y.frameBorder=y.width=y.height=0);b.appendChild(y);if(!J||!y.createElement)J=(y.contentWindow||y.contentDocument).document,J.write(("CSS1Compat"===k.compatMode?"<!doctype html>":"")+"<html><body>"),J.close();d=J.createElement(a);J.body.appendChild(d);e=c.css(d,"display");b.removeChild(y)}ba[a]=e}return ba[a]}function ca(a){return c.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var k=r.document,jb=r.navigator,kb=r.location,c=function(){function a(){if(!b.isReady){try{k.documentElement.doScroll("left")}catch(c){setTimeout(a,1);return}b.ready()}}var b=function(a,c){return new b.fn.init(a,c,f)},c=r.jQuery,e=r.$,f,g=/^(?:[^#<]*(<[\w\w]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,i=/^\s+/,j=/\s+$/,m=/\d/,t=/^<(\w+)\s*\ ?="">(?:<\ \1="">)?$/,o=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,n=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,lb=/(?:^|:|,)(?:\s*\[)+/g,mb=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/gi,q=/^-ms-/,y=function(a,b){return(b+"").toUpperCase()},s=jb.userAgent,K,Q,nb=Object.prototype.toString,da=Object.prototype.hasOwnProperty,ea=Array.prototype.push,T=Array.prototype.slice,Ca=String.prototype.trim,Da=Array.prototype.indexOf,Ea={};b.fn=b.prototype={constructor:b,init:function(a,c,d){var e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&k.body)return this.context=k,this[0]=k.body,this.selector=a,this.length=1,this;if("string"===typeof a){if((e="<"===a.charat(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:g.exec(a))&&(e[1]||!c)){if(e[1])return d="(c=c" instanceof="" b?c[0]:c)?c.ownerdocument||c:k,(a="t.exec(a))?b.isPlainObject(c)?(a=[k.createElement(a[1])],b.fn.attr.call(a,c,!0)):a=[d.createElement(a[1])]:(a=b.buildFragment([e[1]],[d]),a=(a.cacheable?b.clone(a.fragment):a.fragment).childNodes),b.merge(this,a);if((c=k.getElementById(e[2]))&&c.parentNode){if(c.id!==e[2])return" d.find(a);this.length="1;this[0]=c}this.context=k;this.selector=a;return" this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}if(b.isfunction(a))return="" d.ready(a);a.selector!="=l&&(this.selector=a.selector,this.context=a.context);return" b.makearray(a,this)},selector:"",jquery:"1.7",length:0,size:function(){return="" this.length},toarray:function(){return="" t.call(this,0)},get:function(a){return="" null="=a?this.toArray():0">a?this[this.length+a]:this[a]},pushStack:function(a,c,d){var e=this.constructor();b.isArray(a)?ea.apply(e,a):b.merge(e,a);e.prevObject=this;e.context=this.context;"find"===c?e.selector=this.selector+(this.selector?" ":"")+d:c&&(e.selector=this.selector+"."+c+"("+d+")");return e},each:function(a,c){return b.each(this,a,c)},ready:function(a){b.bindReady();K.add(a);return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(T.apply(this,arguments),"slice",T.call(arguments).join(","))},map:function(a){return this.pushStack(b.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ea,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var a,c,d,e,f,s=arguments[0]||{},g=1,h=arguments.length,K=!1;"boolean"===typeof s&&(K=s,s=arguments[1]||{},g=2);"object"!==typeof s&&!b.isFunction(s)&&(s={});h===g&&(s=this,--g);for(;g<h;g++)if(null!=(a=arguments[g]))for(c in="" a)d="s[c],e=a[c],s!==e&&(K&&e&&(b.isPlainObject(e)||(f=b.isArray(e)))?(f?(f=!1,d=d&&b.isArray(d)?d:[]):d=d&&b.isPlainObject(d)?d:{},s[c]=b.extend(K,d,e)):e!==l&&(s[c]=e));return" s};b.extend({noconflict:function(a){r.$="==b&&(r.$=e);a&&r.jQuery===b&&(r.jQuery=c);return" b},isready:!1,readywait:1,holdready:function(a){a?b.readywait++:b.ready(!0)},ready:function(a){if(!0="==a&&!--b.readyWait||!0!==a&&!b.isReady){if(!k.body)return" settimeout(b.ready,1);b.isready="!0;!0!==a&&0<--b.readyWait||(K.fireWith(k,[b]),b.fn.trigger&&b(k).trigger(" ready").unbind("ready"))}},bindready:function(){if(!k){k="b.Callbacks("once"" memory");if("complete"="==k.readyState)return" settimeout(b.ready,1);if(k.addeventlistener)k.addeventlistener("domcontentloaded",q,!1),r.addeventlistener("load",b.ready,!1);else="" if(k.attachevent){k.attachevent("onreadystatechange",q);r.attachevent("onload",b.ready);var="" c="!1;try{c=null==r.frameElement}catch(d){}k.documentElement.doScroll&&c&&a()}}},isFunction:function(a){return" function"="==b.type(a)},isArray:Array.isArray||function(a){return"array"===b.type(a)},isWindow:function(a){return"" a&&"object"="==typeof" a&&"setinterval"in="" a},isnumeric:function(a){return="" null!="a&&m.test(a)&&!isNaN(a)},type:function(a){return" null="=a?" "+a:ea[nb.call(a)]||"object"},isplainobject:function(a){if(!a||"object"!="=b.type(a)||a.nodeType||b.isWindow(a))return!1;try{if(a.constructor&&!da.call(a,"constructor")&&!da.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var"" d="" a);return="" b="" a)return!1;return!0},error:function(a){throw="" a},parsejson:function(a){if("string"!="=typeof" a||!a)return="" null;a="b.trim(a);if(r.JSON&&r.JSON.parse)return" r.json.parse(a);if(o.test(a.replace(p,"@").replace(n,"]").replace(lb,"")))return="" new="" function("return="" "+a)();b.error("invalid="" json:="" "+a)},parsexml:function(a){var="" c,d;try{r.domparser?(d="new" domparser,c="d.parseFromString(a," text="" xml")):(c="new"" activexobject("microsoft.xmldom"),c.async="false" ,c.loadxml(a))}catch(e){c="l}(!c||!c.documentElement||c.getElementsByTagName(" parsererror").length)&&b.error("invalid"="" xml:="" "+a);return="" c},noop:function(){},globaleval:function(a){a&&h.test(a)&&(r.execscript||function(a){r.eval.call(r,a)})(a)},camelcase:function(a){return="" a.replace(q,"ms-").replace(v,y)},nodename:function(a,b){return="" a.nodename&&a.nodename.touppercase()="==b.toUpperCase()},each:function(a,c,d){var" e,f="0,s=a.length,g=s===l||b.isFunction(a);if(d)if(g)for(e" a){if(!1="==c.apply(a[e],d))break}else" for(;f<s&&!(!1="==c.apply(a[f++],d)););else" if(g)for(e="" a},trim:ca?function(a){return="" e="b.type(a);null==a.length||" string"="==e||"function"===e||"regexp"===e||b.isWindow(a)?ea.call(d,a):b.merge(d,a)}return"" d},inarray:function(a,b,c){var="" d;if(b){if(da)return="" da.call(b,a,c);d="b.length;for(c=c?0">c?Math.max(0,d+c):c:0;c<d;c++)if(c in="" b&&b[c]="==a)return" c}return-1},merge:function(a,b){var="" c="a.length,d=0;if(" number"="==typeof"" b.length)for(var="" e="b.length;d<e;d++)a[c++]=b[d];else" for(;b[d]!="=l;)a[c++]=b[d++];a.length=c;return" a},grep:function(a,b,c){for(var="" d="[],e,c=!!c,f=0,s=a.length;f<s;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return" d},map:function(a,c,d){var="" e,f,s="[],g=0,h=a.length;if(a" instanceof="" b||h!="=l&&" h&&(0<h&&a[0]&&a[h-1]||0="==h||b.isArray(a)))for(;g<h;g++)e=c(a[g],g,d),null!=e&&(s[s.length]=e);else" for(f="" a)e="c(a[f],f,d),null!=e&&(s[s.length]=e);return" s.concat.apply([],s)},guid:1,proxy:function(a,c){if("string"="==typeof" c)var="" l;var="" a.apply(c,e.concat(t.call(arguments)))};d.guid="a.guid=a.guid||d.guid||b.guid++;return" d},access:function(a,c,d,e,f,s){var="" g="a.length;if(" object"="==typeof"" c){for(var="" h="" c)b.access(a,h,c[h],e,f,d);return="" a}if(d!="=l){e=!s&&e&&b.isFunction(d);for(h=0;h<g;h++)f(a[h],c,e?d.call(a[h],h,f(a[h],c)):d,s);return" a}return="" g?f(a[0],c):l},now:function(){return(new="" date).gettime()},uamatch:function(a){a="a.toLowerCase();a=mb.exec(a)||w.exec(a)||u.exec(a)||0">a.indexOf("compatible")&&x.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}b.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(d,e){e&&e instanceof b&&!(e instanceof a)&&(e=a(e));return b.fn.init.call(this,d,e,c)};a.fn.init.prototype=a.fn;var c=a(k);return a},browser:{}});b.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(a,b){Ea["[object "+b+"]"]=b.toLowerCase()});s=b.uaMatch(s);s.browser&&(b.browser[s.browser]=!0,b.browser.version=s.version);b.browser.webkit&&(b.browser.safari=!0);h.test(" ")&&(i=/^[\s\xA0]+/,j=/[\s\xA0]+$/);f=b(k);k.addEventListener?Q=function(){k.removeEventListener("DOMContentLoaded",Q,!1);b.ready()}:k.attachEvent&&(Q=function(){"complete"===k.readyState&&(k.detachEvent("onreadystatechange",Q),b.ready())});"function"===typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b});return b}(),ka={};c.Callbacks=function(a){var a=a?ka[a]||$a(a):{},b=[],d=[],e,f,g,h,i,j=function(d){var e,f,g,h;for(e=0,f=d.length;e<f;e++)g=d[e],h=c.type(g),"array"===h?j(g):"function"===h&&(!a.unique||!t.has(g))&&b.push(g)},m=function(c,j){j=j||[];e=!a.memory||[c,j];f=!0;i=g||0;g=0;for(h=b.length;b&&i<h;i++)if(!1===b[i].apply(c,j)&&a.stoponfalse){e=!0;break}f=!1;b&&(a.once?!0===e?t.disable():b=[]:d&&d.length&&(e=d.shift(),t.firewith(e[0],e[1])))},t={add:function(){if(b){var a="b.length;j(arguments);f?h=b.length:e&&!0!==e&&(g=a,m(e[0],e[1]))}return" this},remove:function(){if(b)for(var="" c="arguments,d=0,e=c.length;d<e;d++)for(var" g="0;g<b.length&&!(c[d]===b[g]&&(f&&g<=h&&(h--,g<=i&&i--),b.splice(g--,1),a.unique));g++);return" this},has:function(a){if(b)for(var="" this},disable:function(){b="d=e=l;return" this},disabled:function(){return!b},lock:function(){d="l;(!e||!0===e)&&t.disable();return" this},locked:function(){return!d},firewith:function(b,c){d&&(f?a.once||d.push([b,c]):(!a.once||!e)&&m(b,c));return="" this},fire:function(){t.firewith(this,arguments);return="" this},fired:function(){return!!e}};return="" t};var="" fa="[].slice;c.extend({Deferred:function(a){var" b="c.Callbacks(" once"="" memory"),d="c.Callbacks(" memory"),e="c.Callbacks(" memory"),f="pending" ,g="{resolve:b,reject:d,notify:e},h={done:b.add,fail:d.add,progress:e.add,state:function(){return"" f},isresolved:b.fired,isrejected:d.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return="" this},always:function(){return="" i.done.apply(i,arguments).fail.apply(i,arguments)},pipe:function(a,b,d){return="" c.deferred(function(e){c.each({done:[a,"resolve"],fail:[b,"reject"],progress:[d,"notify"]},function(a,b){var="" d="b[0],f=b[1],g;if(c.isFunction(d))i[a](function(){if((g=d.apply(this,arguments))&&c.isFunction(g.promise))g.promise().then(e.resolve,e.reject,e.notify);else" e[f+"with"](this="==i?e:this,[g])});else" i[a](e[f])})}).promise()},promise:function(a){if(null="=a)a=h;else" for(var="" in="" h)a[b]="h[b];return" a}},i="h.promise({}),j;for(j" g)i[j]="g[j].fire,i[j+" with"]="g[j].fireWith;i.done(function(){f="resolved"},d.disable,e.lock).fail(function(){f="rejected"},b.disable,e.lock);a&&a.call(i,i);return"" i},when:function(a){function="" b(a){return="" function(b){e[a]="1<arguments.length?fa.call(arguments,0):b;--i||j.resolveWith(j,e)}}function" d(a){return="" function(b){h[a]="1<arguments.length?fa.call(arguments,0):b;j.notifyWith(m,h)}}var" e="fa.call(arguments,0),f=0,g=e.length,h=Array(g),i=g,j=1">=g&&a&&c.isFunction(a.promise)?a:c.Deferred(),m=j.promise();if(1<g){for(;f<g;f++)e[f]&&e[f].promise&&c.isfunction(e[f].promise)?e[f].promise().then(b(f),j.reject,d(f)):--i;i||j.resolvewith(j,e)}else j!="=a&&j.resolveWith(j,g?[a]:[]);return" m}});c.support="function(){var" a="k.createElement(" div"),b="k.documentElement,d,e,f,g,h,i,j,m;a.setAttribute("className","t");a.innerHTML=""" <link=""><table></table><a href="/a" style="top:1px;float:left;opacity:.55;">a</a><input type="checkbox"><nav></nav>";d=a.getElementsByTagName("*");e=a.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};f=k.createElement("select");g=f.appendChild(k.createElement("option"));d=a.getElementsByTagName("input")[0];h={leadingWhitespace:3===a.firstChild.nodeType,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,unknownElems:!!a.getElementsByTagName("nav").length,checkOn:"on"===d.value,optSelected:g.selected,getSetAttribute:"t"!==a.className,enctype:!!k.createElement("form").enctype,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};d.checked=!0;h.noCloneChecked=d.cloneNode(!0).checked;f.disabled=!0;h.optDisabled=!g.disabled;try{delete a.test}catch(l){h.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){h.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick"));d=k.createElement("input");d.value="t";d.setAttribute("type","radio");h.radioValue="t"===d.value;d.setAttribute("checked","checked");a.appendChild(d);e=k.createDocumentFragment();e.appendChild(a.lastChild);h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";i=k.getElementsByTagName("body")[0];j=k.createElement(i?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};i&&c.extend(e,{position:"absolute",left:"-999px",top:"-999px"});for(m in e)j.style[m]=e[m];j.appendChild(a);b=i||b;b.insertBefore(j,b.firstChild);h.appendChecked=d.checked;h.boxModel=2===a.offsetWidth;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,h.inlineBlockNeedsLayout=2===a.offsetWidth,a.style.display="",a.innerHTML="<div style="width:4px;"></div>",h.shrinkWrapBlocks=2!==a.offsetWidth);a.innerHTML="<table><tr><td style="padding:0;border:0;display:none"></td><td>t</td></tr></table>";e=a.getElementsByTagName("td");d=0===e[0].offsetHeight;e[0].style.display="";e[1].style.display="none";h.reliableHiddenOffsets=d&&0===e[0].offsetHeight;a.innerHTML="";k.defaultView&&k.defaultView.getComputedStyle&&(d=k.createElement("div"),d.style.width="0",d.style.marginRight="0",a.appendChild(d),h.reliableMarginRight=0===(parseInt((k.defaultView.getComputedStyle(d,null)||{marginRight:0}).marginRight,10)||0));if(a.attachEvent)for(m in{submit:1,change:1,focusin:1})e="on"+m,d=e in a,d||(a.setAttribute(e,"return;"),d="function"===typeof a[e]),h[m+"Bubbles"]=d;c(function(){var a,b,d,e;if(i=k.getElementsByTagName("body")[0])a=k.createElement("div"),a.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(a,i.firstChild),j=k.createElement("div"),j.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;",j.innerHTML="<div style="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;"><div></div></div><table style="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>",a.appendChild(j),b=j.firstChild,d=b.firstChild,e={doesNotAddBorder:5!==d.offsetTop,doesAddBorderForTableAndCells:5===b.nextSibling.firstChild.firstChild.offsetTop},d.style.position="fixed",d.style.top="20px",e.fixedPosition=20===d.offsetTop||15===d.offsetTop,d.style.position=d.style.top="",b.style.overflow="hidden",b.style.position="relative",e.subtractsBorderForOverflowNotVisible=-5===d.offsetTop,e.doesNotIncludeMarginInBodyOffset=1!==i.offsetTop,i.removeChild(a),j=null,c.extend(h,e)});j.innerHTML="";b.removeChild(j);j=e=f=g=i=d=a=d=null;return h}();c.boxModel=c.support.boxModel;var bb=/^(?:\{.*\}|\[.*\])$/,ab=/([A-Z])/g;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!Z(a)},data:function(a,b,d,e){if(c.acceptData(a)){var f,g="string"===typeof b,h=(f=a.nodeType)?c.cache:a,i=f?a[c.expando]:a[c.expando]&&c.expando,j="events"===b;if(i&&h[i]&&(j||e||h[i].data)||!(g&&d===l)){i||(f?a[c.expando]=i=++c.uuid:i=c.expando);h[i]||(h[i]={},f||(h[i].toJSON=c.noop));if("object"===typeof b||"function"===typeof b)e?h[i]=c.extend(h[i],b):h[i].data=c.extend(h[i].data,b);f=a=h[i];e||(a.data||(a.data={}),a=a.data);d!==l&&(a[c.camelCase(b)]=d);if(j&&!a[b])return f.events;g?(d=a[b],null==d&&(d=a[c.camelCase(b)])):d=a;return d}}},removeData:function(a,b,d){if(c.acceptData(a)){var e,f,g,h=a.nodeType,i=h?c.cache:a,j=h?a[c.expando]:c.expando;if(i[j]){if(b&&(e=d?i[j]:i[j].data)){c.isArray(b)||(b in e?b=[b]:(b=c.camelCase(b),b=b in e?[b]:b.split(" ")));for(f=0,g=b.length;f<g;f++)delete e[b[f]];if(!(d?z:c.isemptyobject)(e))return}if(!d&&(delete="" i[j].data,!z(i[j])))return;c.support.deleteexpando||!i.setinterval?delete="" i[j]:i[j]="null;h&&(c.support.deleteExpando?delete" a[c.expando]:a.removeattribute?a.removeattribute(c.expando):a[c.expando]="null)}}},_data:function(a,b,d){return" c.data(a,b,d,!0)},acceptdata:function(a){if(a.nodename){var="" b="c.noData[a.nodeName.toLowerCase()];if(b)return!(!0===b||a.getAttribute(" classid")!="=b)}return!0}});c.fn.extend({data:function(a,b){var"" d,e,f,g="null;if(" undefined"="==typeof"" a){if(this.length&&(g="c.data(this[0]),1===this[0].nodeType&&!c._data(this[0]," parsedattrs"))){e="this[0].attributes;for(var"" h="0,i=e.length;h<i;h++)f=e[h].name,0===f.indexOf(" data-")&&(f="c.camelCase(f.substring(5)),la(this[0],f,g[f]));c._data(this[0],"parsedAttrs",!0)}return"" g}if("object"="==typeof" a)return="" this.each(function(){c.data(this,a)});d="a.split(" .");d[1]="d[1]?"."+d[1]:"";return"" e="c(this),f=[d[0],b];e.triggerHandler(" setdata"+d[1]+"!",f);c.data(this,a,b);e.triggerhandler("changedata"+d[1]+"!",f)})},removedata:function(a){return"="" this.each(function(){c.removedata(this,a)})}});c.extend({_mark:function(a,b){a&&(b="(b||" fx")+"mark",c._data(a,b,(c._data(a,b)||0)+1))},_unmark:function(a,b,d){!0!="=a&&(d=b,b=a,a=!1);if(b){var"" d="d||" fx",e="d+"mark";(a=a?0:(c._data(b,e)||1)-1)?c._data(b,e,a):(c.removeData(b,e,!0),ma(b,d,"mark"))}},queue:function(a,b,d){var"" e;if(a)return="" "+b+".run",!0),ma(a,b,"queue"))}});c.fn.extend({queue:function(a,b){"string"!="=typeof" a&&(b="a,a=" fx");return"="" this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a="c.fx?c.fx.speeds[a]||a:a;return" this.queue(b||"fx",function(b,c){var="" f="setTimeout(b,a);c.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return" this.queue(a||"fx",[])},promise:function(a){function="" b(){--g||d.resolvewith(e,[e])}"string"!="=typeof" a&&(a="l);for(var" a="a||" fx",d="c.Deferred(),e=this,f=e.length,g=1,h=a+"defer",i=a+"queue",a=a+"mark",j;f--;)if(j=c.data(e[f],h,l,!0)||(c.data(e[f],i,l,!0)||c.data(e[f],a,l,!0))&&c.data(e[f],h,c.Callbacks("once"" memory"),!0))g++,j.add(b);b();return="" d.promise()}});var="" fa="/[\n\t\r]/g,W=/\s+/,ob=/\r/g,pb=/^(?:button|input)$/i,qb=/^(?:button|input|object|select|textarea)$/i,rb=/^a(?:rea)?$/i,Ga=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ha=c.support.getSetAttribute,A,Ia,Ja;c.fn.extend({attr:function(a,b){return" c.access(this,a,b,!0,c.attr)},removeattr:function(a){return="" this.each(function(){c.removeattr(this,a)})},prop:function(a,b){return="" c.access(this,a,b,!0,c.prop)},removeprop:function(a){a="c.propFix[a]||a;return" this.each(function(){try{this[a]="l,delete" this[a]}catch(b){}})},addclass:function(a){var="" b,d,e,f,g,h,i;if(c.isfunction(a))return="" this.each(function(b){c(this).addclass(a.call(this,b,this.classname))});if(a&&"string"="==typeof" a){b="a.split(W);for(d=0,e=this.length;d<e;d++)if(f=this[d],1===f.nodeType)if(!f.className&&1===b.length)f.className=a;else{g=" "="" "+f.classname+"="" ";for(h="0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+"="" ")||(g+="b[h]+" ");f.classname="c.trim(g)}}return" this},removeclass:function(a){var="" this.each(function(b){c(this).removeclass(a.call(this,b,this.classname))});if(a&&"string"="==typeof" a||a="==l){b=(a||" ").split(w);for(d="0,e=this.length;d<e;d++)if(f=this[d],1===f.nodeType&&f.className)if(a){g=(""" ").replace(fa,"="" ");for(h="0,i=b.length;h<i;h++)g=g.replace(" ","="" f.classname="" }return="" this},toggleclass:function(a,b){var="" a,e="boolean" =="=typeof" b;return="" c.isfunction(a)?this.each(function(d){c(this).toggleclass(a.call(this,d,this.classname,b),b)}):this.each(function(){if("string"="==d)for(var" f,g="0,h=c(this),i=b,j=a.split(W);f=j[g++];)i=e?i:!h.hasClass(f),h[i?" addclass":"removeclass"](f);else"="" if("undefined"="==d||" boolean"="==d)this.className&&c._data(this,"__className__",this.className),this.className=this.className||!1===a?"":c._data(this,"__className__")||""})},hasClass:function(a){for(var"" +a+"="" ",b="0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].classname+"="" ").indexof(a))return!0;return!1},val:function(a){var="" b,d,e,f="this[0];if(!arguments.length){if(f){if((b=c.valHooks[f.nodeName.toLowerCase()]||c.valHooks[f.type])&&" get"in"="" b&&(d="b.get(f," value"))!="=l)return"" d;d="f.value;return" string"="==typeof"" d?d.replace(ob,""):null="=d?" ":d}return"="" l}e="c.isFunction(a);return" this.each(function(d){var="" d?d+="" :c.isarray(d)&&(d="c.map(d,function(a){return" null="=a?" ":a+""})),b="c.valHooks[this.nodeName.toLowerCase()]||c.valHooks[this.type],!b||!("set"in"" b)||b.set(this,d,"value")="==l))this.value=d})}});c.extend({valHooks:{option:{get:function(a){var" b,d,e="a.selectedIndex,f=[],g=a.options,h=" select-one"="==a.type;if(0"">e)return null;a=h?e:0;for(d=h?e+1:g.length;a<d;a++)if(b=g[a],b.selected&&(c.support.optdisabled?!b.disabled:null===b.getattribute("disabled"))&&(!b.parentnode.disabled||!c.nodename(b.parentnode,"optgroup"))){b=c(b).val();if(h)return b;f.push(b)}return="" h&&!f.length&&g.length?c(g[e]).val():f},set:function(a,b){var="" d="c.makeArray(b);c(a).find(" option").each(function(){this.selected="0<=c.inArray(c(this).val(),d)});d.length||(a.selectedIndex=-1);return"" d}}},attrfn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,b,d,e){var="" f,g,h="a.nodeType;if(!a||3===h||8===h||2===h)return" l;if(e&&b="" in="" c.attrfn)return="" c(a)[b](d);if(!("getattribute"in="" a))return="" c.prop(a,b,d);if(e="1!==h||!c.isXMLDoc(a))b=b.toLowerCase(),g=c.attrHooks[b]||(Ga.test(b)?Ia:A);if(d!==l){if(null===d)return" c.removeattr(a,b),l;if(g&&"set"in="" g&&e&&(f="g.set(a,d,b))!==l)return" f;a.setattribute(b,""+d);return="" d}if(g&&"get"in="" g&&e&&null!="=(f=g.get(a,b)))return" f;f="a.getAttribute(b);return" null="==f?l:f},removeAttr:function(a,b){var" d,e,f,g,h="0;if(1===a.nodeType){e=(b||" ").split(w);for(g="e.length;h<g;h++)f=e[h].toLowerCase(),d=c.propFix[f]||f,c.attr(a,f,""),a.removeAttribute(Ha?f:d),Ga.test(f)&&d"" a&&(a[d]="!1)}},attrHooks:{type:{set:function(a,b){if(pb.test(a.nodeName)&&a.parentNode)c.error(" type"="" property="" can't="" be="" changed");else="" if(!c.support.radiovalue&&"radio"="==b&&c.nodeName(a," input")){var"="" b}}},value:{get:function(a,b){return="" a&&c.nodename(a,"button")?a.get(a,b):b="" a?a.value:null},set:function(a,b,d){if(a&&c.nodename(a,"button"))return="" a.set(a,b,d);a.value="b}}},propFix:{tabindex:" tabindex",readonly:"readonly","for":"htmlfor","class":"classname",maxlength:"maxlength",cellspacing:"cellspacing",cellpadding:"cellpadding",rowspan:"rowspan",colspan:"colspan",usemap:"usemap",frameborder:"frameborder",contenteditable:"contenteditable"},prop:function(a,b,d){var"="" e,f,g="a.nodeType;if(!a||3===g||8===g||2===g)return" l;if(1!="=g||!c.isXMLDoc(a))b=c.propFix[b]||b,f=c.propHooks[b];return" d!="=l?f&&" set"in"="" f&&(e="f.set(a,d,b))!==l?e:a[b]=d:f&&" get"in"="" f&&null!="=(e=f.get(a,b))?e:a[b]},propHooks:{tabIndex:{get:function(a){var" b="a.getAttributeNode(" tabindex");return"="" b&&b.specified?parseint(b.value,10):qb.test(a.nodename)||rb.test(a.nodename)&&a.href?0:l}}}});c.attrhooks.tabindex="c.propHooks.tabIndex;Ia={get:function(a,b){var" d,e="c.prop(a,b);return!0===e||" boolean"!="=typeof"" e&&(d="a.getAttributeNode(b))&&!1!==d.nodeValue?b.toLowerCase():l},set:function(a,b,d){!1===b?c.removeAttr(a,d):(b=c.propFix[d]||d,b" a&&(a[b]="!0),a.setAttribute(d,d.toLowerCase()));return" d}};ha||(ja="{name:!0,id:!0},A=c.valHooks.button={get:function(a,b){var" c;return(c="a.getAttributeNode(b))&&(Ja[b]?" "!="=c.nodeValue:c.specified)?c.nodeValue:l},set:function(a,b,c){var"" e="a.getAttributeNode(c);e||(e=k.createAttribute(c),a.setAttributeNode(e));return" e.nodevalue="b+" "}},c.attrhooks.tabindex.set="A.set,c.each(["width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{set:function(a,c){if(""===c)return"" a.setattribute(b,"auto"),c}})}),c.attrhooks.contenteditable="{get:A.get,set:function(a,b,c){" "="==b&&(b="false");A.set(a,b,c)}});c.support.hrefNormalized||c.each(["href","src","width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return"" a.style.csstext.tolowercase()||l},set:function(a,b){return="" a.style.csstext="" +b}});c.support.optselected||(c.prophooks.selected="c.extend(c.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return" null}}));c.support.enctype||(c.propfix.enctype="encoding" );c.support.checkon||c.each(["radio","checkbox"],function(){c.valhooks[this]="{get:function(a){return" a.checked="0<=c.inArray(c(a).val(),b)}})});var" ga="/^(?:textarea|input|select)$/i,Ka=/^([^\.]*)?(?:\.(.+))?$/,sb=/\bhover(\.\S+)?/,tb=/^key/,ub=/^(?:mouse|contextmenu)|click/,vb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,wb=function(a){if(a=vb.exec(a))a[1]=(a[1]||" ").tolowercase(),a[3]="a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)");return"" a},la="function(a){return" c.event.special.hover?a:a.replace(sb,"mouseenter$1="" mouseleave$1")};c.event="{add:function(a,b,d,e,f){var" g,h,i,j,m,k,o,p,n;if(!(3="==a.nodeType||8===a.nodeType||!b||!d||!(g=c._data(a)))){d.handler&&(o=d,d=o.handler);d.guid||(d.guid=c.guid++);i=g.events;i||(g.events=i={});h=g.handle;h||(g.handle=h=function(a){return" undefined"!="=typeof"" c&&(!a||c.event.triggered!="=a.type)?c.event.dispatch.apply(h.elem,arguments):l},h.elem=a);b=La(b).split(" ");for(g="0;g<b.length;g++){j=Ka.exec(b[g])||[];m=j[1];k=(j[2]||" ").split(".").sort();n="c.event.special[m]||{};m=(f?n.delegateType:n.bindType)||m;n=c.event.special[m]||{};j=c.extend({type:m,origType:j[1],data:e,handler:d,guid:d.guid,selector:f,namespace:k.join(".")},o);f&&(j.quick=wb(f),!j.quick&&c.expr.match.POS.test(f)&&(j.isPositional=!0));p=i[m];if(!p&&(p=i[m]=[],p.delegateCount=0,!n.setup||!1===n.setup.call(a,e,k,h)))a.addEventListener?a.addEventListener(m,h,!1):a.attachEvent&&a.attachEvent("on"+m,h);"" n.add&&(n.add.call(a,j),j.handler.guid||(j.handler.guid="d.guid));f?p.splice(p.delegateCount++,0,j):p.push(j);c.event.global[m]=!0}a=null}},global:{},remove:function(a,b,d,e){var" f="c.hasData(a)&&c._data(a),g,h,i,j,m,l,o,k,n;if(f&&(l=f.events)){b=La(b||" ").split(""="" l)c.event.remove(a,m+h,d,e);return}o="c.event.special[i]||{};i=(e?o.delegateType:o.bindType)||i;k=l[i]||[];j=k.length;h=h?RegExp(" (^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;if(d||h||e||o.remove)for(m="0;m<k.length;m++){if(n=k[m],!d||d.guid===n.guid)if(!h||h.test(n.namespace))if(!e||e===n.selector||"**"===e&&n.selector)k.splice(m--,1),n.selector&&k.delegateCount--,o.remove&&o.remove.call(a,n)}else"" k.length="0;0===k.length&&j!==k.length&&((!o.teardown||!1===o.teardown.call(a,h))&&c.removeEvent(a,i,f.handle),delete" l[i])}if(c.isemptyobject(l)){if(b="f.handle)b.elem=null;c.removeData(a,[" events","handle"],!0)}}},customevent:{getdata:!0,setdata:!0,changedata:!0},trigger:function(a,b,d,e){if(!d||!(3="==d.nodeType||8===d.nodeType)){var"" a?a[c.expando]?a:new="" c.event(f,a):new="" c.event(f),a.type="f,a.isTrigger=!0,a.exclusive=h,a.namespace=g.join(" ."),a.namespace_re="a.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,g=0"">f.indexOf(":")?"on"+f:"",(e||!d)&&a.preventDefault(),d){if(a.result=l,a.target||(a.target=d),b=null!=b?c.makeArray(b):[],b.unshift(a),h=c.event.special[f]||{},!(h.trigger&&!1===h.trigger.apply(d,b))){m=[[d,h.bindType||f]];if(!e&&!h.noBubble&&!c.isWindow(d)){j=h.delegateType||f;i=null;for(e=d.parentNode;e;e=e.parentNode)m.push([e,j]),i=e;i&&i===d.ownerDocument&&m.push([i.defaultView||i.parentWindow||r,j])}for(i=0;i<m.length&&!(e=m[i][0],a.type=m[i][1],(j=(c._data(e,"events")||{})[a.type]&&c._data(e,"handle"))&&j.apply(e,b),(j=g&&e[g])&&c.acceptdata(e)&&j.apply(e,b),a.ispropagationstopped());i++);a.type=f;if(!a.isdefaultprevented()&&(!h._default||!1===h._default.apply(d.ownerdocument,b))&&!("click"===f&&c.nodename(d,"a"))&&c.acceptdata(d))if(g&&d[f]&&("focus"!==f&&"blur"!==f||0!==a.target.offsetwidth)&&!c.iswindow(d))(i=d[g])&&(d[g]=null),c.event.triggered=f,d[f](),c.event.triggered=l,i&&(d[g]=i);return a.result}}else="" for(i="" in="" d="c.cache,d)d[i].events&&d[i].events[f]&&c.event.trigger(a,b,d[i].handle.elem,!0)}},dispatch:function(a){var" a="c.event.fix(a||r.event),b=(c._data(this," events")||{})[a.type]||[],d="b.delegateCount,e=[].slice.call(arguments,0),f=!a.exclusive&&!a.namespace,g=(c.event.special[a.type]||{}).handle,h=[],i,j,m,k,o,p,n;e[0]=a;a.delegateTarget=this;if(d&&!a.target.disabled&&!(a.button&&"click"===a.type))for(j=a.target;j!=this;j=j.parentNode||this){k={};o=[];for(i=0;i<d;i++)m=b[i],p=m.selector,n=k[p],m.isPositional?n=0<=(n||(k[p]=c(p))).index(j):n===l&&(n=k[p]=m.quick?(!m.quick[1]||j.nodeName.toLowerCase()===m.quick[1])&&(!m.quick[2]||j.id===m.quick[2])&&(!m.quick[3]||m.quick[3].test(j.className)):c(j).is(p)),n&&o.push(m);o.length&&h.push({elem:j,matches:o})}b.length"">d&&h.push({elem:this,matches:b.slice(d)});for(i=0;i<h.length&&!a.ispropagationstopped();i++){d=h[i];a.currenttarget=d.elem;for(b=0;b<d.matches.length&&!a.isimmediatepropagationstopped();b++)if(m=d.matches[b],f||!a.namespace&&!m.namespace||a.namespace_re&&a.namespace_re.test(m.namespace))a.data=m.data,a.handleobj=m,m=(g||m.handler).apply(d.elem,e),m!==l&&(a.result=m,!1===m&&(a.preventdefault(),a.stoppropagation()))}return 1="=arguments.length?this.off(a," **"):this.off(b,a,c)},trigger:function(a,b){return"="" a.result},props:"attrchange,attrname,relatednode,srcelement,altkey,bubbles,cancelable,ctrlkey,currenttarget,eventphase,metakey,relatedtarget,shiftkey,target,timestamp,view,which".split(","),fixhooks:{},keyhooks:{props:["char","charcode","key","keycode"],filter:function(a,b){null="=a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return" a}},mousehooks:{props:"button,buttons,clientx,clienty,fromelement,offsetx,offsety,pagex,pagey,screenx,screeny,toelement,wheeldelta".split(","),filter:function(a,b){var="" c,e,f="b.button,g=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||k,e=c.documentElement,c=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0));!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g);!a.which&&f!==l&&(a.which=f&1?1:f&2?3:f&4?2:0);return" a}},fix:function(a){if(a[c.expando])return="" a;var="" b,d,e="a,f=c.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props,a=c.Event(e);for(b=g.length;b;)d=g[--b],a[d]=e[d];a.target||(a.target=e.srcElement||k);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey===l&&(a.metaKey=a.ctrlKey);return" f.filter?f.filter(a,e):a},special:{ready:{setup:c.bindready},focus:{delegatetype:"focusin",nobubble:!0},blur:{delegatetype:"focusout",nobubble:!0},beforeunload:{setup:function(a,b,d){c.iswindow(this)&&(this.onbeforeunload="d)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,d,e){a=c.extend(new" c.event,d,{type:a,issimulated:!0,originalevent:{}});e?c.event.trigger(a,null,b):c.event.dispatch.call(b,a);a.isdefaultprevented()&&d.preventdefault()}};c.event.handle="c.event.dispatch;c.removeEvent=k.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent(" on"+b,c)};c.event="function(a,b){if(!(this"" instanceof="" c.event))return="" new="" c.event(a,b);a&&a.type?(this.originalevent="a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?I:G):this.type=a;b&&c.extend(this,b);this.timeStamp=a&&a.timeStamp||c.now();this[c.expando]=!0};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=I;var" a="this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=I;var" b="a.relatedTarget,f=a.handleObj,g;if(!b||f.origType===a.type||b!==this&&!c.contains(this,b))b=a.type,a.type=f.origType,g=f.handler.apply(this,arguments),a.type=b;return" g}}});c.support.submitbubbles||(c.event.special.submit="{setup:function(){if(c.nodeName(this," form"))return!1;c.event.add(this,"click._submit"="" keypress._submit",function(a){a="a.target;if((a=c.nodeName(a," input")||c.nodename(a,"button")?a.form:l)&&!a._submit_attached)c.event.add(a,"submit._submit",function(a){this.parentnode&&c.event.simulate("submit",this.parentnode,a,!0)}),a._submit_attached="!0})},teardown:function(){if(c.nodeName(this,"form"))return!1;c.event.remove(this,"._submit")}});c.support.changeBubbles||(c.event.special.change={setup:function(){if(ga.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)c.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),c.event.add(this,"click._change",function(a){this._just_changed&&(this._just_changed=!1,c.event.simulate("change",this,a,!0))});return!1}c.event.add(this,"beforeactivate._change",function(a){a=a.target;ga.test(a.nodeName)&&!a._change_attached&&(c.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&c.event.simulate("change",this.parentNode,a,!0)}),a._change_attached=!0)})},handle:function(a){var"" a.handleobj.handler.apply(this,arguments)},teardown:function(){c.event.remove(this,"._change");return="" ga.test(this.nodename)}});c.support.focusinbubbles||c.each({focus:"focusin",blur:"focusout"},function(a,b){var="" d="0,e=function(a){c.event.simulate(b,a.target,c.event.fix(a),!0)};c.event.special[b]={setup:function(){0===d++&&k.addEventListener(a,e,!0)},teardown:function(){0===--d&&k.removeEventListener(a,e,!0)}}});c.fn.extend({on:function(a,b,d,e,f){var" g,h;if("object"="==typeof" a){"string"!="=typeof" b&&(d="b,b=l);for(h" in="" a)this.on(h,b,d,a[h],f);return="" this}null="=d&&null==e?(e=b,d=b=l):null==e&&(" string"="==typeof"" b?(e="d,d=l):(e=d,d=b,b=l));if(!1===e)e=G;else" if(!e)return="" this;1="==f&&(g=e,e=function(a){c().off(a);return" g.apply(this,arguments)},e.guid="g.guid||(g.guid=c.guid++));return" this.each(function(){c.event.add(this,a,e,d,b)})},one:function(a,b,c,e){return="" this.on.call(this,a,b,c,e,1)},off:function(a,b,d){if(a&&a.preventdefault&&a.handleobj){var="" e="a.handleObj;c(a.delegateTarget).off(e.namespace?e.type+" ."+e.namespace:e.type,e.selector,e.handler);return"="" this}if("object"="==typeof" a){for(e="" a)this.off(e,b,a[e]);return="" this}if(!1="==b||" function"="==typeof"" b)d="b,b=l;!1===d&&(d=G);return" this.each(function(){c.event.remove(this,a,d,b)})},bind:function(a,b,c){return="" this.on(a,null,b,c)},unbind:function(a,b){return="" this.off(a,null,b)},live:function(a,b,d){c(this.context).on(a,this.selector,b,d);return="" this},die:function(a,b){c(this.context).off(a,this.selector||"**",b);return="" this},delegate:function(a,b,c,e){return="" this.on(b,a,c,e)},undelegate:function(a,b,c){return="" this.each(function(){c.event.trigger(a,b,this)})},triggerhandler:function(a,b){if(this[0])return="" c.event.trigger(a,b,this[0],!0)},toggle:function(a){var="" f="(c._data(this," lasttoggle"+a.guid)||0)%e;c._data(this,"lasttoggle"+a.guid,f+1);d.preventdefault();return"="" b[f].apply(this,arguments)||!1};for(f.guid="d;e<b.length;)b[e++].guid=d;return" this.click(f)},hover:function(a,b){return="" this.mouseenter(a).mouseleave(b||a)}});c.each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),function(a,b){c.fn[b]="function(a,c){null==c&&(c=a,a=null);return" 0<arguments.length?this.bind(b,a,c):this.trigger(b)};c.attrfn&&(c.attrfn[b]="!0);tb.test(b)&&(c.event.fixHooks[b]=c.event.keyHooks);ub.test(b)&&(c.event.fixHooks[b]=c.event.mouseHooks)});(function(){function" a(a,b,c,d,f,g){for(var="" i="d[f];if(i){for(var" j="!1,i=i[a];i;){if(i[e]===c){j=d[i.sizset];break}1===i.nodeType&&!g&&(i[e]=c,i.sizset=f);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[f]=j}}}function" b(a,b,c,d,f,g){for(var="" b){if(i="==b){j=!0;break}}else" if(0<o.filter(b,[i]).length){j="i;break}i=i[a]}d[f]=j}}}var">+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,m=/\r\n/g,t=/\W/;[0,0].sort(function(){i=!1;return 0});var o=function(a,b,c,e){var c=c||[],f=b=b||k;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return c;var h,i,j,m,l,t=!0,q=o.isXML(b),p=[],B=a;do if(d.exec(""),h=d.exec(B))if(B=h[3],p.push(h[1]),h[2]){m=h[3];break}while(h);if(1<p.length&&r.exec(a))if(2===p.length&&n.relative[p[0]])i=a(p[0]+p[1],b,e);else for(i="n.relative[p[0]]?[b]:o(p.shift(),b);p.length;)a=p.shift(),n.relative[a]&&(a+=p.shift()),i=A(a,i,e);else" if(!e&&1<p.length&&9="==b.nodeType&&!q&&n.match.ID.test(p[0])&&!n.match.ID.test(p[p.length-1])&&(h=o.find(p.shift(),b,q),b=h.expr?o.filter(h.expr,h.set)[0]:h.set[0]),b){h=e?{expr:p.pop(),set:u(e)}:o.find(p.pop(),1===p.length&&(" ~"="==p[0]||"+"===p[0])&&b.parentNode?b.parentNode:b,q);i=h.expr?o.filter(h.expr,h.set):h.set;for(0<p.length?j=u(i):t=!1;p.length;)h=l=p.pop(),n.relative[l]?h=p.pop():l="",null==h&&(h=b),n.relative[l](j,h,q)}else"" j="[];j||(j=i);j||o.error(l||a);if(" [object"="" array]"="==g.call(j))if(t)if(b&&1===b.nodeType)for(a=0;null!=j[a];a++)j[a]&&(!0===j[a]||1===j[a].nodeType&&o.contains(b,j[a]))&&c.push(i[a]);else" for(a="0;null!=j[a];a++)j[a]&&1===j[a].nodeType&&c.push(i[a]);else" c.push.apply(c,j);else="" u(j,c);m&&(o(m,f,c,e),o.uniquesort(c));return="" c};o.uniquesort="function(a){if(v&&(h=i,a.sort(v),h))for(var" b="1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return" a};o.matches="function(a,b){return" o(a,null,null,b)};o.matchesselector="function(a,b){return" 0<o(b,null,null,[a]).length};o.find="function(a,b,c){var" d,e,f,g,h,i;if(!a)return[];for(e="0,f=n.order.length;e<f;e++)if(h=n.order[e],g=n.leftMatch[h].exec(a))if(i=g[1],g.splice(1,1)," \\"!="=i.substr(i.length-1)&&(g[1]=(g[1]||"").replace(j,""),d=n.find[h](g,b,c),null!=d)){a=a.replace(n.match[h],"");break}d||(d="undefined"!==typeof"" b.getelementsbytagname?b.getelementsbytagname("*"):[]);return{set:d,expr:a}};o.filter="function(a,b,c,d){for(var" e,f,g,h,i,j,m,k,p="a,t=[],q=b,r=b&&b[0]&&o.isXML(b[0]);a&&b.length;){for(g" in="" n.filter)if(null!="(e=n.leftMatch[g].exec(a))&&e[2])if(j=n.filter[g],i=e[1],f=!1,e.splice(1,1)," f="h=!0;if(e)for(m=0;null!=(i=q[m]);m++)i&&(h=j(i,e,m,q),k=d^h,c&&null!=h?k?f=!0:q[m]=!1:k&&(t.push(i),f=!0));if(h!==l){c||(q=t);a=a.replace(n.match[g]," ");if(!f)return[];break}}if(a="==p)if(null==f)o.error(a);else"" break;p="a}return" q};o.error="function(a){throw" syntax"="" error,="" unrecognized="" expression:="" "+a};var="" p="o.getText=function(a){var" b,c;b="a.nodeType;var" d="" ;if(b)if(1="==b){if(" string"="==typeof"" a.textcontent)return="" a.textcontent;if("string"="==typeof" a.innertext)return="" a.innertext.replace(m,"");for(a="a.firstChild;a;a=a.nextSibling)d+=p(a)}else{if(3===b||4===b)return" a.nodevalue}else="" for(b="0;c=a[b];b++)8!==c.nodeType&&(d+=p(c));return" d},n="o.selectors={order:[" id","name","tag"],match:{id:="" #((?:[\w\u00c0-\uffff\-]|\\.)+)="" ,class:="" \.((?:[\w\u00c0-\uffff\-]|\\.)+)="" ,name:="" \[name="['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return"" a.getattribute("href")},type:function(a){return="" a.getattribute("type")}},relative:{"+":function(a,b){var="" c="string" =="=typeof" b,d="c&&!t.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var">":function(a,b){var c,d="string"===typeof b,e=0,f=a.length;if(d&&!t.test(b))for(b=b.toLowerCase();e<f;e++){if(c=a[e])c=c.parentnode,a[e]=c.nodename.tolowercase()===b?c:!1}else{for(;e<f;e++)(c=a[e])&&(a[e]=d?c.parentnode:c.parentnode===b);d&&o.filter(b,a,!0)}},"":function(c,d,e){var 0="==c.length?null:c}},TAG:function(a,b){if(" 1="==b%2},lt:function(a,b,c){return" undefined"!="=typeof"" g,h="f++,i=b;" string"="==typeof"" d&&!t.test(d)&&(g="d=d.toLowerCase(),i=a);i(" parentnode",d,h,c,g,e)},"~":function(c,d,e){var"="" b.getelementbyid&&!c)return(a="b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(" b.getelementsbyname){for(var="" c="[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute(" name")="==a[1]&&c.push(d[e]);return"" b.getelementsbytagname)return="" b.getelementsbytagname(a[1])}},prefilter:{class:function(a,b,c,d,e,f){a=" " +a[1].replace(j,"")+"="" ";if(f)return="" a;for(var="" f="0,g;null!=(g=b[f]);f++)g&&(e^(g.className&&0<=(" "="" "+g.classname+"="" ").replace(="" [\t\n\r]="" g,"="" ").indexof(a))?c||d.push(g):c&&(b[f]="!1));return!1},ID:function(a){return" a[1].replace(j,"")},tag:function(a){return="" a[1].replace(j,"").tolowercase()},child:function(a){if("nth"="==a[1]){a[2]||o.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g," ");var"="" b="/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(" even"="==a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else"" a[2]&&o.error(a[0]);a[0]="f++;return" a},attr:function(a,b,c,d,e,f){b="a[1]=a[1].replace(j," ");!f&&n.attrmap[b]&&(a[1]="n.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(j,"");"~="===a[2]&&(a[4]=""" "+a[4]+"="" ");return="" a},pseudo:function(a,b,c,e,f){if("not"="==a[1])if(1<(d.exec(a[3])||" ").length||="" ^\w="" .test(a[3]))a[3]="o(a[3],null,null,b);else"" return="" a="o.filter(a[3],b,c,1^f),c||e.push.apply(e,a),!1;else" if(n.match.pos.test(a[0])||n.match.child.test(a[0]))return!0;return="" a},pos:function(a){a.unshift(!0);return="" a}},filters:{enabled:function(a){return!1="==a.disabled&&" hidden"!="=a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!o(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var"" b<c[3]-0},gt:function(a,b,c){return="">c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=n.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return 0<=(a.textcontent||a.innertext||p([a])||"").indexof(b[3]);if("not"===e){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return!1;return!0}o.error(e)},child:function(a,b){var 0="==c?0===i:0===i%c&&0<=i/c}},ID:function(a,b){return" 1="==a.nodeType&&a.getAttribute(" id")="==b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(""" c,d,f,g,h,i;c="b[1];i=a;switch(c){case" only":case"first":for(;i="i.previousSibling;)if(1===i.nodeType)return!1;if("first"===c)return!0;i=a;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0;case"nth":c=b[2];d=b[3];if(1===c&&0===d)return!0;f=b[0];if((g=a.parentNode)&&(g[e]!==f||!a.nodeIndex)){h=0;for(i=g.firstChild;i;i=i.nextSibling)1===i.nodeType&&(i.nodeIndex=++h);g[e]=f}i=a.nodeIndex-d;return"" "+(a.classname||a.getattribute("class"))+"="" ").indexof(b)},attr:function(a,b){var="" c="b[1],c=o.attr?o.attr(a,c):n.attrHandle[c]?n.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),d=c+" ",e="b[2],f=b[4];return"" null="=c?" !="===e:!e&&o.attr?null!=c:" ="="==e?d===f:"*="===e?0<=d.indexOf(f):"~="===e?0<=(""" "+d+"="" ").indexof(f):!f?d&&!1!="=c:" ^="===e?0===d.indexOf(f):" $="===e?d.substr(d.length-f.length)===f:" |="===e?d===f||d.substr(0,f.length+1)===f+" -":!1},pos:function(a,b,c,d){var"="" e="n.setFilters[b[2]];if(e)return" e(a,c,b,d)}}},r="n.match.POS,x=function(a,b){return" \\"+(b-0+1)},w;for(w"="" in="" n.match)n.match[w]="RegExp(n.match[w].source+/(?![^\[]*\])(?![^\(]*\))/.source),n.leftMatch[w]=RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[w].source.replace(/\\(\d+)/g,x));var" u="function(a,b){a=Array.prototype.slice.call(a,0);return" b?(b.push.apply(b,a),b):a};try{array.prototype.slice.call(k.documentelement.childnodes,0)[0].nodetype}catch(y){u="function(a,b){var" array]"="==g.call(a))Array.prototype.push.apply(d,a);else" if("number"="==typeof" a.length)for(var="" for(;a[c];c++)d.push(a[c]);return="" d}}var="" v,q;k.documentelement.comparedocumentposition?v="function(a,b){return" a="==b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(v=function(a,b){if(a===b)return" h="!0,0;if(a.sourceIndex&&b.sourceIndex)return" a.sourceindex-b.sourceindex;var="" c,d,e="[],f=[];c=a.parentNode;d=b.parentNode;var" g="c;if(c===d)return" q(a,b);if(c){if(!d)return="" 1}else="" return-1;for(;g;)e.unshift(g),g="g.parentNode;for(g=d;g;)f.unshift(g),g=g.parentNode;c=e.length;d=f.length;for(g=0;g<c&&g<d;g++)if(e[g]!==f[g])return" q(e[g],f[g]);return="" c;for(a="a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return" 1});(function(){var="" date).gettime(),c="k.documentElement;a.innerHTML=" <a"="" name="" +b+""="">";c.insertBefore(a,c.firstChild);k.getElementById(b)&&(n.find.ID=function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:l:[]},n.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});c.removeChild(a);c=a=null})();(function(){var a=k.createElement("div");a.appendChild(k.createComment(""));0<a.getelementsbytagname("*").length&&(n.find.tag=function(a,b){var c="b.getElementsByTagName(a[1]);if(" *"="==a[1]){for(var"" d="[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return" c});a.innerhtml="<a href='#'></a>" ;a.firstchild&&"undefined"!="=typeof" a.firstchild.getattribute&&"#"!="=a.firstChild.getAttribute(" href")&&(n.attrhandle.href="function(a){return"" a.getattribute("href",2)});a="null})();k.querySelectorAll&&function(){var" a="o,b=k.createElement(" div");b.innerhtml="<p" class="TEST"><p></p>";if(!(b.querySelectorAll&&0===b.querySelectorAll(".TEST").length)){o=function(b,c,d,e){c=c||k;if(!e&&!o.isXML(c)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===c.nodeType||9===c.nodeType)){if(f[1])return u(c.getElementsByTagName(b),d);if(f[2]&&n.find.CLASS&&c.getElementsByClassName)return u(c.getElementsByClassName(f[2]),d)}if(9===c.nodeType){if("body"===b&&c.body)return u([c.body],d);if(f&&f[3]){var g=c.getElementById(f[3]);if(g&&g.parentNode){if(g.id===f[3])return u([g],d)}else return u([],d)}try{return u(c.querySelectorAll(b),d)}catch(h){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var f=c,i=(g=c.getAttribute("id"))||"__sizzle__",j=c.parentNode,m=/^\s*[+~]/.test(b);g?i=i.replace(/'/g,"\\$&"):c.setAttribute("id",i);m&&j&&(c=c.parentNode);try{if(!m||j)return u(c.querySelectorAll("[id='"+i+"'] "+b),d)}catch(l){}finally{g||f.removeAttribute("id")}}}return a(b,c,d,e)};for(var c in a)o[c]=a[c];b=null}}();(function(){var a=k.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(k.createElement("div"),"div"),d=!1;try{b.call(k.documentElement,"[test!='']:sizzle")}catch(e){d=!0}o.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!o.isXML(a))try{if(d||!n.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return 0<o(e,null,null,[a]).length}}})();(function(){var a="k.createElement(" div");a.innerhtml="<div" class="test e"><div class="test"></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(n.order.splice(1,0,"CLASS"),n.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},a=null))})();o.contains=k.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:k.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};o.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var A=function(a,b,c){for(var d,e=[],f="",b=b.nodeType?[b]:b;d=n.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(n.match.PSEUDO,"");a=n.relative[a]?a+"*":a;d=0;for(var g=b.length;d<g;d++)o(a,b[d],e,c);return 1="==b.length?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){for(var" o.filter(f,e)};o.attr="c.attr;o.selectors.attrMap={};c.find=o;c.expr=o.selectors;c.expr[" :"]="c.expr.filters;c.unique=o.uniqueSort;c.text=o.getText;c.isXMLDoc=o.isXML;c.contains=o.contains})();var"" xb="/Until$/,yb=/^(?:parents|prevUntil|prevAll)/,zb=/,/,cb=/^.[^:#\[\.,]*$/,Ab=Array.prototype.slice,Ma=c.expr.match.POS,Bb={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(a){var" b="this,d,e;if(" string"!="=typeof"" a)return="" c(a).filter(function(){for(d="0,e=b.length;d<e;d++)if(c.contains(b[d],this))return!0});var" f="this.pushStack(" ","find",a),g,h,i;for(d="0,e=this.length;d<e;d++)if(g=f.length,c.find(a,this[d],f),0<d)for(h=g;h<f.length;h++)for(i=0;i<g;i++)if(f[i]===f[h]){f.splice(h--,1);break}return"" f},has:function(a){var="" this.filter(function(){for(var="" a="0,e=b.length;a<e;a++)if(c.contains(this,b[a]))return!0})},not:function(a){return" this.pushstack(na(this,a,!1),"not",a)},filter:function(a){return="" this.pushstack(na(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"="==typeof" a?ma.test(a)?0<="c(a,this.context).index(this[0]):0<c.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var" d="[],e,f,g=this[0];if(c.isArray(a)){for(f=1;g&&g.ownerDocument&&g!==b;){for(e=0;e<a.length;e++)c(g).is(a[e])&&d.push({selector:a[e],elem:g,level:f});g=g.parentNode;f++}return" d}var="" h="Ma.test(a)||" a?c(a,b||this.context):0;for(e="0,f=this.length;e<f;e++)for(g=this[e];g;)if(h?-1<h.index(g):c.find.matchesSelector(g,a)){d.push(g);break}else" if(g="g.parentNode,!g||!g.ownerDocument||g===b||11===g.nodeType)break;d=1<d.length?c.unique(d):d;return" this.pushstack(d,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentnode?this.prevall().length:-1:"string"="==typeof" a?c.inarray(this[0],c(a)):c.inarray(a.jquery?a[0]:a,this)},add:function(a,b){var="" =="=typeof" a?c(a,b):c.makearray(a&&a.nodetype?[a]:a),e="c.merge(this.get(),d);return" this.pushstack(!d[0]||!d[0].parentnode||11="==d[0].parentNode.nodeType||!e[0]||!e[0].parentNode||11===e[0].parentNode.nodeType?e:c.unique(e))},andSelf:function(){return" this.add(this.prevobject)}});c.each({parent:function(a){return(a="a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return" c.dir(a,"parentnode")},parentsuntil:function(a,b,d){return="" c.dir(a,"parentnode",d)},next:function(a){return="" c.nth(a,2,"nextsibling")},prev:function(a){return="" c.nth(a,2,"previoussibling")},nextall:function(a){return="" c.dir(a,"nextsibling")},prevall:function(a){return="" c.dir(a,"previoussibling")},nextuntil:function(a,b,d){return="" c.dir(a,"nextsibling",d)},prevuntil:function(a,b,d){return="" c.dir(a,"previoussibling",d)},siblings:function(a){return="" c.sibling(a.parentnode.firstchild,a)},children:function(a){return="" c.sibling(a.firstchild)},contents:function(a){return="" c.nodename(a,"iframe")?a.contentdocument||a.contentwindow.document:c.makearray(a.childnodes)}},function(a,b){c.fn[a]="function(d,e){var" e&&(f="c.filter(e,f));f=1<this.length&&!Bb[a]?c.unique(f):f;if((1<this.length||zb.test(e))&&yb.test(a))f=f.reverse();return" this.pushstack(f,a,g.join(","))}});c.extend({filter:function(a,b,d){d&&(a=":not(" +a+")");return="" e="[],a=a[b];a&&9!==a.nodeType&&(d===l||1!==a.nodeType||!c(a).is(d));)1===a.nodeType&&e.push(a),a=a[b];return" e},nth:function(a,b,c){for(var="" a},sibling:function(a,b){for(var="" c="[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return" c}});var="" pa="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video" ,cb="/" jquery\d+="(?:\d+|null)" g,ha="/^\s+/,Na=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^">]*)\/>/gi,Oa=/<([\w:]+) ,db="/<tbody/i,Eb=/<|&#?\w+;/,Fb=/<(?:script|style)/i,Gb=/<(?:script|object|embed|option|style)/i,Hb=RegExp(" <(?:"+pa.replace(""="" ","|")+")","i"),pa="/checked\s*(?:[^=]|=\s*.checked.)/i,Ib=/\/(java|ecma)script/i,eb=/^\s*<!(?:\[CDATA\[|\-\-)/,x={option:[1," <select"="" multiple="multiple">",""],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Jb=oa(k);x.optgroup=x.option;x.tbody=x.tfoot=x.colgroup=x.caption=x.thead;x.th=x.td;c.support.htmlSerialize||(x._default=[1,"div<div>","</div>"]);c.fn.extend({text:function(a){return c.isFunction(a)?this.each(function(b){var d=c(this);d.text(a.call(this,b,d.text()))}):"object"!==typeof a&&a!==l?this.empty().append((this[0]&&this[0].ownerDocument||k).createTextNode(a)):c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapAll(a.call(this,b))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return c.isFunction(a)?this.each(function(b){c(this).wrapInner(a.call(this,b))}):this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;null!=(e=this[d]);d++)if(!a||c.filter(a,[e]).length)!b&&1===e.nodeType&&(c.cleanData(e.getElementsByTagName("*")),c.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){if(a===l)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(Cb,""):null;if("string"===typeof a&&!Fb.test(a)&&(c.support.leadingWhitespace||!ha.test(a))&&!x[(Oa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Na,"<$1>");try{for(var b=0,d=this.length;b<d;b++)1===this[b].nodetype&&(c.cleandata(this[b].getelementsbytagname("*")),this[b].innerhtml=a)}catch(e){this.empty().append(a)}}else c.isfunction(a)?this.each(function(b){var="" d="c(this);d.html(a.call(this,b,d.html()))}):this.empty().append(a);return" this},replacewith:function(a){if(this[0]&&this[0].parentnode){if(c.isfunction(a))return="" this.each(function(b){var="" a&&(a="c(a).detach());return" this.each(function(){var="" b="this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}return" this.length?this.pushstack(c(c.isfunction(a)?a():a),"replacewith",a):this},detach:function(a){return="" this.remove(a,!0)},dommanip:function(a,b,d){var="" e,f,g,h="a[0],i=[];if(!c.support.checkClone&&3===arguments.length&&" string"="==typeof"" h&&pa.test(h))return="" this.each(function(){c(this).dommanip(a,b,d,!0)});if(c.isfunction(h))return="" this.each(function(e){var="" f="c(this);a[0]=h.call(this,e,b?f.html():l);f.domManip(a,b,d)});if(this[0]){e=h&&h.parentNode;e=c.support.parentNode&&e&&11===e.nodeType&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,i);g=e.fragment;if(f=1===g.childNodes.length?g=g.firstChild:g.firstChild){b=b&&c.nodeName(f," tr");f="0;for(var"" j="this.length,m=j-1;f<j;f++)d.call(b?c.nodeName(this[f]," table")?this[f].getelementsbytagname("tbody")[0]||this[f].appendchild(this[f].ownerdocument.createelement("tbody")):this[f]:this[f],e.cacheable||1<j&&f<m?c.clone(g,!0,!0):g)}i.length&&c.each(i,db)}return"="" this}});c.buildfragment="function(a,b,d){var" e,f,g,h,i="a[0];b&&b[0]&&(h=b[0].ownerDocument||b[0]);h.createDocumentFragment||(h=k);if(1===a.length&&" i&&512="">i.length&&h===k&&"<"===i.charat(0)&&!gb.test(i)&&(c.support.checkclone||!pa.test(i))&&!c.support.unknownelems&&hb.test(i))f=!0,(g=c.fragments[i])&&1!==g&&(e=g);e||(e=h.createdocumentfragment(),c.clean(a,h,e,d));f&&(c.fragments[i]=g?e:1);return{fragment:e,cacheable:f}};c.fragments={};c.each({appendto:"append",prependto:"prepend",insertbefore:"before",insertafter:"after",replaceall:"replacewith"},function(a,b){c.fn[a]=function(d){var e="[],d=c(d),f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===d.length)return" d[b](this[0]),this;for(var="" f="0,g=d.length;f<g;f++){var" h="(0<f?this.clone(!0):this).get();c(d[f])[b](h);e=e.concat(h)}return" this.pushstack(e,a,d.selector)}});c.extend({clone:function(a,b,d){var="" e},clean:function(a,b,d,e){b="b||k;" undefined"="==typeof"" b.createelement&&(b="b.ownerDocument||b[0]&&b[0].ownerDocument||k);for(var" i&&(i+="" ),i){if("string"="==typeof" i)if(eb.test(i)){i="i.replace(Na," <$1"="">");g=(Oa.exec(i)||["",""])[1].toLowerCase();var j=x[g]||x._default,m=j[0],l=b.createElement("div");b===k?Jb.appendChild(l):oa(b).appendChild(l);for(l.innerHTML=j[1]+i+j[2];m--;)l=l.lastChild;if(!c.support.tbody){m=Db.test(i);j="table"===g&&!m?l.firstChild&&l.firstChild.childNodes:"<table>"===j[1]&&!m?l.childNodes:[];for(g=j.length-1;0<=g;--g)c.nodename(j[g],"tbody")&&!j[g].childnodes.length&&j[g].parentnode.removechild(j[g])}!c.support.leadingwhitespace&&ha.test(i)&&l.insertbefore(b.createtextnode(ha.exec(i)[0]),l.firstchild);i=l.childnodes}else 0="==a.offsetWidth&&0===b||!c.support.reliableHiddenOffsets&&" 2="==arguments.length&&b===l?this:c.access(this,a,b,!0,function(a,b,f){return" none"="==(a.style&&a.style.display||c.css(a,"display"))},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});var"" i="b.createTextNode(i);var" o;if(!c.support.appendchecked)if(i[0]&&"number"="==typeof(o=i.length))for(g=0;g<o;g++)ta(i[g]);else" ta(i);i.nodetype?f.push(i):f="c.merge(f,i)}if(d){a=function(a){return!a.type||Ib.test(a.type)};for(h=0;f[h];h++)e&&c.nodeName(f[h]," script")&&(!f[h].type||"text="" javascript"="==f[h].type.toLowerCase())?e.push(f[h].parentNode?f[h].parentNode.removeChild(f[h]):f[h]):(1===f[h].nodeType&&(b=c.grep(f[h].getElementsByTagName("script"),a),f.splice.apply(f,[h+1,0].concat(b))),d.appendChild(f[h]))}return"" f},cleandata:function(a){for(var="" b,d,e="c.cache,f=c.event.special,g=c.support.deleteExpando,h=0,i;null!=(i=a[h]);h++)if(!i.nodeName||!c.noData[i.nodeName.toLowerCase()])if(d=i[c.expando]){if((b=e[d])&&b.events){for(var" j="" in="" b.events)f[j]?c.event.remove(i,j):c.removeevent(i,j,b.handle);b.handle&&(b.handle.elem="null)}g?delete" i[c.expando]:i.removeattribute&&i.removeattribute(c.expando);delete="" e[d]}}});var="" ia="/alpha\([^)]*\)/i,Kb=/opacity=([^)]*)/,Lb=/([A-Z]|^ms)/g,Qa=/^-?\d+(?:px)?$/i,Mb=/^-?\d/,Nb=/^([\-+])=([\-+.\de]+)/,Ob={position:" absolute",visibility:"hidden",display:"block"},fb="["Left","Right"],gb=["Top","Bottom"],C,Ra,Sa;c.fn.css=function(a,b){return"" f!="=l?c.style(a,b,f):c.css(a,b)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var" c="C(a," opacity","opacity");return""="==c?"1":c}return"" a.style.opacity}}},cssnumber:{fillopacity:!0,fontweight:!0,lineheight:!0,opacity:!0,orphans:!0,widows:!0,zindex:!0,zoom:!0},cssprops:{"float":c.support.cssfloat?"cssfloat":"stylefloat"},style:function(a,b,d,e){if(a&&!(3="==a.nodeType||8===a.nodeType||!a.style)){var" f,g="c.camelCase(b),h=a.style,i=c.cssHooks[g],b=c.cssProps[g]||g;if(d!==l){e=typeof" d;if("string"="==e&&(f=Nb.exec(d)))d=+(f[1]+1)*+f[2]+parseFloat(c.css(a,b)),e=" number";if(!(null="=d||"number"===e&&isNaN(d)))if("number"===e&&!c.cssNumber[g]&&(d+="px"),!i||!("set"in"" i)||(d="i.set(a,d))!==l)try{h[b]=d}catch(j){}}else" return="" i&&"get"in="" i&&(f="i.get(a,!1,e))!==l?f:h[b]}},css:function(a,b,d){var" e,f,b="c.camelCase(b);f=c.cssHooks[b];b=c.cssProps[b]||b;" cssfloat"="==b&&(b="float");if(f&&"get"in"" f&&(e="f.get(a,!0,d))!==l)return" e;if(c)return="" c(a,b)},swap:function(a,b,c){var="" e="{},f;for(f" b)e[f]="a.style[f],a.style[f]=b[f];c.call(a);for(f" b)a.style[f]="e[f]}});c.curCSS=c.css;c.each([" height","width"],function(a,b){c.csshooks[b]="{get:function(a,e,f){var"" g;if(e){if(0!="=a.offsetWidth)return" ua(a,b,f);c.swap(a,ob,function(){g="ua(a,b,f)});return" g}},set:function(a,b){if(qa.test(b)){if(b="parseFloat(b),0<=b)return" b+"px"}else="" b}}});c.support.opacity||(c.csshooks.opacity="{get:function(a,b){return" kb.test((b&&a.currentstyle?a.currentstyle.filter:a.style.filter)||"")?parsefloat(regexp.$1)="" 100+"":b?"1":""},set:function(a,b){var="" d="a.style,e=a.currentStyle,f=c.isNumeric(b)?" alpha(opacity="+100*b+" )":"",g="e&&e.filter||d.filter||"";d.zoom=1;if(1<=b&&""===c.trim(g.replace(ia,""))&&(d.removeAttribute("filter"),e&&!e.filter))return;d.filter=ia.test(g)?g.replace(ia,f):g+""" "+f}});c(function(){c.support.reliablemarginright||(c.csshooks.marginright="{get:function(a,b){var" d;c.swap(a,{display:"inline-block"},function(){d="b?C(a," margin-right","marginright"):a.style.marginright});return"="" d}})});k.defaultview&&k.defaultview.getcomputedstyle&&(ra="function(a,b){var" d,e,b="b.replace(Lb," -$1").tolowercase();if(!(e="a.ownerDocument.defaultView))return"" l;if(e="e.getComputedStyle(a,null))d=e.getPropertyValue(b)," "="==d&&!c.contains(a.ownerDocument.documentElement,a)&&(d=c.style(a,b));return"" d});k.documentelement.currentstyle&&(sa="function(a,b){var" c,e,f="a.currentStyle&&a.currentStyle[b],g=a.style;if(null===f&&g&&(c=g[b]))f=c;if(!Qa.test(f)&&Mb.test(f)){c=g.left;if(e=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left=" fontsize"="==b?"1em":f||0;f=g.pixelLeft+"px";g.left=c;e&&(a.runtimeStyle.left=e)}return""===f?"auto":f});C=Ra||Sa;c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){var"" b="a.offsetHeight;return" pb="/%20/g,hb=/\[\]$/,Ta=/\r?\n/g,Qb=/#.*$/,Rb=/^(.*?):[" \t]*([^\r\n]*)\r?$="" gm,sb="/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Tb=/^(?:GET|HEAD)$/,Ub=/^\/\//,Ua=/\?/,Vb=/<script\b[^<]*(?:(?!<\/script">)<[^<]*)*<\ script="">/gi,Wb=/^(?:select|textarea)/i,wa=/\s+/,Xb=/([?&])_=[^&]*/,Va=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Wa=c.fn.load,$={},Xa={},H,E,Ya=["*/"]+["*"];try{H=kb.href}catch(cc){H=k.createElement("a"),H.href="",H=H.href}E=Va.exec(H.toLowerCase())||[];c.fn.extend({load:function(a,b,d){if("string"!==typeof a&&Wa)return Wa.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(0<=e)var f="a.slice(e,a.length),a=a.slice(0,e);e=" get";b&&(c.isfunction(b)?(d="b,b=l):"object"===typeof"" b&&(b="c.param(b,c.ajaxSettings.traditional),e=" post"));var"="" g="this;c.ajax({url:a,type:e,dataType:" html",data:b,complete:function(a,b,e){e="a.responseText;a.isResolved()&&(a.done(function(a){e=a}),g.html(f?c("<div"">").append(e.replace(Vb,"")).find(f):e));d&&g.each(d,[e,b,a])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Wb.test(this.nodeName)||Sb.test(this.type))}).map(function(a,b){var d=c(this).val();return null==d?null:c.isArray(d)?c.map(d,function(a){return{name:b.name,value:a.replace(Ta,"\r\n")}}):{name:b.name,value:d.replace(Ta,"\r\n")}}).get()}});c.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(a,b){c.fn[b]=function(a){return this.bind(b,a)}});c.each(["get","post"],function(a,b){c[b]=function(a,e,f,g){c.isFunction(e)&&(g=g||f,f=e,e=l);return c.ajax({type:b,url:a,data:e,success:f,dataType:g})}});c.extend({getScript:function(a,b){return c.get(a,l,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},ajaxSetup:function(a,b){b?xa(a,c.ajaxSettings):(b=a,a=c.ajaxSettings);xa(a,b);return a},ajaxSettings:{url:H,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(E[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ya},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":r.String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:va($),ajaxTransport:va(Xa),ajax:function(a,b){function d(a,b,d,k){if(2!==u){u=2;x&&clearTimeout(x);r=l;p=k||"";q.readyState=0<a?4:0;var o,n,t,k="b;if(d){var" s="e,w=q,A=s.contents,v=s.dataTypes,H=s.responseFields,B,z,L,E;for(z" in="" h)z="" d&&(w[h[z]]="d[z]);for(;" *"="==v[0];)v.shift(),B===l&&(B=s.mimeType||w.getResponseHeader("content-type"));if(B)for(z"" a)if(a[z]&&a[z].test(b)){v.unshift(z);break}if(v[0]in="" d)l="v[0];else{for(z" d){if(!v[0]||s.converters[z+"="" "+v[0]]){l="z;break}E||(E=z)}L=L||E}L?(L!==v[0]&&v.unshift(L),d=d[L]):d=void" 0}else="" d="l;if(200<=a&&300">a||304===a){if(e.ifModified){if(B=q.getResponseHeader("Last-Modified"))c.lastModified[m]=B;if(B=q.getResponseHeader("Etag"))c.etag[m]=B}if(304===a)k="notmodified",o=!0;else try{B=e;B.dataFilter&&(d=B.dataFilter(d,B.dataType));var G=B.dataTypes;z={};var C,D,J=G.length,F,M=G[0],R,I,N,O,S;for(C=1;C<j;c++){if(1===c)for(d in="" b.converters)"string"="==typeof" d&&(z[d.tolowercase()]="B.converters[D]);R=M;M=G[C];if(" *"="==M)M=R;else"" if("*"!="=R&&R!==M){I=R+" "="" "+m;n="z[I]||z[" "+m];if(!n)for(o="" s="l,z)if(F=O.split(" "),f[0]="==R||" "+m]){o="z[O];!0===O?N=S:!0===S&&(N=O);break}!N&&!S&&c.error(" no"="" conversion="" from="" "+i.replace("="" ","="" to="" "));!0!="=N&&(d=N?N(d):S(O(d)))}}n=d;k=" success";o="!0}catch(P){k="parsererror",t=P}}else"" if(t="k,!k||a)k=" error",0"="">a&&(a=0);q.status=a;q.statusText=""+(b||k);o?h.resolveWith(f,[n,k,q]):h.rejectWith(f,[q,k,t]);q.statusCode(j);j=l;y&&g.trigger("ajax"+(o?"Success":"Error"),[q,e,o?n:t]);i.fireWith(f,[q,k]);y&&(g.trigger("ajaxComplete",[q,e]),--c.active||c.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=l);var b=b||{},e=c.ajaxSetup({},b),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof c)?c(f):c.event,h=c.Deferred(),i=c.Callbacks("once memory"),j=e.statusCode||{},m,k={},o={},p,n,r,x,w,u=0,y,v,q={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase(),a=o[c]=o[c]||a;k[a]=b}return this},getAllResponseHeaders:function(){return 2===u?p:null},getResponseHeader:function(a){var b;if(2===u){if(!n)for(n={};b=Rb.exec(p);)n[b[1].toLowerCase()]=b[2];b=n[a.toLowerCase()]}return b===l?null:b},overrideMimeType:function(a){u||(e.mimeType=a);return this},abort:function(a){a=a||"abort";r&&r.abort(a);d(0,a);return this}};h.promise(q);q.success=q.done;q.error=q.fail;q.complete=i.add;q.statusCode=function(a){if(a){var b;if(2>u)for(b in a)j[b]=[j[b],a[b]];else b=a[q.status],q.then(b,b)}return this};e.url=((a||e.url)+"").replace(Qb,"").replace(Ub,E[1]+"//");e.dataTypes=c.trim(e.dataType||"*").toLowerCase().split(wa);null==e.crossDomain&&(w=Va.exec(e.url.toLowerCase()),e.crossDomain=!(!w||!(w[1]!=E[1]||w[2]!=E[2]||(w[3]||("http:"===w[1]?80:443))!=(E[3]||("http:"===E[1]?80:443)))));e.data&&e.processData&&"string"!==typeof e.data&&(e.data=c.param(e.data,e.traditional));U($,e,b,q);if(2===u)return!1;y=e.global;e.type=e.type.toUpperCase();e.hasContent=!Tb.test(e.type);y&&0===c.active++&&c.event.trigger("ajaxStart");if(!e.hasContent&&(e.data&&(e.url+=(Ua.test(e.url)?"&":"?")+e.data,delete e.data),m=e.url,!1===e.cache)){w=c.now();var A=e.url.replace(Xb,"$1_="+w);e.url=A+(A===e.url?(Ua.test(e.url)?"&":"?")+"_="+w:"")}(e.data&&e.hasContent&&!1!==e.contentType||b.contentType)&&q.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(m=m||e.url,c.lastModified[m]&&q.setRequestHeader("If-Modified-Since",c.lastModified[m]),c.etag[m]&&q.setRequestHeader("If-None-Match",c.etag[m]));q.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", "+Ya+"; q=0.01":""):e.accepts["*"]);for(v in e.headers)q.setRequestHeader(v,e.headers[v]);if(e.beforeSend&&(!1===e.beforeSend.call(f,q,e)||2===u))return q.abort(),!1;for(v in{success:1,error:1,complete:1})q[v](e[v]);if(r=U(Xa,e,b,q)){q.readyState=1;y&&g.trigger("ajaxSend",[q,e]);e.async&&0<e.timeout&&(x=settimeout(function(){q.abort("timeout")},e.timeout));try{u=1,r.send(k,d)}catch(s){2>u?d(-1,s):c.error(s)}}else d(-1,"No Transport");return q},param:function(a,b){var d=[],e=function(a,b){b=c.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===l&&(b=c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){e(this.name,this.value)});else for(var f in a)aa(f,a[f],b,e);return d.join("&").replace(Pb,"+")}});c.extend({active:0,lastModified:{},etag:{}});var Yb=c.now(),X=/(\=)\?(&|$)|\?\?/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+Yb++}});c.ajaxPrefilter("json jsonp",function(a,b,d){b="application/x-www-form-urlencoded"===a.contentType&&"string"===typeof a.data;if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(X.test(a.url)||b&&X.test(a.data))){var e,f=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g=r[f],h=a.url,i=a.data,j="$1"+f+"$2";!1!==a.jsonp&&(h=h.replace(X,j),a.url===h&&(b&&(i=i.replace(X,j)),a.data===i&&(h+=(/\?/.test(h)?"&":"?")+a.jsonp+"="+f)));a.url=h;a.data=i;r[f]=function(a){e=[a]};d.always(function(){r[f]=g;if(e&&c.isFunction(g))r[f](e[0])});a.converters["script json"]=function(){e||c.error(f+" was not called");return e[0]};a.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===l&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=k.head||k.getElementsByTagName("head")[0]||k.documentElement;return{send:function(e,f){b=k.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,e){if(e||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=l,e||f(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var ja=r.ActiveXObject?function(){for(var a in F)F[a](0,1)}:!1,Zb=0,F;c.ajaxSettings.xhr=r.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&ya()))a:{try{a=new r.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:ya;(function(a){c.extend(c.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(c.ajaxSettings.xhr());c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(d,e){var f=a.xhr(),g,h;a.username?f.open(a.type,a.url,a.async,a.username,a.password):f.open(a.type,a.url,a.async);if(a.xhrFields)for(h in a.xhrFields)f[h]=a.xhrFields[h];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);!a.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(h in d)f.setRequestHeader(h,d[h])}catch(i){}f.send(a.hasContent&&a.data||null);b=function(d,h){var i,k,p,n,r;try{if(b&&(h||4===f.readyState))if(b=l,g&&(f.onreadystatechange=c.noop,ja&&delete F[g]),h)4!==f.readyState&&f.abort();else{i=f.status;p=f.getAllResponseHeaders();n={};if((r=f.responseXML)&&r.documentElement)n.xml=r;n.text=f.responseText;try{k=f.statusText}catch(x){k=""}!i&&a.isLocal&&!a.crossDomain?i=n.text?200:404:1223===i&&(i=204)}}catch(w){h||e(-1,w)}n&&e(i,k,n,p)};!a.async||4===f.readyState?b():(g=++Zb,ja&&(F||(F={},c(r).unload(ja)),F[g]=b),f.onreadystatechange=b)},abort:function(){b&&b(0,1)}}}});var ba={},y,J,$b=/^(?:toggle|show|hide)$/,ac=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Y,Aa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],V;c.fn.extend({show:function(a,b,d){if(a||0===a)return this.animate(D("show",3),a,b,d);for(var d=0,e=this.length;d<e;d++)a=this[d],a.style&&(b=a.style.display,!c._data(a,"olddisplay")&&"none"===b&&(b=a.style.display=""),""===b&&"none"===c.css(a,"display")&&c._data(a,"olddisplay",ba(a.nodename)));for(d=0;d<e;d++)if(a=this[d],a.style&&(b=a.style.display,""===b||"none"===b))a.style.display=c._data(a,"olddisplay")||"";return this},hide:function(a,b,d){if(a||0="==a)return" this.animate(d("hide",3),a,b,d);for(var="" d="0,e=this.length;d<e;d++)a=this[d],a.style&&(b=c.css(a," display"),"none"!="=b&&!c._data(a,"olddisplay")&&c._data(a,"olddisplay",b));for(d=0;d<e;d++)this[d].style&&(this[d].style.display="none");return"" this},_toggle:c.fn.toggle,toggle:function(a,b,d){var="" e="boolean" =="=typeof" a;c.isfunction(a)&&c.isfunction(b)?this._toggle.apply(this,arguments):null="=a||e?this.each(function(){var" b="e?a:c(this).is(" :hidden");c(this)[b?"show":"hide"]()}):this.animate(d("toggle",3),a,b,d);return"="" this},fadeto:function(a,b,c,e){return="" this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,d,e){function="" f(){!1="==g.queue&&c._mark(this);var" in="" a){f="c.camelCase(l);l!==f&&(a[f]=a[l],delete" a[l]);k="a[f];c.isArray(k)?(b.animatedProperties[f]=k[1],k=a[f]=k[0]):b.animatedProperties[f]=b.specialEasing&&b.specialEasing[f]||b.easing||" swing";if("hide"="==k&&e||"show"===k&&!e)return"" b.complete.call(this);if(d&&("height"="==f||" width"="==f))b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===c.css(this,"display")&&"none"===c.css(this,"float")&&(!c.support.inlineBlockNeedsLayout||"inline"===Ba(this.nodeName)?this.style.display="inline-block":this.style.zoom=1)}null!=b.overflow&&(this.style.overflow="hidden");for(l"" a)if(d="new" c.fx(this,b,l),k="a[l],$b.test(k))if(f=c._data(this," toggle"+l)||("toggle"="==k?e?"show":"hide":0))c._data(this,"toggle"+l,"show"===f?"hide":"show"),d[f]();else"" d[k]();else="" f="ac.exec(k),p=d.cur(),f?(k=parseFloat(f[2]),n=f[3]||(c.cssNumber[l]?" ":"px"),"px"!="=n&&(c.style(this,l,(k||1)+n),p*=(k||1)/d.cur(),c.style(this,l,p+n)),f[1]&&(k=("-="===f[1]?-1:1)*k+p),d.custom(p,k,n)):d.custom(p,k,"");return!0}var"" g="c.speed(b,d,e);if(c.isEmptyObject(a))return" this.each(g.complete,[!1]);a="c.extend({},a);return!1===g.queue?this.each(f):this.queue(g.queue,f)},stop:function(a,b,d){" string"!="=typeof"" a&&(d="b,b=a,a=l);b&&!1!==a&&this.queue(a||" fx",[]);return"="" this.each(function(){var="" b,f="!1,g=c.timers,h=c._data(this);d||c._unmark(!0,this);if(null==a)for(b" h){if(h[b].stop&&b.indexof(".run")="==b.length-4){var" i="h[b];c.removeData(this,b,!0);i.stop(d)}}else" if(h[b="a+" .run"]&&h[b].stop)h="h[b],c.removeData(this,b,!0),h.stop(d);for(b=g.length;b--;)if(g[b].elem===this&&(null==a||g[b].queue===a)){if(d)g[b](!0);else"" g[b].savestate();f="!0;g.splice(b,1)}(!d||!f)&&c.dequeue(this,a)})}});c.each({slideDown:D(" show",1),slideup:d("hide",1),slidetoggle:d("toggle",1),fadein:{opacity:"show"},fadeout:{opacity:"hide"},fadetoggle:{opacity:"toggle"}},function(a,b){c.fn[a]="function(a,c,f){return"" this.animate(b,a,c,f)}});c.extend({speed:function(a,b,d){var="" a?c.extend({},a):{complete:d||!d&&b||c.isfunction(a)&&a,duration:a,easing:d&&b||b&&!c.isfunction(b)&&b};e.duration="c.fx.off?0:" number"="==typeof"" e.duration?e.duration:e.duration="" c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;if(null="=e.queue||!0===e.queue)e.queue=" fx";e.old="e.complete;e.complete=function(a){c.isFunction(e.old)&&e.old.call(this);e.queue?c.dequeue(this,e.queue):!1!==a&&c._unmark(this)};return"" e},easing:{linear:function(a,b,c,e){return="" c+e*a},swing:function(a,b,c,e){return(-math.cos(a*math.pi)="" 2+.5)*e+c}},timers:[],fx:function(a,b,c){this.options="b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return" this.elem[this.prop];var="" a,b="c.css(this.elem,this.prop);return" isnan(a="parseFloat(b))?!b||" auto"="==b?0:b:a},custom:function(a,b,d){function"" e(a){return="" f.step(a)}var="" a="c._data(this.elem," fxshow"+this.prop);this.options.orig[this.prop]="a||c.style(this.elem,this.prop);this.options.show=!0;a!==l?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c._data(this.elem,"fxshow"+this.prop)||c.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var"" b,d="V||za(),e=!0,f=this.elem,g=this.options;if(a||d">=g.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();g.animatedProperties[this.prop]=!0;for(b in g.animatedProperties)!0!==g.animatedProperties[b]&&(e=!1);if(e){null!=g.overflow&&!c.support.shrinkWrapBlocks&&c.each(["","X","Y"],function(a,b){f.style["overflow"+b]=g.overflow[a]});g.hide&&c(f).hide();if(g.hide||g.show)for(b in g.animatedProperties)c.style(f,b,g.orig[b]),c.removeData(f,"fxshow"+b,!0),c.removeData(f,"toggle"+b,!0);if(a=g.complete)g.complete=!1,a.call(f)}return!1}Infinity==g.duration?this.now=d:(a=d-this.startTime,this.state=a/g.duration,this.pos=c.easing[g.animatedProperties[this.prop]](this.state,a,0,1,g.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};c.extend(c.fx,{tick:function(){for(var a,b=c.timers,d=0;d<b.length;d++)a=b[d],!a()&&b[d]===a&&b.splice(d--,1);b.length||c.fx.stop()},interval:13,stop:function(){clearinterval(y);y=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});c.each(["width","height"],function(a,b){c.fx.step[b]=function(a){c.style(a.elem,b,math.max(0,a.now))}});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return="" a="==b.elem}).length});var" bc="/^t(?:able|d|h)$/i,Za=/^(?:body|html)$/i;c.fn.offset=" getboundingclientrect"in"="" k.documentelement?function(a){var="" b="this[0],d;if(a)return" this.each(function(b){c.offset.setoffset(this,a,b)});if(!b||!b.ownerdocument)return="" null;if(b="==b.ownerDocument.body)return" c.offset.bodyoffset(b);try{d="b.getBoundingClientRect()}catch(e){}var" f="b.ownerDocument,g=f.documentElement;if(!d||!c.contains(g,b))return" d?{top:d.top,left:d.left}:{top:0,left:0};b="f.body;f=ca(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&g.scrollTop||b.scrollTop)-(g.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&g.scrollLeft||b.scrollLeft)-(g.clientLeft||b.clientLeft||0)}}:function(a){var" c.offset.bodyoffset(b);var="" d,e="b.offsetParent,f=b.ownerDocument,g=f.documentElement,h=f.body;d=(f=f.defaultView)?f.getComputedStyle(b,null):b.currentStyle;for(var" i="b.offsetTop,j=b.offsetLeft;(b=b.parentNode)&&b!==h&&b!==g&&!(c.support.fixedPosition&&" fixed"="==d.position);){d=f?f.getComputedStyle(b,null):b.currentStyle;i-=b.scrollTop;j-=b.scrollLeft;if(b===e){i+=b.offsetTop;j+=b.offsetLeft;if(c.support.doesNotAddBorder&&(!c.support.doesAddBorderForTableAndCells||!bc.test(b.nodeName)))i+=parseFloat(d.borderTopWidth)||0,j+=parseFloat(d.borderLeftWidth)||0;e=b.offsetParent}c.support.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&(i+=parseFloat(d.borderTopWidth)||0,j+=parseFloat(d.borderLeftWidth)||0)}if("relative"===d.position||"static"===d.position)i+=h.offsetTop,j+=h.offsetLeft;c.support.fixedPosition&&"fixed"===d.position&&(i+=Math.max(g.scrollTop,h.scrollTop),j+=Math.max(g.scrollLeft,h.scrollLeft));return{top:i,left:j}};c.offset={bodyOffset:function(a){var"" e="c.css(a," position");"static"="==e&&(a.style.position="relative");var"" b?b.using.call(a,j):f.css(j)}};c.fn.extend({position:function(){if(!this[0])return="" null;var="" this.map(function(){for(var="" a})}});c.each(["left","top"],function(a,b){var="" d="scroll" +b;c.fn[d]="function(b){var" f,g;if(b="==l){f=this[0];return!f?null:(g=ca(f))?" pagexoffset"in"="" g?g[a?"pageyoffset":"pagexoffset"]:c.support.boxmodel&&g.document.documentelement[d]||g.document.body[d]:f[d]}return="" this.each(function(){(g="ca(this))?g.scrollTo(!a?b:c(g).scrollLeft(),a?b:c(g).scrollTop()):this[d]=b})}});c.each([" height","width"],function(a,b){var"="" a?a.style?parsefloat(c.css(a,d,"padding")):this[d]():null};c.fn["outer"+b]="function(a){var" b?b.style?parsefloat(c.css(b,d,a?"margin":"border")):this[d]():null};c.fn[d]="function(a){var" null="=a?null:this;if(c.isFunction(a))return" this.each(function(b){var="" g="f.document.documentElement[" client"+b],h="f.document.body;return"CSS1Compat"===f.document.compatMode&&g||h&&h["client"+b]||g}if(9===f.nodeType)return"" math.max(f.documentelement["client"+b],f.body["scroll"+b],f.documentelement["scroll"+b],f.body["offset"+b],f.documentelement["offset"+b]);return="" a?a:a+"px")}});r.jquery="r.$=c})(window);(function(){function" t(a,b){return"!"!="=a[0][0]?'<a" href="'+h(b.href)+'" '+(b.title?'="" title="'+h(b.title)+'" ':"")+"="">"+d.lexer(a[1])+"":'<img src="/2020/08/09/TCP-IP系列之三次握手-一_files/all/'+h(b.href)+'" alt="'+h(a[1])+'" '+(b.title?'="" title="'+h(b.title)+'" ':"")+"="">"}function l(){return g=m.pop()}function o(){switch(g.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+g.depth+">"+d.lexer(g.text)+"</h"+g.depth+">\n";case"code":return k.highlight&&(g.code=k.highlight(g.text,g.lang),null!=g.code&&g.code!==g.text&&(g.escaped=!0,g.text=g.code)),g.escaped||(g.text=h(g.text,!0)),"<pre><code"+(g.lang?' class="lang-'+g.lang+'" ':"")+"="">"+g.text+"</code"+(g.lang?'></pre>\n";case"blockquote_start":for(var a="";"blockquote_end"!==l().type;)a+=o();return"<blockquote>\n"+a+"</blockquote>\n";case"list_start":for(var b=g.ordered?"ol":"ul",a="";"list_end"!==l().type;)a+=o();return"<"+b+">\n"+a+"</"+b+">\n";case"list_item_start":for(a="";"list_item_end"!==l().type;)a+="text"===g.type?u():o();return"<li>"+a+"</li>\n";case"loose_item_start":for(a="";"list_item_end"!==l().type;)a+=o();return"<li>"+a+"</li>\n";case"html":return k.sanitize?d.lexer(g.text):!g.pre&&!k.pedantic?d.lexer(g.text):g.text;case"paragraph":return"<p>"+d.lexer(g.text)+"</p>\n";case"text":return"<p>"+u()+"</p>\n"}}function u(){for(var a=g.text,b;(b=m[m.length-1])&&"text"===b.type;)a+="\n"+l().text;return d.lexer(a)}function v(a){m=a.reverse();for(a="";l();)a+=o();g=m=null;return a}function h(a,b){return a.replace(!b?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(//g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function r(a){for(var b="",d=a.length,e=0,c;e<d;e++)c=a.charcodeat(e),.5<math.random()&&(c="x"+c.tostring(16)),b+="&#"+c+";";return b}function="" w(){return"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+"}function="" n(a,b){a="a.source;b=b||" ";return"="" function="" s(c,d){if(!c)return="" regexp(a,b);a="a.replace(c,d.source||d);return" s}}function="" p(){}function="" i(a,b){q(b);return="" v(e.lexer(a))}function="" q(a){a||(a="x);k!==a&&(k=a,k.gfm?(e.fences=e.gfm.fences,e.paragraph=e.gfm.paragraph,d.text=d.gfm.text,d.url=d.gfm.url):(e.fences=e.normal.fences,e.paragraph=e.normal.paragraph,d.text=d.normal.text,d.url=d.normal.url),k.pedantic?(d.em=d.pedantic.em,d.strong=d.pedantic.strong):(d.em=d.normal.em,d.strong=d.normal.strong))}var" e="{newline:/^\n+/,code:/^(" {4}[^\n]+\n*)+="" ,fences:p,hr:="" ^(="" *[-*_]){3,}="" *(?:\n+|$)="" ,heading:="" ^="" *(#{1,6})="" *([^\n]+?)="" *#*="" ,lheading:="" ^([^\n]+)\n="" *(="|-){3,}" *\n*="" ,blockquote:="" *="">[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};e.item=n(e.item,"gm")(/bull/g,e.bullet)();e.list=n(e.list)(/bull/g,e.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();e.html=n(e.html)("comment",/<\!--[^\0]*?--\>/)("closed",/<(tag)[^\0]+?<\ \1="">/)("closing",/<tag(?!:\ |@)\b(?:"[^"]*"|'[^']*'|[^'"="">])*?>/)(/tag/g,w())();e.paragraph=function(){var a=e.paragraph.source,b=[];(function s(a){a=e[a]?e[a].source:a;b.push(a.replace(/(^|[^\[])\^/g,"$1"));return s})("hr")("heading")("lheading")("blockquote")("<"+w())("def");return regexp(a.replace("body",b.join("|")))}();e.normal="{fences:e.fences,paragraph:e.paragraph};e.gfm={fences:/^" *```="" *(\w+)?="" *\n([^\0]+?)\s*```="" *(?:\n+|$)="" ,paragraph:="" ^="" };e.gfm.paragraph="n(e.paragraph)(" (?!","(?!"+e.gfm.fences.source.replace(="" (^|[^\[])\^="" g,"$1")+"|")();e.lexer="function(a){var"" b="[];b.links={};a=a.replace(/\r\n|\r/g," \n").replace(="" \t="" g,""="" ");return="" e.token(a,b,!0)};e.token="function(a,b,d){for(var" a="a.replace(/^" +$="" gm,""),g,c,f,j,h,i;a;){if(f="e.newline.exec(a))a=a.substring(f[0].length),1<f[0].length&&b.push({type:" space"});if(f="e.code.exec(a))a=a.substring(f[0].length),f=f[0].replace(/^"" {4}="" gm,""),b.push({type:"code",text:!k.pedantic?f.replace(="" \n+$="" ,""):f});else="" if(f="e.fences.exec(a))a=a.substring(f[0].length),b.push({type:" code",lang:f[1],text:f[2]});else"="" *=""> ?/gm,""),e.token(f,b,d),b.push({type:"blockquote_end"});else if(f=e.list.exec(a)){a=a.substring(f[0].length);b.push({type:"list_start",ordered:isFinite(f[2])});f=f[0].match(e.item);g=!1;i=f.length;for(h=0;h<i;h++)j=f[h],c=j.length,j=j.replace( ^="" *([*+-]|\d+\.)="" +="" ,""),~j.indexof("\n="" ")&&(c-="j.length,j=!k.pedantic?j.replace(RegExp(" ^"="" {1,"+c+"}","gm"),""):j.replace(="" {1,4}="" gm,"")),c="g||/\n\n(?!\s*$)/.test(j),h!==i-1&&(g=" \n"="==j[j.length-1],c||(c=g)),b.push({type:c?"loose_item_start":"list_item_start"}),e.token(j,b),b.push({type:"list_item_end"});b.push({type:"list_end"})}else"" if(f="e.html.exec(a))a=a.substring(f[0].length),b.push({type:" html",pre:"pre"="==f[1],text:f[0]});else"" if(d&&(f="e.def.exec(a)))a=a.substring(f[0].length),b.links[f[1].toLowerCase()]={href:f[2],title:f[3]};else" b};var="" d="{escape:/^\\([\\`*{}\[\]()#+\-.!_">])/,autolink:/^<([^>]+(@|:\/)[^ >]+)>/,url:p,tag:/^<\!--[^\0]*?--\>|^<\ ?\w+(?:"[^"]*"|'[^']*'|[^'"="">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_linkInside:/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,_linkHref:/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/};d.link=n(d.link)("inside",d._linkInside)("href",d._linkHref)();d.reflink=n(d.reflink)("inside",d._linkInside)();d.normal={url:d.url,strong:d.strong,em:d.em,text:d.text};d.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/};d.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/};d.lexer=function(a){for(var b="",e=m.links,g,c;a;)if(c=d.escape.exec(a))a=a.substring(c[0].length),b+=c[1];else if(c=d.autolink.exec(a))a=a.substring(c[0].length),"@"===c[2]?(g=":"===c[1][6]?r(c[1].substring(7)):r(c[1]),c=r("mailto:")+g):c=g=h(c[1]),b+='<a href="'+c+'">'+g+"";else if(c=d.url.exec(a))a=a.substring(c[0].length),c=g=h(c[1]),b+='<a href="'+c+'">'+g+"</a>";else if(c=d.tag.exec(a))a=a.substring(c[0].length),b+=k.sanitize?h(c[0]):c[0];else if(c=d.link.exec(a))a=a.substring(c[0].length),b+=t(c,{href:c[2],title:c[3]});else if((c=d.reflink.exec(a))||(c=d.nolink.exec(a)))a=a.substring(c[0].length),g=(c[2]||c[1]).replace(/\s+/g," "),g=e[g.toLowerCase()],!g||!g.href?(b+=c[0][0],a=c[0].substring(1)+a):b+=t(c,g);else if(c=d.strong.exec(a))a=a.substring(c[0].length),b+="<strong>"+d.lexer(c[2]||c[1])+"</strong>";else if(c=d.em.exec(a))a=a.substring(c[0].length),b+="<em>"+d.lexer(c[2]||c[1])+"</em>";else if(c=d.code.exec(a))a=a.substring(c[0].length),b+="<code>"+h(c[2],!0)+"</code>";else if(c=d.br.exec(a))a=a.substring(c[0].length),b+="<br>";else if(c=d.text.exec(a))a=a.substring(c[0].length),b+=h(c[0]);return b};var m,g;p.exec=p;var k,x;i.options=i.setOptions=function(a){x=a;q(a);return i};i.setOptions({gfm:!0,pedantic:!1,sanitize:!1,highlight:null});i.parser=function(a,b){q(b);return v(a)};i.lexer=function(a,b){q(b);return e.lexer(a)};i.parse=i;"undefined"!==typeof module?module.exports=i:this.marked=i}).call(function(){return this||("undefined"!==typeof window?window:global)}());var BlobBuilder=BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||function(b){var j=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},k=function(){this.data=[]},h=function(a,m,b){this.data=a;this.size=a.length;this.type=m;this.encoding=b},t=k.prototype,u=h.prototype,r=b.FileReaderSync,v=function(a){this.code=this[this.name=a]},n="NOT_FOUND_ERR,SECURITY_ERR,ABORT_ERR,NOT_READABLE_ERR,ENCODING_ERR,NO_MODIFICATION_ALLOWED_ERR,INVALID_STATE_ERR,SYNTAX_ERR".split(","),o=n.length,g=b.URL||b.webkitURL||b,p=g,l=b.btoa,e=b.atob,f=!1,d=b.ArrayBuffer,c=b.Uint8Array;for(k.fake=u.fake=!0;o--;)v.prototype[n[o]]=o+1;try{c&&function(a){f=!a}.apply(0,new c(1))}catch(w){}g.createObjectURL||(p=b.URL={});p.createObjectURL=function(a){var b=a.type;null===b&&(b="application/octet-stream");if(a instanceof h)return b="data:"+b,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):l?b+";base64,"+l(a.data):b+","+encodeURIComponent(a.data);if(real_create_object_url)return real_create_object_url.call(g,a)};p.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&real_revoke_object_url&&real_revoke_object_url.call(g,a)};t.append=function(a){var b=this.data;if(c&&a instanceof d)if(f)b.push(String.fromCharCode.apply(String,new c(a)));else for(var b="",a=new c(a),i=0,g=a.length;i<g;i++)b+=string.fromcharcode(a[i]);else if("blob"="==j(a)||" file"="==j(a))if(r)i=new"" r,b.push(i.readasbinarystring(a));else="" throw="" new="" v("not_readable_err");else="" a="" instanceof="" h?"base64"="==a.encoding&&e?b.push(e(a.data)):" uri"="==a.encoding?b.push(decodeURIComponent(a.data)):"raw"===a.encoding&&b.push(a.data):("string"!==typeof"" a&&(a+="" ),b.push(unescape(encodeuricomponent(a))))};t.getblob="function(a){arguments.length||(a=null);return" h(this.data.join(""),a,"raw")};t.tostring="function(){return" [object"="" blobbuilder]"};u.slice="function(a,b,f){var" c="arguments.length;3">c&&(f=null);return new h(this.data.slice(a,1<c?b:this.data.length),f,this.encoding)};u.tostring=function(){return"[object 1999="" blob]"};return="" k}(self),saveas="saveAs||function(b){var" j="b.document,k=b.URL||b.webkitURL||b,h=j.createElementNS(" http:="" www.w3.org="" xhtml","a"),t="download" in"="" h,u="function(f){var" d="j.createEvent(" mouseevents");d.initmouseevent("click",!0,!1,b,0,0,0,0,0,!1,!1,!1,!1,0,null);return"="" f.dispatchevent(d)},r="b.webkitRequestFileSystem,v=b.requestFileSystem||r||b.mozRequestFileSystem,n=function(f){(b.setImmediate||b.setTimeout)(function(){throw" f},0)},o="0,g=[],p=function(b,d,c){for(var" a="b[" on"+d[e]];if("function"="==typeof"" a)try{a.call(b,c||b)}catch(g){n(g)}}},l="function(f,d){var" c="this,e=f.type,a=!1,m,i,j=function(){var" a},k="function(){p(c,[" writestart","progress","write","writeend"])},q="function(){if(a||!m)m=j(f);i.location.href=m;c.readyState=c.DONE;k()},s=function(a){return"" function(){if(c.readystate!="=c.DONE)return" a.apply(this,arguments)}},l="{create:!0,exclusive:!1},n;c.readyState=c.INIT;d||(d=" download");if(t&&(m="j(f),h.href=m,h.download=d,u(h))){c.readyState=c.DONE;k();return}b.chrome&&e&&"application/octet-stream"!==e&&(n=f.slice||f.webkitSlice,f=n.call(f,0,f.size,"application/octet-stream"),a=!0);r&&"download"!==d&&(d+=".download");i="application/octet-stream"===e||r?b:b.open();v?(o+=f.size,v(b.TEMPORARY,o,s(function(a){a.root.getDirectory("saved",l,s(function(a){var"" b="function(){a.getFile(d,l,s(function(a){a.createWriter(s(function(b){b.onwriteend=function(b){i.location.href=a.toURL();g.push(a);c.readyState=c.DONE;p(c," writeend",b)};b.onerror="function(){var"" d?k.revokeobjecturl(d):d.remove()}g.length="0},!1);return" function(b,d){return="" new="" l(b,d)}}(self);$(function(){function="" f(a,b){localstorage&&localstorage.setitem("mahua_"+a,b)}function="" d(a,b){return="" localstorage?null="=localStorage.getItem(" mahua_"+a)?void"="" 0!="b?b:null:localStorage.getItem(" mahua_"+a):void"="" l(){return="" null="=d(" sessionnames")?[]:json.parse(d("sessionnames"))}function"="" s(a){for(var="" j(a){return!h[e]?null:h[e].buildin?h[e].content:d("markcontent_"+a)}function="" g(a){for(var="" t(a){a="prompt((a?a+" \n":"")+"输入新文档的名字");if(null!="a){""==$.trim(a)&&(a="untitled"+(m+1));if(!s(a))return"" t("名字重复");c.setvalue("");m++;var="" value="'+a+'" selected>'+a+"");c.focus()}}function H(a){h[a].buildIn?alert("内置的不能删除, 其实不应该让你看到删除滴。。。"):(G(a),localStorage&&localStorage.removeItem("markContent_"+a),$("#mahua-changeSession option").filter(function(){return $(this).val()==e}).remove(),m--,n("MaHua简介"))}function n(a){e=a;f("curSession",e);h[e].buildIn?c.setValue(h[e].content):c.setValue(j(a));u(a)}function u(a){$("#mahua-docname").text(a);a=$(window).width()-$("#mahua-docname").outerWidth(!0);$("#mahua-docname").css("left",a/2)}function o(a){window.iframeDoc=g;$("body",g).html(marked.parse(a));h[e].buildIn||f("markContent_"+e,a)}function v(a){var b;b=0<$("head style#system",g).size()?$("head="" style#system",g):$('<style="" id="system" type="text/css">body{}').appendTo($("head",g));$.getScript("themes/"+a+".css.js",function(){b.text(mahuaTheme)});f("curPreviewTheme",a)}function I(){var a;a=0<$("head style#hibot",g).size()?$("head="" style#hibot",g):$('<style="" id="hibot" type="text/css">').appendTo($("head",g));$.getScript("hibot.css.js",function(){a.text(hibotCss)})}function w(a){c.setTheme("ace/theme/"+a);p=a;f("curEditorTheme",a)}function x(a){a?(a=ace.require("ace/keyboard/vim").handler,c.setKeyboardHandler(a),f("keyboardBinding",1)):(c.setKeyboardHandler(null),f("keyboardBinding",0))}function y(a){c.renderer.setShowGutter(a);f("lineNum",a)}function z(a){(0<$("head style#custom",g).size()?$("head="" style#custom",g):$('<style="" id="custom" type="text/css">').appendTo($("head",g))).text(a);f("cssContent",a)}function A(a){if(!q)return!1;var b=c.getSession().getLine(a.row),b=$(marked.parse(b)),b=0==b.children().size()?b.text().trim():b.find("*").filter(function(){return 0==$(this).children().size()}).text().trim(),b=$.trim(b.replace(/^\**/,"")),d=c.renderer.getScrollTop(),e=c.renderer.textToScreenCoordinates(a.row,a.column),f=c.renderer.textToScreenCoordinates(a.row-1,a.column),f=c.getSession().getLength()*Math.abs(f.pageY-e.pageY);if(B!==a.row){B=a.row;try{var h=$("*:contains("+b+")",g).filter(function(){return 0==$(this).children().size()||1==$(this).children().size});if(0<h.size()){var i="(d+e.pageY)/f,j=$(" body",g).innerheight(),k="h.toArray().sort(function(a,b){var"" c="$(a).offset().top/j,e=$(b).offset().top/j;return" math.abs(i-c)-math.abs(i-e)}),l="$(k[0]).offset().top-e.pageY;$(r).scrollTop(l)}}catch(m){}}}function" j(a){var="" a="a.originalEvent.dataTransfer.files[0],b=new" filereader;b.onerror="function(a){alert(" error"="" code:="" "+a.target.error.code)};b.onload="function(){return" function(a){var="" b="!0;" "!="$.trim(c.getSession().getValue())&&(b=confirm("编辑器中已经有内容，是否覆盖?"));b&&c.getSession().setValue(a.target.result)}}(a);b.readAsText(a)}function"" c(a){$("#mahua-dragmask").size()||$('<div="" id="mahua-dragMask">').appendTo($("body"));$("#mahua-dragMask").show().css({left:0,top:0,width:$(window).width(),height:$(window).height(),position:"absolute",zIndex:999});150<a.pagex&&150<$(window).innerwidth()-a.pagex&&($("#mahua-spliter").css("left",a.clientx),window.getselection?window.getselection().removeallranges():document.selection.empty())}function d(){$(document).off("mousemove",c);$(document).off("mouseup",d);$("#mahua-dragmask").hide();var="" a="$(" #mahua-spliter").css("left");$("#mahua-editor").css("width",a);$("#mahua-result").css("width",$(window).innerwidth()-parseint(a));$("#mahua-result").css("marginleft",a);f("left",a)}var"="" c="ace.edit(" mahua-editor");c.getsession().setmode("ace="" mode="" markdown");c.renderer.setshowprintmargin(!1);$("#mahua-content");var"="" k="$(" #mahua-result"),i="!1,e="",L=d("cssContent",""),B=0,E=d("attachInfo",!0),k=$('<iframe"" frameborder="0" marginheight="0" width="100%" src="proxy.html">');K.append(k);var r=k.get(0).contentWindow,g=null,h={"MaHua简介":{buildIn:!0,content:'![mahua](mahua-logo.jpg)\n##MaHua是什么?\n一个在线编辑markdown文档的编辑器\n\n向Mac下优秀的markdown编辑器mou致敬\n\n##MaHua有哪些功能？\n\n* 方便的`导入导出`功能\n    *  直接把一个markdown的文本文件拖放到当前这个页面就可以了\n    *  导出为一个html格式的文件，样式一点也不会丢失\n* 编辑和预览`同步滚动`，所见即所得（右上角设置）\n* `VIM快捷键`支持，方便vim党们快速的操作 （右上角设置）\n* 强大的`自定义CSS`功能，方便定制自己的展示\n* 有数量也有质量的`主题`,编辑器和预览区域\n* 完美兼容`Github`的markdown语法\n* 预览区域`代码高亮`\n* 所有选项自动记忆\n\n##有问题反馈\n在使用中有任何问题，欢迎反馈给我，可以用以下联系方式跟我交流\n\n* 邮件(dev.hubo#gmail.com, 把#换成@)\n* QQ: 287759234\n* weibo: [@草依山](http://weibo.com/ihubo)\n* twitter: [@ihubo](http://twitter.com/ihubo)\n\n##捐助开发者\n在兴趣的驱动下,写一个`免费`的东西，有欣喜，也还有汗水，希望你喜欢我的作品，同时也能支持一下。\n当然，有钱捧个钱场（右上角的爱心标志，支持支付宝和PayPal捐助），没钱捧个人场，谢谢各位。\n\n##感激\n感谢以下的项目,排名不分先后\n\n* [mou](http://mouapp.com/) \n* [ace](http://ace.ajax.org/)\n* [jquery](http://jquery.com)\n\n##关于作者\n\n```javascript\n  var ihubo = {\n    nickName  : "草依山",\n    site : "http://jser.me"\n  }\n```'},"Markdown语法参考":{buildIn:!0,content:'#Standard Markdown\n\n##Strong and Emphasize\n```\n*emphasize*   **strong**\n_emphasize_   __strong__\n```\n##Links and Email\nInline:\n```\nAn [example](http://url.com/ "Title")\n```\nReference-style labels (titles are optional):\n```\n\nAn [example][id]. Then, anywhere\nelse in the doc, define the link:\n\n  [id]: http://example.com/  "Title"\n```\nEmail:\n```\nAn email <example@example.com> link.\n```\n\n##Images\nInline (titles are optional):\n```\n![alt text](/path/img.jpg "Title")\n```\nReference-style:\n```\n![alt text][id]\n\n[id]: /url/to/img.jpg "Title"\n```\n##Headers\n```\nSetext-style:\n\nHeader 1\n========\n\nHeader 2\n--------\n```\natx-style (closing #’s are optional):\n```\n# Header 1 #\n\n## Header 2 ##\n\n###### Header 6\n```\n##Lists\nOrdered, without paragraphs:\n```\n1.  Foo\n2.  Bar\n```\nUnordered, with paragraphs:\n```\n*   A list item.\n\n    With multiple paragraphs.\n\n*   Bar\n```\nYou can nest them:\n```\n*   Abacus\n    * answer\n*   Bubbles\n    1.  bunk\n    2.  bupkis\n        * BELITTLER\n    3. burper\n*   Cunning\n```\n##Blockquotes\n```\n> Email-style angle brackets\n> are used for blockquotes.\n\n> > And, they can be nested.\n\n> #### Headers in blockquotes\n> \n> * You can quote a list.\n> * Etc.\n```\n##Inline Code\n```\n`<code>` spans are delimited\nby backticks.\n\nYou can include literal backticks\nlike `` `this` ``.\n```\n##Block Code\nIndent every line of a code block by at least 4 spaces or 1 tab.\n```\nThis is a normal paragraph.\n\n    This is a preformatted\n    code block.\n```\n##Horizontal Rules\nThree or more dashes or asterisks:\n```\n---\n\n* * *\n\n- - - -\n```\n##Hard Line Breaks\nEnd a line with two or more spaces:\n```\nRoses are red,   \nViolets are blue.```'}},m=0,p=d("curEditorTheme","monokai"),q=d("curSyncRoll",0),F=d("curPreviewTheme","Clearness");$("#mahua-keyboard").prop("checked",parseInt(d("keyboardBinding",0)));x(parseInt(d("keyboardBinding",0)));$("#mahua-linenum").prop("checked",null!==d("lineNum")?parseInt(d("lineNum")):1);y($("#mahua-linenum").prop("checked")?1:0);$("#mahua-syncRoll").prop("checked",parseInt(d("curSyncRoll",0)));$("#mahua-editor").css("width",d("left","50%"));$("#mahua-result").css("width",d("left")?$(window).innerWidth()-parseInt(d("left")):"50%");$("#mahua-result").css("marginLeft",d("left","50%"));$("#mahua-spliter").css("left",d("left","50%"));w(p);$(k).on("load",function(){g=k.contents();r.eval("var s = document.createElement('script'); s.type = 'text/javascript'; s.src='hibot.js'; document.getElementsByTagName('head')[0].appendChild( s );");v(F);z(d("cssContent",""));o(j(e));I();setTimeout(function(){var a=$(window).height();k.height(a);setTimeout(arguments.callee,500)},250)});$.each("chrome,clouds,clouds_midnight,cobalt,crimson_editor,dawn,dreamweaver,eclipse,github,idle_fingers,kr_theme,merbivore,merbivore_soft,mono_industrial,monokai,pastel_on_dark,solarized_dark,solarized_light,textmate,tomorrow,tomorrow_night,tomorrow_night_blue,tomorrow_night_bright,tomorrow_night_eighties,twilight,vibrant_ink".split(","),function(a,b){$("#mahua-editorThemes").append('<option value="'+b+'" '+(b="=p?" selected":"")+""="">"+b+"</option>")});$.each(["Clearness-Dark","Clearness","GitHub","GitHub2"],function(a,b){$("#mahua-previewThemes").append('<option value="'+b+'" '+(b="=F?" selected":"")+""="">"+b+"</option>")});null==d("curSession")&&(f("curSession","untitled"),s("untitled"),e="untitled",null==j(e)&&f("markContent_"+e,'![mahua](mahua-logo.jpg)\n##MaHua是什么?\n一个在线编辑markdown文档的编辑器\n\n##MaHua有哪些功能？\n\n* 方便的`导入导出`功能\n    *  直接把一个markdown的文本文件拖放到当前这个页面就可以了\n    *  导出为一个html格式的文件，样式一点也不会丢失\n* 编辑和预览`同步滚动`，所见即所得（右上角设置）\n* `VIM快捷键`支持，方便vim党们快速的操作 （右上角设置）\n* 强大的`自定义CSS`功能，方便定制自己的展示\n* 有数量也有质量的`主题`,编辑器和预览区域\n* 完美兼容`Github`的markdown语法\n* 预览区域`代码高亮`\n* 所有选项自动记忆\n\n##有问题反馈\n在使用中有任何问题，欢迎反馈给我，可以用以下联系方式跟我交流\n\n* 邮件(dev.hubo#gmail.com, 把#换成@)\n* 微信:jserme\n* weibo: [@草依山](http://weibo.com/ihubo)\n* twitter: [@ihubo](http://twitter.com/ihubo)\n\n##捐助开发者\n在兴趣的驱动下,写一个`免费`的东西，有欣喜，也还有汗水，希望你喜欢我的作品，同时也能支持一下。\n##感激\n感谢以下的项目,排名不分先后\n\n* [ace](http://ace.ajax.org/)\n* [jquery](http://jquery.com)\n\n##关于作者\n\n```javascript\nvar ihubo = {\n  nickName  : "草依山",\n  site : "http://jser.me"\n}\n```'));e=d("curSession");u(e);$.each(l(),function(a,b){var c={};c[b]={buildIn:!1};m++;$.extend(h,c)});$.each(h,function(a){$("#mahua-changeSession").append('<option value="'+a+'" '+(a="=e?" selected":"")+""="">"+a+"</option>")});$("#mahua-keyboard").click(function(){x($(this).prop("checked"))});$("#mahua-linenum").click(function(){y($(this).prop("checked")?1:0)});$("#mahua-syncRoll").click(function(){q=$(this).prop("checked")?1:0;f("syncRoll",q)});$("#mahua-editorThemes").change(function(){w(this.value)});$("#mahua-changeSession").change(function(){n(this.value)});$("#mahua-previewThemes").change(function(){"custom"==this.value?showCustomCSSEditor():v(this.value)});$("#mahua-removeSession").click(function(){H(e)});$("#mahua-toggleMode").click(function(){i?(i=!1,c.getSession().setMode("ace/mode/markdown"),c.getSession().setValue(j(e))):(i=!0,c.getSession().setMode("ace/mode/css"),c.getSession().setValue(L));c.focus();f("cssMode",i);$(this).val(i?"回到编辑":"自定义CSS")});$("#mahua-attachInfo").click(function(){E=$(this).prop("checked")});$("#mahua-config").click(function(){$("#mahua-toolbar").slideDown()});$("#mahua-closeConfig").click(function(){$("#mahua-toolbar").slideUp()});$("#mahua-session").click(function(){t()});$("#mahua-exportHTML").click(function(){var a=prompt("保存的文件名",e),b=new BlobBuilder;if(a!==null){E&&o(c.getSession().getValue()+"\nEdit By [MaHua](http://mahua.jser.me)");var d=r.document.documentElement.outerHTML,d=d.replace(/<script[^<]*><[^>]*>/gm,"").replace(/<style\s*id="hibot[^>]*>[^<]*<[^>]*>/gm,"");b.append(d);saveAs(b.getBlob("text/html;charset=utf-8"),(a||e||"untitled")+".html")}});$("#mahua-importSource").click(function(){alert("请直接把文件拖放到此页面上")});$("#mahua-donate").click(function(){$("#mahua-donate-detail").slideDown()});$("#mahua-closeDonate").click(function(){$("#mahua-donate-detail").slideUp()});$(document).on("dragEnter",function(a){a.stopPropagation();a.preventDefault()}).on("dragOver",function(a){a.stopPropagation();a.preventDefault()}).on("dragLeave",function(a){a.stopPropagation();a.preventDefault()}).on("drop",function(a){a.stopPropagation();a.preventDefault();J(a)});$("#mahua-spliter").on("mousedown",function(){$(document).on("mousemove",C);$(document).on("mouseup",D);return!1});c.getSession().setValue(j(e));c.getSession().on("change",function(){var a=c.getSession().getValue();i?z(a):o(a)});c.getSession().selection.on("changeCursor",function(){var a=c.getCursorPosition();A(a)});c.getSession().on("changeScrollTop",function(){var a={row:c.renderer.getFirstFullyVisibleRow(),column:0};A(a)});c.focus()});</]*<[^></style\s*id="hibot[^></[^></script[^<]*></code></example@example.com></a.pagex&&150<$(window).innerwidth()-a.pagex&&($("#mahua-spliter").css("left",a.clientx),window.getselection?window.getselection().removeallranges():document.selection.empty())}function></h.size()){var></$("head></$("head></$("head></c?b:this.data.length),f,this.encoding)};u.tostring=function(){return"[object></g;i++)b+=string.fromcharcode(a[i]);else></\></\!--[^\0]*?--\></([^></i;h++)j=f[h],c=j.length,j=j.replace(></"+w())("def");return></tag(?!:\></(tag)[^\0]+?<\></\!--[^\0]*?--\></d;e++)c=a.charcodeat(e),.5<math.random()&&(c="x"+c.tostring(16)),b+="&#"+c+";";return></b.length;d++)a=b[d],!a()&&b[d]===a&&b.splice(d--,1);b.length||c.fx.stop()},interval:13,stop:function(){clearinterval(y);y=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});c.each(["width","height"],function(a,b){c.fx.step[b]=function(a){c.style(a.elem,b,math.max(0,a.now))}});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return></e;d++)a=this[d],a.style&&(b=a.style.display,!c._data(a,"olddisplay")&&"none"===b&&(b=a.style.display=""),""===b&&"none"===c.css(a,"display")&&c._data(a,"olddisplay",ba(a.nodename)));for(d=0;d<e;d++)if(a=this[d],a.style&&(b=a.style.display,""===b||"none"===b))a.style.display=c._data(a,"olddisplay")||"";return></e.timeout&&(x=settimeout(function(){q.abort("timeout")},e.timeout));try{u=1,r.send(k,d)}catch(s){2></j;c++){if(1===c)for(d></a?4:0;var></=e)var></[^<]*)*<\></=g;--g)c.nodename(j[g],"tbody")&&!j[g].childnodes.length&&j[g].parentnode.removechild(j[g])}!c.support.leadingwhitespace&&ha.test(i)&&l.insertbefore(b.createtextnode(ha.exec(i)[0]),l.firstchild);i=l.childnodes}else></table></"===i.charat(0)&&!gb.test(i)&&(c.support.checkclone||!pa.test(i))&&!c.support.unknownelems&&hb.test(i))f=!0,(g=c.fragments[i])&&1!==g&&(e=g);e||(e=h.createdocumentfragment(),c.clean(a,h,e,d));f&&(c.fragments[i]=g?e:1);return{fragment:e,cacheable:f}};c.fragments={};c.each({appendto:"append",prependto:"prepend",insertbefore:"before",insertafter:"after",replaceall:"replacewith"},function(a,b){c.fn[a]=function(d){var></d;b++)1===this[b].nodetype&&(c.cleandata(this[b].getelementsbytagname("*")),this[b].innerhtml=a)}catch(e){this.empty().append(a)}}else></$1></([\w:]+)></g;d++)o(a,b[d],e,c);return></o(e,null,null,[a]).length}}})();(function(){var></a.getelementsbytagname("*").length&&(n.find.tag=function(a,b){var></=(a.textcontent||a.innertext||p([a])||"").indexof(b[3]);if("not"===e){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return!1;return!0}o.error(e)},child:function(a,b){var></f;e++){if(c=a[e])c=c.parentnode,a[e]=c.nodename.tolowercase()===b?c:!1}else{for(;e<f;e++)(c=a[e])&&(a[e]=d?c.parentnode:c.parentnode===b);d&&o.filter(b,a,!0)}},"":function(c,d,e){var></p.length&&r.exec(a))if(2===p.length&&n.relative[p[0]])i=a(p[0]+p[1],b,e);else></h.length&&!a.ispropagationstopped();i++){d=h[i];a.currenttarget=d.elem;for(b=0;b<d.matches.length&&!a.isimmediatepropagationstopped();b++)if(m=d.matches[b],f||!a.namespace&&!m.namespace||a.namespace_re&&a.namespace_re.test(m.namespace))a.data=m.data,a.handleobj=m,m=(g||m.handler).apply(d.elem,e),m!==l&&(a.result=m,!1===m&&(a.preventdefault(),a.stoppropagation()))}return></m.length&&!(e=m[i][0],a.type=m[i][1],(j=(c._data(e,"events")||{})[a.type]&&c._data(e,"handle"))&&j.apply(e,b),(j=g&&e[g])&&c.acceptdata(e)&&j.apply(e,b),a.ispropagationstopped());i++);a.type=f;if(!a.isdefaultprevented()&&(!h._default||!1===h._default.apply(d.ownerdocument,b))&&!("click"===f&&c.nodename(d,"a"))&&c.acceptdata(d))if(g&&d[f]&&("focus"!==f&&"blur"!==f||0!==a.target.offsetwidth)&&!c.iswindow(d))(i=d[g])&&(d[g]=null),c.event.triggered=f,d[f](),c.event.triggered=l,i&&(d[g]=i);return></d;a++)if(b=g[a],b.selected&&(c.support.optdisabled?!b.disabled:null===b.getattribute("disabled"))&&(!b.parentnode.disabled||!c.nodename(b.parentnode,"optgroup"))){b=c(b).val();if(h)return></g;f++)delete></g){for(;f<g;f++)e[f]&&e[f].promise&&c.isfunction(e[f].promise)?e[f].promise().then(b(f),j.reject,d(f)):--i;i||j.resolvewith(j,e)}else></f;e++)g=d[e],h=c.type(g),"array"===h?j(g):"function"===h&&(!a.unique||!t.has(g))&&b.push(g)},m=function(c,j){j=j||[];e=!a.memory||[c,j];f=!0;i=g||0;g=0;for(h=b.length;b&&i<h;i++)if(!1===b[i].apply(c,j)&&a.stoponfalse){e=!0;break}f=!1;b&&(a.once?!0===e?t.disable():b=[]:d&&d.length&&(e=d.shift(),t.firewith(e[0],e[1])))},t={add:function(){if(b){var></d;c++)if(c></h;g++)if(null!=(a=arguments[g]))for(c></=a.length?[null,a,null]:g.exec(a))&&(e[1]||!c)){if(e[1])return></"===a.charat(0)&&"></\></(\w+)\s*\></]*(<[\w\w]+></body></html></g;f++)h=e[f],(i=></e;c++)b[a[c]]=!0;return>]]></content>
    
    <summary type="html">
    
      
      
        (function(r,l){function $a(a){var b=ka[a]={},c,e,a=a.split(/\s+/);for(c=0,e=a.length;c&lt;e;c++)b[a[c]]=!0;return 1=&quot;==a.nodeType});if(cb.test(
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/ace/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/ace/</id>
    <published>2020-08-09T12:12:47.805Z</published>
    <updated>2020-08-09T12:12:47.805Z</updated>
    
    <content type="html"><![CDATA[;;;(function(){function h(a){var c=function(a,b){return e("",a,b)},f=b;a&&(b[a]||(b[a]={}),f=b[a]);if(!f.define||!f.define.packaged)d.original=f.define,f.define=d,f.define.packaged=!0;if(!f.require||!f.require.packaged)e.original=f.require,f.require=c,f.require.packaged=!0}var a="ace",b=function(){return this}();if(!a&&typeof requirejs!="undefined"){var c=b.define;b.define=function(a,b,d){return typeof d!="function"?c.apply(this,arguments):ace.define(a,b,function(a,c,e){return b[2]=="module"&&(e.packaged=!0),d.apply(this,arguments)})},b.define.packaged=!0;return}var d=function(a,b,c){if(typeof a!="string"){d.original?d.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(c=b),d.modules||(d.modules={}),d.modules[a]=c},e=function(a,b,c){if(Object.prototype.toString.call(b)==="[object Array]"){var d=[];for(var f=0,h=b.length;f<h;++f){var i="g(a,b[f]);if(!i&&e.original)return" e.original.apply(window,arguments);d.push(i)}c&&c.apply(null,d)}else{if(typeof="" b="=" string"){var"="" j="g(a,b);return!j&&e.original?e.original.apply(window,arguments):(c&&c(),j)}if(e.original)return" e.original.apply(window,arguments)}},f="function(a,b){if(b.indexOf(" !")!="=-1){var"" c="b.split(" !");return"="" f(a,c[0])+"!"+f(a,c[1])}if(b.charat(0)="=" ."){var"="" d="a.split(" ").slice(0,-1).join("="" ");b="d+"/"+b;while(b.indexOf(".")!==-1&&e!=b){var"" e="b;b=b.replace(/\/\.\//," ").replace(="" [^\="" ]+\="" \.\.\="" ,"")}}return"="" b},g="function(a,b){b=f(a,b);var" null;if(typeof="" g="{},h={id:b,uri:" ",exports:g,packaged:!0},i="function(a,c){return"" e(b,a,c)},j="c(i,g,h);return" c};h(a)})(),ace.define("ace="" requirejs="" text",["require","exports","module"],function(a,b,c){b.load="function(b,c,d,e){a(" ace="" lib="" net").get(c.tourl(b),d)}}),ace.define("ace="" ace",["require","exports","module","ace="" fixoldbrowsers","ace="" dom","ace="" event","ace="" editor","ace="" edit_session","ace="" undomanager","ace="" virtual_renderer","ace="" multi_select","ace="" worker="" worker_client","ace="" keyboard="" hash_handler","ace="" state_handler","ace="" placeholder","ace="" config","ace="" theme="" textmate"],function(a,b,c){a(".="" fixoldbrowsers");var"="" instanceof="" f)return="" b.env.editor;var="" g(d.getinnertext(b));c.setundomanager(new="" h),b.innerhtml="" ;var="" k="new" f(new="" i(b,a(".="" textmate")));new="" j(k),k.setsession(c);var="" l="{};return" l.document="c,l.editor=k,k.resize(),e.addListener(window," resize",function(){k.resize()}),b.env="l,k.env=l,k}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(a,b,c){a("./regexp"),a("./es5-shim")}),ace.define("ace/lib/regexp",["require","exports","module"],function(a,b,c){function"" g(a){return(a.global?"g":"")+(a.ignorecase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":"")}function="" h(a,b,c){if(array.prototype.indexof)return="" a.indexof(b,c);for(var="" d;return-1}var="" a="/^/g;return" d.test.call(a,""),!a.lastindex}();if(f&&e)return;regexp.prototype.exec="function(a){var">1&&h(b,"")>-1&&(i=RegExp(this.source,d.replace.call(g(this),"g","")),d.replace.call(a.slice(b.index),i,function(){for(var a=1;a<arguments.length-2;a++)arguments[a]===undefined&&(b[a]=undefined)}));if(this._xregexp&&this._xregexp.capturenames)for(var j="1;j<b.length;j++)c=this._xregexp.captureNames[j-1],c&&(b[c]=b[j]);!f&&this.global&&!b[0].length&&this.lastIndex">b.index&&this.lastIndex--}return b},f||(RegExp.prototype.test=function(a){var b=d.exec.call(this,a);return b&&this.global&&!b[0].length&&this.lastIndex>b.index&&this.lastIndex--,!!b})}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(a,b,c){function p(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=g.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,h=c.apply(f,d.concat(g.call(arguments)));return h!==null&&Object(h)===h?h:f}return c.apply(b,d.concat(g.call(arguments)))};return e});var d=Function.prototype.call,e=Array.prototype,f=Object.prototype,g=e.slice,h=d.bind(f.toString),i=d.bind(f.hasOwnProperty),j,k,l,m,n;if(n=i(f,"__defineGetter__"))j=d.bind(f.__defineGetter__),k=d.bind(f.__defineSetter__),l=d.bind(f.__lookupGetter__),m=d.bind(f.__lookupSetter__);Array.isArray||(Array.isArray=function(b){return h(b)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(b){var c=G(this),d=arguments[1],e=0,f=c.length>>>0;if(h(b)!="[object Function]")throw new TypeError;while(e<f)e in="" c&&b.call(d,c[e],e,c),e++}),array.prototype.map||(array.prototype.map="function(b){var" c="G(this),d=c.length">>>0,e=Array(d),f=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var g=0;g<d;g++)g in="" c&&(e[g]="b.call(f,c[g],g,c));return" e}),array.prototype.filter||(array.prototype.filter="function(b){var" c="G(this),d=c.length">>>0,e=[],f=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var g=0;g<d;g++)g in="" c&&b.call(f,c[g],g,c)&&e.push(c[g]);return="" e}),array.prototype.every||(array.prototype.every="function(b){var" c="G(this),d=c.length">>>0,e=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var f=0;f<d;f++)if(f in="" c&&!b.call(e,c[f],f,c))return!1;return!0}),array.prototype.some||(array.prototype.some="function(b){var" c="G(this),d=c.length">>>0,e=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var f=0;f<d;f++)if(f in="" c&&b.call(e,c[f],f,c))return!0;return!1}),array.prototype.reduce||(array.prototype.reduce="function(b){var" c="G(this),d=c.length">>>0;if(h(b)!="[object Function]")throw new TypeError;if(!d&&arguments.length==1)throw new TypeError;var e=0,f;if(arguments.length>=2)f=arguments[1];else do{if(e in c){f=c[e++];break}if(++e>=d)throw new TypeError}while(!0);for(;e<d;e++)e in="" c&&(f="b.call(void" 0,f,c[e],e,c));return="" f}),array.prototype.reduceright||(array.prototype.reduceright="function(b){var" c="G(this),d=c.length">>>0;if(h(b)!="[object Function]")throw new TypeError;if(!d&&arguments.length==1)throw new TypeError;var e,f=d-1;if(arguments.length>=2)e=arguments[1];else do{if(f in c){e=c[f--];break}if(--f<0)throw new="" typeerror}while(!0);do="" f="" in="" this&&(e="b.call(void" 0,e,c[f],f,c));while(f--);return="" e}),array.prototype.indexof||(array.prototype.indexof="function(b){var" c="G(this),d=c.length">>>0;if(!d)return-1;var e=0;arguments.length>1&&(e=E(arguments[1])),e=e>=0?e:Math.max(0,d+e);for(;e<d;e++)if(e in="" c&&c[e]="==b)return" e;return-1}),array.prototype.lastindexof||(array.prototype.lastindexof="function(b){var" c="G(this),d=c.length">>>0;if(!d)return-1;var e=d-1;arguments.length>1&&(e=Math.min(e,E(arguments[1]))),e=e>=0?e:d-Math.abs(e);for(;e>=0;e--)if(e in c&&b===c[e])return e;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(b){return b.__proto__||(b.constructor?b.constructor.prototype:f)});if(!Object.getOwnPropertyDescriptor){var o="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(b,c){if(typeof b!="object"&&typeof b!="function"||b===null)throw new TypeError(o+b);if(!i(b,c))return;var d,e,g;d={enumerable:!0,configurable:!0};if(n){var h=b.__proto__;b.__proto__=f;var e=l(b,c),g=m(b,c);b.__proto__=h;if(e||g)return e&&(d.get=e),g&&(d.set=g),d}return d.value=b[c],d}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(b){return Object.keys(b)}),Object.create||(Object.create=function(b,c){var d;if(b===null)d={__proto__:null};else{if(typeof b!="object")throw new TypeError("typeof prototype["+typeof b+"] != 'object'");var e=function(){};e.prototype=b,d=new e,d.__proto__=b}return c!==void 0&&Object.defineProperties(d,c),d});if(Object.defineProperty){var q=p({}),r=typeof document=="undefined"||p(document.createElement("div"));if(!q||!r)var s=Object.defineProperty}if(!Object.defineProperty||s){var t="Property description must be an object: ",u="Object.defineProperty called on non-object: ",v="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(b,c,d){if(typeof b!="object"&&typeof b!="function"||b===null)throw new TypeError(u+b);if(typeof d!="object"&&typeof d!="function"||d===null)throw new TypeError(t+d);if(s)try{return s.call(Object,b,c,d)}catch(e){}if(i(d,"value"))if(n&&(l(b,c)||m(b,c))){var g=b.__proto__;b.__proto__=f,delete b[c],b[c]=d.value,b.__proto__=g}else b[c]=d.value;else{if(!n)throw new TypeError(v);i(d,"get")&&j(b,c,d.get),i(d,"set")&&k(b,c,d.set)}return b}}Object.defineProperties||(Object.defineProperties=function(b,c){for(var d in c)i(c,d)&&Object.defineProperty(b,d,c[d]);return b}),Object.seal||(Object.seal=function(b){return b}),Object.freeze||(Object.freeze=function(b){return b});try{Object.freeze(function(){})}catch(w){Object.freeze=function(b){return function(c){return typeof c=="function"?c:b(c)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(b){return b}),Object.isSealed||(Object.isSealed=function(b){return!1}),Object.isFrozen||(Object.isFrozen=function(b){return!1}),Object.isExtensible||(Object.isExtensible=function(b){if(Object(b)===b)throw new TypeError;var c="";while(i(b,c))c+="?";b[c]=!0;var d=i(b,c);return delete b[c],d});if(!Object.keys){var x=!0,y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],z=y.length;for(var A in{toString:null})x=!1;Object.keys=function H(a){if(typeof a!="object"&&typeof a!="function"||a===null)throw new TypeError("Object.keys called on a non-object");var H=[];for(var b in a)i(a,b)&&H.push(b);if(x)for(var c=0,d=z;c<d;c++){var e="y[c];i(a,e)&&H.push(e)}return" h}}if(!date.prototype.toisostring||(new="" date(-621987552e5)).toisostring().indexof("-000001")="==-1)Date.prototype.toISOString=function(){var" b,c,d,e;if(!isfinite(this))throw="" new="" rangeerror;b="[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],e=this.getUTCFullYear(),e=(e<0?" -":e"="">9999?"+":"")+("00000"+Math.abs(e)).slice(0<=e&&e<=9999?-4:-6),c=b.length;while(c--)d=b[c],d<10&&(b[c]="0"+d);return e+"-"+b.slice(0,2).join("-")+"t"+b.slice(2).join(":")+"."+("000"+this.getutcmilliseconds()).slice(-3)+"z"};date.now||(date.now="function(){return(new" date).gettime()}),date.prototype.tojson||(date.prototype.tojson="function(b){if(typeof" this.toisostring!="function" )throw="" new="" typeerror;return="" this.toisostring()}),date.parse("+275760-09-13t00:00:00.000z")!="=864e13&&(Date=function(a){var" b="function" e(b,c,d,f,g,h,i){var="" j="arguments.length;if(this" instanceof="" a){var="" k="j==1&&String(b)===b?new" a(e.parse(b)):j="">=7?new a(b,c,d,f,g,h,i):j>=6?new a(b,c,d,f,g,h):j>=5?new a(b,c,d,f,g):j>=4?new a(b,c,d,f):j>=3?new a(b,c,d):j>=2?new a(b,c):j>=1?new a(b):new a;return k.constructor=e,k}return a.apply(this,arguments)},c=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var d in a)b[d]=a[d];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function(d){var e=c.exec(d);if(e){e.shift();for(var f=1;f<7;f++)e[f]=+(e[f]||(f<3?1:0)),f==1&&e[f]--;var g="+e.pop(),h=+e.pop(),i=e.pop(),j=0;if(i){if(h">23||g>59)return NaN;j=(h*60+g)*6e4*(i=="+"?-1:1)}var k=+e[0];return 0<=k&&k<=99?(e[0]=k+400,a.utc.apply(this,e)+j-126227808e5):a.utc.apply(this,e)+j}return a.parse.apply(this,arguments)},b}(date));var="" b="\n\f\r   ᠎             　\u2028\u2029﻿" ;if(!string.prototype.trim||b.trim()){b="[" +b+"]";var="" c="new" regexp("^"+b+b+"*"),d="new" regexp(b+b+"*$");string.prototype.trim="function(){return" string(this).replace(c,"").replace(d,"")}}var="" e="function(a){return" a="+a,a!==a?a=0:a!==0&&a!==1/0&&a!==-Infinity&&(a=(a">0||-1)*Math.floor(Math.abs(a))),a},F="a"[0]!="a",G=function(a){if(a==null)throw new TypeError;return F&&typeof a=="string"&&a?a.split(""):Object(a)}}),ace.define("ace/lib/dom",["require","exports","module"],function(a,b,c){var d="http://www.w3.org/1999/xhtml";b.createElement=function(a,b){return document.createElementNS?document.createElementNS(b||d,a):document.createElement(a)},b.setText=function(a,b){a.innerText!==undefined&&(a.innerText=b),a.textContent!==undefined&&(a.textContent=b)},b.hasCssClass=function(a,b){var c=a.className.split(/\s+/g);return c.indexOf(b)!==-1},b.addCssClass=function(a,c){b.hasCssClass(a,c)||(a.className+=" "+c)},b.removeCssClass=function(a,b){var c=a.className.split(/\s+/g);for(;;){var d=c.indexOf(b);if(d==-1)break;c.splice(d,1)}a.className=c.join(" ")},b.toggleCssClass=function(a,b){var c=a.className.split(/\s+/g),d=!0;for(;;){var e=c.indexOf(b);if(e==-1)break;d=!1,c.splice(e,1)}return d&&c.push(b),a.className=c.join(" "),d},b.setCssClass=function(a,c,d){d?b.addCssClass(a,c):b.removeCssClass(a,c)},b.hasCssString=function(a,b){var c=0,d;b=b||document;if(b.createStyleSheet&&(d=b.styleSheets)){while(c<d.length)if(d[c++].owningelement.id===a)return!0}else if(d="b.getElementsByTagName(" style"))while(c<d.length)if(d[c++].id="==a)return!0;return!1},b.importCssString=function(c,e,f){f=f||document;if(e&&b.hasCssString(e,f))return"" null;var="" g;if(f.createstylesheet)g="f.createStyleSheet(),g.cssText=c,e&&(g.owningElement.id=e);else{g=f.createElementNS?f.createElementNS(d," style"):f.createelement("style"),g.appendchild(f.createtextnode(c)),e&&(g.id="e);var"" h="f.getElementsByTagName(" head")[0]||f.documentelement;h.appendchild(g)}},b.importcssstylsheet="function(a,c){if(c.createStyleSheet)c.createStyleSheet(a);else{var"" d="b.createElement(" link");d.rel="stylesheet" ,d.href="a;var"" e="c.getElementsByTagName(" head")[0]||c.documentelement;e.appendchild(d)}},b.getinnerwidth="function(a){return"" parseint(b.computedstyle(a,"paddingleft"),10)+parseint(b.computedstyle(a,"paddingright"),10)+a.clientwidth},b.getinnerheight="function(a){return" parseint(b.computedstyle(a,"paddingtop"),10)+parseint(b.computedstyle(a,"paddingbottom"),10)+a.clientheight},window.pageyoffset!="=undefined?(b.getPageScrollTop=function(){return" window.pageyoffset},b.getpagescrollleft="function(){return" window.pagexoffset}):(b.getpagescrolltop="function(){return" document.body.scrolltop},b.getpagescrollleft="function(){return" document.body.scrollleft}),window.getcomputedstyle?b.computedstyle="function(a,b){return" b?(window.getcomputedstyle(a,"")||{})[b]||"":window.getcomputedstyle(a,"")||{}}:b.computedstyle="function(a,b){return" b?a.currentstyle[b]:a.currentstyle},b.scrollbarwidth="function(a){var" c="b.createElement(" p");c.style.width="100%" ,c.style.minwidth="0px" ,c.style.height="200px" ;var"="" f="a.body||a.documentElement;f.appendChild(d);var" g="c.offsetWidth;e.overflow=" scroll";var"="" c.innerhtml="b,a.parentNode.replaceChild(c,a),c},b.setInnerText=function(a,b){var" c.body?a.textcontent="b:a.innerText=b},b.getInnerText=function(a){var" b="a.ownerDocument;return" b.body&&"textcontent"in="" b.body?a.textcontent:a.innertext||a.textcontent||""},b.getparentwindow="function(a){return" a.defaultview||a.parentwindow}}),ace.define("ace="" lib="" event",["require","exports","module","ace="" keys","ace="" useragent","ace="" dom"],function(a,b,c){function="" g(a,b,c){var="" window||!e.ismac?f="0|(b.ctrlKey?1:0)|(b.altKey?2:0)|(b.shiftKey?4:0)|(b.metaKey?8:0):f=0|(b.metaKey?1:0)|(b.altKey?2:0)|(b.shiftKey?4:0)|(b.ctrlKey?8:0);if(c" in="" d.modifier_keys){switch(d.modifier_keys[c]){case"alt":f="2;break;case" shift":f="4;break;case"Ctrl":f=1;break;default:f=8}c=0}return"" f&8&&(c="=91||c==93)&&(c=0),!!f||c" d.function_keys||c="" d.printable_keys?a(b,f,c):!1}var="" a.addeventlistener(b,c,!1);if(a.attachevent){var="" a.removeeventlistener(b,c,!1);a.detachevent&&a.detachevent("on"+b,c._wrapper||c)},b.stopevent="function(a){return" b.stoppropagation(a),b.preventdefault(a),!1},b.stoppropagation="function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},b.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},b.getButton=function(a){return" a.type="=" dblclick"?0:a.type="="contextmenu"||a.ctrlKey&&e.isMac?2:a.preventDefault?a.button:{1:0,2:2,4:1}[a.button]},document.documentElement.setCapture?b.capture=function(a,c,d){function"" f(g){c(g),e||(e="!0,d(g)),b.removeListener(a," mousemove",c),b.removelistener(a,"mouseup",f),b.removelistener(a,"losecapture",f),a.releasecapture()}var"="" d(a){b&&b(a),c&&c(a),document.removeeventlistener("mousemove",b,!0),document.removeeventlistener("mouseup",d,!0),a.stoppropagation()}document.addeventlistener("mousemove",b,!0),document.addeventlistener("mouseup",d,!0)},b.addmousewheellistener="function(a,c){var">5||Math.abs(a.clientY-i)>5;if(!j||e)g=0;g+=1,j&&clearTimeout(j),j=setTimeout(function(){j=null},c[g-1]||600)}g==1&&(h=a.clientX,i=a.clientY),d[f]("mousedown",a);if(g>4)g=0;else if(g>1)return d[f](k[g],a)}),e.isOldIE&&b.addListener(a,"dblclick",function(a){g=2,j&&clearTimeout(j),j=setTimeout(function(){j=null},c[g-1]||600),d[f]("mousedown",a),d[f](k[g],a)})},b.addCommandKeyListener=function(a,c){var d=b.addListener;if(e.isOldGecko||e.isOpera&&!("KeyboardEvent"in window)){var f=null;d(a,"keydown",function(a){f=a.keyCode}),d(a,"keypress",function(a){return g(c,a,f)})}else{var h=null;d(a,"keydown",function(a){return h=a.keyIdentifier||a.keyCode,g(c,a,a.keyCode)})}};if(window.postMessage&&!e.isOldIE){var h=1;b.nextTick=function(a,c){c=c||window;var d="zero-timeout-message-"+h;b.addListener(c,"message",function e(f){f.data==d&&(b.stopPropagation(f),b.removeListener(c,"message",e),a())}),c.postMessage(d,"*")}}else b.nextTick=function(a,b){b=b||window,window.setTimeout(a,0)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(a,b,c){var d=a("./oop"),e=function(){var a={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(var b in a.FUNCTION_KEYS){var c=a.FUNCTION_KEYS[b].toUpperCase();a[c]=parseInt(b,10)}return d.mixin(a,a.MODIFIER_KEYS),d.mixin(a,a.PRINTABLE_KEYS),d.mixin(a,a.FUNCTION_KEYS),a}();d.mixin(b,e),b.keyCodeToString=function(a){return(e[a]||String.fromCharCode(a)).toLowerCase()}}),ace.define("ace/lib/oop",["require","exports","module"],function(a,b,c){b.inherits=function(){var a=function(){};return function(b,c){a.prototype=c.prototype,b.super_=c.prototype,b.prototype=new a,b.prototype.constructor=b}}(),b.mixin=function(a,b){for(var c in b)a[c]=b[c]},b.implement=function(a,c){b.mixin(a,c)}}),ace.define("ace/lib/useragent",["require","exports","module"],function(a,b,c){var d=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),e=navigator.userAgent;b.isWin=d=="win",b.isMac=d=="mac",b.isLinux=d=="linux",b.isIE=navigator.appName=="Microsoft Internet Explorer"&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),b.isOldIE=b.isIE&&b.isIE<9,b.isgecko=b.ismozilla=window.controllers&&window.navigator.product==="gecko",b.isoldgecko=b.isgecko&&parseint((navigator.useragent.match( rv\:(\d+)="" )||[])[1],10)<4,b.isopera="window.opera&&Object.prototype.toString.call(window.opera)==" [object"="" opera]",b.iswebkit="parseFloat(e.split(" webkit="" ")[1])||undefined,b.ischrome="parseFloat(e.split(""" chrome="" ")[1])||undefined,b.isair="e.indexOf(" adobeair")"="">=0,b.isIPad=e.indexOf("iPad")>=0,b.isTouchPad=e.indexOf("TouchPad")>=0,b.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},b.getOS=function(){return b.isMac?b.OS.MAC:b.isLinux?b.OS.LINUX:b.OS.WINDOWS}}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands"],function(a,b,c){a("./lib/fixoldbrowsers");var d=a("./lib/oop"),e=a("./lib/lang"),f=a("./lib/useragent"),g=a("./keyboard/textinput").TextInput,h=a("./mouse/mouse_handler").MouseHandler,i=a("./mouse/fold_handler").FoldHandler,j=a("./keyboard/keybinding").KeyBinding,k=a("./edit_session").EditSession,l=a("./search").Search,m=a("./range").Range,n=a("./lib/event_emitter").EventEmitter,o=a("./commands/command_manager").CommandManager,p=a("./commands/default_commands").commands,q=function(a,b){var c=a.getContainerElement();this.container=c,this.renderer=a,this.commands=new o(f.isMac?"mac":"win",p),this.textInput=new g(a.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new j(this),f.isIPad||(this.$mouseHandler=new h(this),new i(this)),this.$blockScrolling=0,this.$search=(new l).set({wrap:!0}),this.setSession(b||new k(""))};(function(){d.implement(this,n),this.setKeyboardHandler=function(a){this.keyBinding.setKeyboardHandler(a)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(a){if(this.session==a)return;if(this.session){var b=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeLeftTop",this.$onScrollLeftChange);var c=this.session.getSelection();c.removeEventListener("changeCursor",this.$onCursorChange),c.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=a,this.$onDocumentChange=this.onDocumentChange.bind(this),a.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(a),this.$onChangeMode=this.onChangeMode.bind(this),a.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),a.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),a.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),a.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),a.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),a.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=a.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull(),this._emit("changeSession",{session:a,oldSession:b})},this.getSession=function(){return this.session},this.setValue=function(a,b){return this.session.doc.setValue(a),b?b==1?this.navigateFileEnd():b==-1&&this.navigateFileStart():this.selectAll(),a},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(a){this.renderer.onResize(a)},this.setTheme=function(a){this.renderer.setTheme(a)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(a){this.renderer.setStyle(a)},this.unsetStyle=function(a){this.renderer.unsetStyle(a)},this.setFontSize=function(a){this.container.style.fontSize=a,this.renderer.updateFontSize()},this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(this.$highlightPending)return;var a=this;this.$highlightPending=!0,setTimeout(function(){a.$highlightPending=!1;var b=a.session.findMatchingBracket(a.getCursorPosition());if(b){var c=new m(b.row,b.column,b.row,b.column+1);a.session.$bracketHighlight=a.session.addMarker(c,"ace_bracket","text")}},10)},this.focus=function(){var a=this;setTimeout(function(){a.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus")},this.onBlur=function(){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur")},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(a){var b=a.data,c=b.range,d;c.start.row==c.end.row&&b.action!="insertLines"&&b.action!="removeLines"?d=c.end.row:d=Infinity,this.renderer.updateLines(c.start.row,d),this._emit("change",a),this.$cursorChange()},this.onTokenizerUpdate=function(a){var b=a.data;this.renderer.updateLines(b.first,b.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine(),this._emit("changeSelection")},this.$updateHighlightActiveLine=function(){var a=this.getSession();a.$highlightLineMarker&&a.removeMarker(a.$highlightLineMarker),a.$highlightLineMarker=null;if(this.$highlightActiveLine){var b=this.getCursorPosition(),c=this.session.getFoldLine(b.row);if(this.getSelectionStyle()!="line"||!this.selection.isMultiLine()){var d;c?d=new m(c.start.row,0,c.end.row+1,0):d=new m(b.row,0,b.row+1,0),a.$highlightLineMarker=a.addMarker(d,"ace_active_line","background")}}},this.onSelectionChange=function(a){var b=this.session;b.$selectionMarker&&b.removeMarker(b.$selectionMarker),b.$selectionMarker=null;if(!this.selection.isEmpty()){var c=this.selection.getRange(),d=this.getSelectionStyle();b.$selectionMarker=b.addMarker(c,"ace_selection",d)}else this.$updateHighlightActiveLine();var e=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(e),this._emit("changeSelection")},this.$getSelectionHighLightRegexp=function(){var a=this.session,b=this.getSelectionRange();if(b.isEmpty()||b.isMultiLine())return;var c=b.start.column-1,d=b.end.column+1,e=a.getLine(b.start.row),f=e.length,g=e.substring(Math.max(c,0),Math.min(d,f));if(c>=0&&/^[\w\d]/.test(g)||d<=f&& [\w\d]$="" .test(g))return;g="e.substring(b.start.column,b.end.column);if(!/^[\w\d]+$/.test(g))return;var" h="this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:g});return" h},this.onchangefrontmarker="function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(){this.renderer.updateText()},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getCopyText=function(){var" a="" ;return="" this.selection.isempty()||(a="this.session.getTextRange(this.getSelectionRange())),this._emit(" copy",a),a},this.oncopy="function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(a){if(this.$readOnly)return;this._emit("paste",a),this.insert(a)},this.insert=function(a){var"" b="this.session,c=b.getMode(),d=this.getCursorPosition();if(this.getBehavioursEnabled()){var" e="c.transformAction(b.getState(d.row)," insertion",this,b,a);e&&(a="e.text)}a=a.replace(""" ",this.session.gettabstring());if(!this.selection.isempty())d="this.session.remove(this.getSelectionRange()),this.clearSelection();else" if(this.session.getoverwrite()){var="" f="new" m.frompoints(d,d);f.end.column+="a.length,this.session.remove(f)}this.clearSelection();var" g="d.column,h=b.getState(d.row),i=c.checkOutdent(h,b.getLine(d.row),a),j=b.getLine(d.row),k=c.getNextLineIndent(h,j.slice(0,d.column),b.getTabString()),l=b.insert(d,a);e&&e.selection&&(e.selection.length==2?this.selection.setSelectionRange(new" m(d.row,g+e.selection[0],d.row,g+e.selection[1])):this.selection.setselectionrange(new="" m(d.row+e.selection[0],e.selection[1],d.row+e.selection[2],e.selection[3])));var="" n="b.getTabSize(),o=Number.MAX_VALUE;for(var" p="d.row+1;p<=l.row;++p){var" q="0;j=b.getLine(p);for(var" r="0;r<j.length;++r)if(j.charAt(r)==" "="" ")q+="n;else{if(j.charAt(r)!=" ")break;q+="1}/[^\s]/.test(j)&&(o=Math.min(q,o))}for(var" s="o;j=b.getLine(p);for(var">0;++r)j.charAt(r)==""?s-=n:j.charAt(r)==" "&&(s-=1);b.remove(new m(p,0,p,r))}b.indentRows(d.row+1,l.row,k)}i&&c.autoOutdent(h,b,d.row)},this.onTextInput=function(a){this.keyBinding.onTextInput(a)},this.onCommandKey=function(a,b,c){this.keyBinding.onCommandKey(a,b,c)},this.setOverwrite=function(a){this.session.setOverwrite(a)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(a){this.$mouseHandler.setScrollSpeed(a)},this.getScrollSpeed=function(){return this.$mouseHandler.getScrollSpeed()},this.setDragDelay=function(a){this.$mouseHandler.setDragDelay(a)},this.getDragDelay=function(){return this.$mouseHandler.getDragDelay()},this.$selectionStyle="line",this.setSelectionStyle=function(a){if(this.$selectionStyle==a)return;this.$selectionStyle=a,this.onSelectionChange(),this._emit("changeSelectionStyle",{data:a})},this.getSelectionStyle=function(){return this.$selectionStyle},this.$highlightActiveLine=!0,this.setHighlightActiveLine=function(a){if(this.$highlightActiveLine==a)return;this.$highlightActiveLine=a,this.$updateHighlightActiveLine()},this.getHighlightActiveLine=function(){return this.$highlightActiveLine},this.$highlightGutterLine=!0,this.setHighlightGutterLine=function(a){if(this.$highlightGutterLine==a)return;this.renderer.setHighlightGutterLine(a),this.$highlightGutterLine=a},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$highlightSelectedWord=!0,this.setHighlightSelectedWord=function(a){if(this.$highlightSelectedWord==a)return;this.$highlightSelectedWord=a,this.$onSelectionChange()},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(a){this.renderer.setAnimatedScroll(a)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(a){this.renderer.setShowInvisibles(a)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(a){this.renderer.setDisplayIndentGuides(a)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.$readOnly=!1,this.setReadOnly=function(a){this.$readOnly=a},this.getReadOnly=function(){return this.$readOnly},this.$modeBehaviours=!0,this.setBehavioursEnabled=function(a){this.$modeBehaviours=a},this.getBehavioursEnabled=function(){return this.$modeBehaviours},this.setShowFoldWidgets=function(a){var b=this.renderer.$gutterLayer;if(b.getShowFoldWidgets()==a)return;this.renderer.$gutterLayer.setShowFoldWidgets(a),this.$showFoldWidgets=a,this.renderer.updateFull()},this.getShowFoldWidgets=function(){return this.renderer.$gutterLayer.getShowFoldWidgets()},this.setFadeFoldWidgets=function(a){this.renderer.setFadeFoldWidgets(a)},this.getFadeFoldWidgets=function(){return this.renderer.getFadeFoldWidgets()},this.remove=function(a){this.selection.isEmpty()&&(a=="left"?this.selection.selectLeft():this.selection.selectRight());var b=this.getSelectionRange();if(this.getBehavioursEnabled()){var c=this.session,d=c.getState(b.start.row),e=c.getMode().transformAction(d,"deletion",this,c,b);e&&(b=e)}this.session.remove(b),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var a=this.getSelectionRange();a.start.column==a.end.column&&a.start.row==a.end.row&&(a.end.column=0,a.end.row++),this.session.remove(a),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var a=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(a)},this.transposeLetters=function(){if(!this.selection.isEmpty())return;var a=this.getCursorPosition(),b=a.column;if(b===0)return;var c=this.session.getLine(a.row),d,e;b<c.length?(d=c.charat(b)+c.charat(b-1),e=new m(a.row,b-1,a.row,b+1)):(d="c.charAt(b-1)+c.charAt(b-2),e=new" m(a.row,b-2,a.row,b)),this.session.replace(e,d)},this.tolowercase="function(){var" a="this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var" b="this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toLowerCase()),this.selection.setSelectionRange(a)},this.toUpperCase=function(){var" d;if(this.session.getusesofttabs()){var="" f="a.getTabSize(),g=this.getCursorPosition(),h=a.documentToScreenColumn(g.row,g.column),i=f-h%f;d=e.stringRepeat(" "="" ",i)}else="" d="" ;return="" this.insert(d)}var="" c="this.$getSelectedRows();a.indentRows(c.first,c.last," ")},this.blockoutdent="function(){var" m(a.first,0,a.last+1,0):b="new" m(a.first-1,this.session.getline(a.first-1).length,a.last,this.session.getline(a.last).length),this.session.remove(b),this.clearselection()},this.duplicateselection="function(){var" e="a.isBackwards(),f=a.isBackwards()?c.start:c.end,g=b.insert(f,b.getTextRange(c),!1);c.start=f,c.end=g,a.setSelectionRange(c,e)}},this.moveLinesDown=function(){this.$moveLines(function(a,b){return" this.session.movelinesdown(a,b)})},this.movelinesup="function(){this.$moveLines(function(a,b){return" this.session.movelinesup(a,b)})},this.movetext="function(a,b){return" this.$readonly?null:this.session.movetext(a,b)},this.copylinesup="function(){this.$moveLines(function(a,b){return" this.session.duplicatelines(a,b),0})},this.copylinesdown="function(){this.$moveLines(function(a,b){return" this.session.duplicatelines(a,b)})},this.$movelines="function(a){var" this.renderer.getfirstvisiblerow()},this.getlastvisiblerow="function(){return" this.renderer.getlastvisiblerow()},this.isrowvisible="function(a){return">=this.getFirstVisibleRow()&&a<=this.getlastvisiblerow()},this.isrowfullyvisible=function(a){return a="">=this.renderer.getFirstFullyVisibleRow()&&a<=this.renderer.getlastfullyvisiblerow()},this.$getvisiblerowcount=function(){return this.renderer.getscrollbottomrow()-this.renderer.getscrolltoprow()+1},this.$movebypage="function(a,b){var" c="this.renderer,d=this.renderer.layerConfig,e=a*Math.floor(d.height/d.lineHeight);this.$blockScrolling++,b==1?this.selection.$moveSelection(function(){this.moveCursorBy(e,0)}):b==0&&(this.selection.moveCursorBy(e,0),this.selection.clearSelection()),this.$blockScrolling--;var" f="c.scrollTop;c.scrollBy(0,e*d.lineHeight),b!=null&&c.scrollCursorIntoView(null,.5),c.animateScrolling(f)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(a){this.renderer.scrollToRow(a)},this.scrollToLine=function(a,b,c,d){this.renderer.scrollToLine(a,b,c,d)},this.centerSelection=function(){var" a="this.getSelectionRange(),b={row:Math.floor(a.start.row+(a.end.row-a.start.row)/2),column:Math.floor(a.start.column+(a.end.column-a.start.column)/2)};this.renderer.alignCursor(b,.5)},this.getCursorPosition=function(){return" this.selection.getcursor()},this.getcursorpositionscreen="function(){return" this.session.documenttoscreenposition(this.getcursorposition())},this.getselectionrange="function(){return" this.selection.getrange()},this.selectall="function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)},this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)},this.jumpToMatching=function(a){var" b="this.getCursorPosition(),c=this.session.getBracketRange(b);if(!c){c=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:b.row,column:b.column-1}});if(!c)return;var" d="c.start;d.row==b.row&&Math.abs(d.column-b.column)<2&&(c=this.session.getBracketRange(d))}d=c&&c.cursor||d,d&&(a?c&&c.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(d.row,d.column):(this.clearSelection(),this.moveCursorTo(d.row,d.column)))},this.gotoLine=function(a,b,c){this.selection.clearSelection(),this.session.unfold({row:a-1,column:b||0}),this.$blockScrolling+=1,this.moveCursorTo(a-1,b||0),this.$blockScrolling-=1,this.isRowFullyVisible(a-1)||this.scrollToLine(a-1,!0,c)},this.navigateTo=function(a,b){this.clearSelection(),this.moveCursorTo(a,b)},this.navigateUp=function(a){this.selection.clearSelection(),a=a||1,this.selection.moveCursorBy(-a,0)},this.navigateDown=function(a){this.selection.clearSelection(),a=a||1,this.selection.moveCursorBy(a,0)},this.navigateLeft=function(a){if(!this.selection.isEmpty()){var" c?(this.$tryreplace(c,a)&&(d="1),c!==null&&(this.selection.setSelectionRange(c),this.renderer.scrollSelectionIntoView(c.start,c.end)),d):d},this.replaceAll=function(a,b){b&&this.$search.set(b);var" d;this.$blockscrolling+="1;var" e="this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0);for(var">=0;--f)this.$tryReplace(c[f],a)&&d++;return this.selection.setSelectionRange(e),this.$blockScrolling-=1,d},this.$tryReplace=function(a,b){var c=this.session.getTextRange(a);return b=this.$search.replace(c,b),b!==null?(a.end=this.session.replace(a,b),a):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(a,b,c){b||(b={}),typeof a=="string"||a instanceof RegExp?b.needle=a:typeof a=="object"&&d.mixin(b,a);var e=this.selection.getRange();b.needle==null&&(a=this.session.getTextRange(e)||this.$search.$options.needle,a||(e=this.session.getWordRange(e.start.row,e.start.column),a=this.session.getTextRange(e)),this.$search.set({needle:a})),this.$search.set(b),b.start||this.$search.set({start:e});var f=this.$search.find(this.session);if(b.preventScroll)return f;if(f)return this.revealRange(f,c),f;b.backwards?e.start=e.end:e.end=e.start,this.selection.setRange(e)},this.findNext=function(a,b){this.find({skipCurrent:!0,backwards:!1},a,b)},this.findPrevious=function(a,b){this.find(a,{skipCurrent:!0,backwards:!0},b)},this.revealRange=function(a,b){this.$blockScrolling+=1,this.session.unfold(a),this.selection.setSelectionRange(a),this.$blockScrolling-=1;var c=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(a.start,a.end,.5),b!=0&&this.renderer.animateScrolling(c)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy()}}).call(q.prototype),b.Editor=q}),ace.define("ace/lib/lang",["require","exports","module"],function(a,b,c){b.stringReverse=function(a){return a.split("").reverse().join("")},b.stringRepeat=function(a,b){return(new Array(b+1)).join(a)};var d=/^\s\s*/,e=/\s\s*$/;b.stringTrimLeft=function(a){return a.replace(d,"")},b.stringTrimRight=function(a){return a.replace(e,"")},b.copyObject=function(a){var b={};for(var c in a)b[c]=a[c];return b},b.copyArray=function(a){var b=[];for(var c=0,d=a.length;c<d;c++)a[c]&&typeof a[c]="=" object"?b[c]="this.copyObject(a[c]):b[c]=a[c];return"" b},b.deepcopy="function(a){if(typeof" a!="object" )return="" a;var="" b="a.constructor();for(var" c="" in="" a)typeof="" b},b.arraytomap="function(a){var" b},b.createmap="function(a){var" a)b[c]="a[c];return" b},b.arrayremove="function(a,b){for(var" a.replace(="" ([.*+?^${}()|[\]\="" \\])="" g,"\\$1")},b.getmatchoffsets="function(a,b){var" a.replace(b,function(a){c.push({offset:arguments[arguments.length-2],length:a.length})}),c},b.deferredcall="function(a){var" d.cancel(),b="setTimeout(c,a||0),d};return" d.schedule="d,d.call=function(){return" this.cancel(),a(),d},d.cancel="function(){return" cleartimeout(b),b="null,d},d}}),ace.define(" ace="" keyboard="" textinput",["require","exports","module","ace="" lib="" event","ace="" useragent","ace="" dom"],function(a,b,c){var"="" d="a(" ..="" event"),e="a("../lib/useragent"),f=a("../lib/dom"),g=function(a,b){function"" l(a){try{a?(c.value="g,c.selectionStart=0,c.selectionEnd=1):c.select()}catch(b){}}function" m(a){if(!i){var="">1&&(d.charAt(0)==g?d=d.substr(1):d.charAt(d.length-1)==g&&(d=d.slice(0,-1))),d&&d!=g&&(j?b.onPaste(d):b.onTextInput(d)))}i=!1,j=!1,l(!0)}function v(){return document.activeElement===c}function w(){setTimeout(function(){k&&(c.style.cssText=k,k=""),m(),b.renderer.$keepTextAreaAtCursor==null&&(b.renderer.$keepTextAreaAtCursor=!0,b.renderer.$moveTextAreaToCursor())},0)}var c=f.createElement("textarea");e.isTouchPad&&c.setAttribute("x-palm-disable-auto-cap",!0),c.setAttribute("wrap","off"),c.style.top="-2em",a.insertBefore(c,a.firstChild);var g=e.isIE?"":"";m();var h=!1,i=!1,j=!1,k="",n=function(a){h||m(a.data),setTimeout(function(){h||l(!0)},0)},o=function(a){setTimeout(function(){h||c.value!=""&&m()},0)},p=function(a){h=!0,b.onCompositionStart(),setTimeout(q,0)},q=function(){if(!h)return;b.onCompositionUpdate(c.value)},r=function(a){h=!1,b.onCompositionEnd()},s=function(a){i=!0;var d=b.getCopyText();d?c.value=d:a.preventDefault(),l(),setTimeout(function(){m()},0)},t=function(a){i=!0;var d=b.getCopyText();d?(c.value=d,b.onCut()):a.preventDefault(),l(),setTimeout(function(){m()},0)};d.addCommandKeyListener(c,b.onCommandKey.bind(b)),d.addListener(c,"input",n);if(e.isOldIE){var u={13:1,27:1};d.addListener(c,"keyup",function(a){h&&(!c.value||u[a.keyCode])&&setTimeout(r,0);if((c.value.charCodeAt(0)|0)<129)return;h?q():p()}),d.addlistener(c,"propertychange",function(){c.value!=g&&settimeout(m,0)})}d.addlistener(c,"paste",function(a){j=!0,a.clipboarddata&&a.clipboarddata.getdata?(m(a.clipboarddata.getdata("text plain")),a.preventdefault()):o()}),"onbeforecopy"in="" c&&typeof="" clipboarddata!="undefined" ?(d.addlistener(c,"beforecopy",function(a){if(k)return;var="" c="b.getCopyText();c?clipboardData.setData(" text",c):a.preventdefault()}),d.addlistener(a,"keydown",function(a){if(a.ctrlkey&&a.keycode="=88){var"" window?(d.addlistener(c,"copy",s),d.addlistener(c,"cut",t)):d.addlistener(a,"keydown",function(a){if(e.ismac&&!a.metakey||!a.ctrlkey)return;if(a.keycode="=88||a.keyCode==67){var" d="b.getCopyText();d&&(c.value=d,c.select(),a.keyCode==88&&b.onCut())}}),d.addListener(c," compositionstart",p),e.isgecko&&d.addlistener(c,"text",q),e.iswebkit&&d.addlistener(c,"keyup",q),d.addlistener(c,"compositionend",r),d.addlistener(c,"blur",function(){b.onblur()}),d.addlistener(c,"focus",function(){b.onfocus(),l()}),this.focus="function(){l(),c.focus()},this.blur=function(){c.blur()},this.isFocused=v,this.getElement=function(){return"" c},this.oncontextmenu="function(a){k||(k=c.style.cssText),c.style.cssText=" position:fixed;"="" z-index:100000;"+(e.isie?"background:rgba(0,="" 0,="" 0.03);="" opacity:0.1;":"")+"left:"+(a.clientx-2)+"px;="" top:"+(a.clienty-2)+"px;",b.selection.isempty()?c.value="" :l(!0);if(a.type!="mousedown" )return;b.renderer.$keeptextareaatcursor&&(b.renderer.$keeptextareaatcursor="null),e.isWin&&(e.isGecko||e.isIE)&&d.capture(b.container,function(a){c.style.left=a.clientX-2+" px",c.style.top="a.clientY-2+"px"},w)},this.onContextMenuClose=w,e.isGecko||d.addListener(c,"contextmenu",function(a){b.textInput.onContextMenu(a),w()})};b.TextInput=g}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop"],function(a,b,c){var"" f(this),new="" g(this),new="" i(this),d.addlistener(a.container,"mousedown",function(b){return="" a.focus(),d.preventdefault(b)});var="" b="a.renderer.getMouseEventTarget();d.addListener(b," click",this.onmouseevent.bind(this,"click")),d.addlistener(b,"mousemove",this.onmousemove.bind(this,"mousemove")),d.addmultimousedownlistener(b,[300,300,250],this,"onmouseevent"),d.addmousewheellistener(a.container,this.onmousewheel.bind(this,"mousewheel"));var"="" this.$scrollspeed},this.onmouseevent="function(a,b){this.editor._emit(a,new" h(b,this.editor))},this.$dragdelay="250,this.setDragDelay=function(a){this.$dragDelay=a},this.getDragDelay=function(){return" this.$dragdelay},this.onmousemove="function(a,b){var" h(b,this.editor))},this.onmousewheel="function(a,b){var" h(b,this.editor);c.speed="this.$scrollSpeed*2,c.wheelX=b.wheelX,c.wheelY=b.wheelY,this.editor._emit(a,c)},this.setState=function(a){this.state=a},this.captureMouse=function(a,b){b&&this.setState(b),this.x=a.x,this.y=a.y;var" f="this,g=function(a){f.x=a.clientX,f.y=a.clientY},h=function(a){clearInterval(j),f[f.state+" end"]&&f[f.state+"end"](a),f.$clickselection="null,c.$keepTextAreaAtCursor==null&&(c.$keepTextAreaAtCursor=!0,c.$moveTextAreaToCursor())},i=function(){f[f.state]&&f[f.state]()};if(e.isOldIE&&a.domEvent.type=="dblclick"){setTimeout(function(){i(),h(a.domEvent)});return}d.capture(this.editor.container,g,h);var"" j="setInterval(i,20)}}).call(j.prototype),b.MouseHandler=j}),ace.define(" ace="" mouse="" default_handlers",["require","exports","module","ace="" lib="" dom","ace="" useragent"],function(a,b,c){function"="" g(a){a.$clickselection="null;var" h(a,b,c,d){return="" math.sqrt(math.pow(c-a,2)+math.pow(d-b,2))}function="" i(a,b){if(a.start.row="=a.end.row)var" var="" c<0?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}var="" this.setstate("focuswait"),this.capturemouse(a),a.preventdefault()}return!b||this.$clickselection||a.getshiftkey()?this.startselect(c):b&&(this.mousedownevent.time="(new" date).gettime(),this.setstate("dragwait")),this.capturemouse(a),a.preventdefault()},this.startselect="function(a){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y),this.mousedownEvent.getShiftKey()?this.editor.selection.selectToPosition(a):this.$clickSelection||(this.editor.moveCursorToPosition(a),this.editor.selection.clearSelection()),this.setState(" select")},this.select="function(){var"" a,b="this.editor,c=b.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var" if(d="=1)a=this.$clickSelection.start;else{var" e="i(this.$clickSelection,c);c=e.cursor,a=e.anchor}b.selection.setSelectionAnchor(a.row,a.column)}b.selection.selectToPosition(c),b.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(a){var" b,c="this.editor,d=c.renderer.screenToTextCoordinates(this.x,this.y),e=c.selection[a](d.row,d.column);if(this.$clickSelection){var" if(g="=1&&f">=0){b=this.$clickSelection.start;if(e.start.row!=d.row||e.start.column!=d.column)d=e.end}else if(f==-1&&g==1)d=e.end,b=e.start;else{var h=i(this.$clickSelection,d);d=h.cursor,b=h.anchor}c.selection.setSelectionAnchor(b.row,b.column)}c.selection.selectToPosition(d),c.renderer.scrollCursorIntoView()},this.startDrag=function(){var a=this.editor;this.setState("drag"),this.dragRange=a.getSelectionRange();var b=a.getSelectionStyle();this.dragSelectionMarker=a.session.addMarker(this.dragRange,"ace_selection",b),a.clearSelection(),d.addCssClass(a.container,"ace_dragging"),this.$dragKeybinding||(this.$dragKeybinding={handleKeyboard:function(a,b,c,d){if(c=="esc")return{command:this.command}},command:{exec:function(a){var b=a.$mouseHandler;b.dragCursor=null,b.dragEnd(),b.startSelect()}}}),a.keyBinding.addKeyboardHandler(this.$dragKeybinding)},this.focusWait=function(){var a=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),b=(new Date).getTime();(a>f||b-this.mousedownEvent.time>this.$focusWaitTimout)&&this.startSelect()},this.dragWait=function(a){var b=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),c=(new Date).getTime(),d=this.editor;b>f?this.startSelect(this.mousedownEvent.getDocumentPosition()):c-this.mousedownEvent.time>d.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(a){this.mousedownEvent.domEvent=a,this.startSelect()},this.drag=function(){var a=this.editor;this.dragCursor=a.renderer.screenToTextCoordinates(this.x,this.y),a.moveCursorToPosition(this.dragCursor),a.renderer.scrollCursorIntoView()},this.dragEnd=function(a){var b=this.editor,c=this.dragCursor,e=this.dragRange;d.removeCssClass(b.container,"ace_dragging"),b.session.removeMarker(this.dragSelectionMarker),b.keyBinding.removeKeyboardHandler(this.$dragKeybinding);if(!c)return;b.clearSelection();if(a&&(a.ctrlKey||a.altKey)){var f=b.session,g=e;g.end=f.insert(c,f.getTextRange(e)),g.start=c}else{if(e.contains(c.row,c.column))return;var g=b.moveText(e,c)}if(!g)return;b.selection.setSelectionRange(g)},this.onDoubleClick=function(a){var b=a.getDocumentPosition(),c=this.editor,d=c.session,e=d.getBracketRange(b);if(e){e.isEmpty()&&(e.start.column--,e.end.column++),this.$clickSelection=e,this.setState("select");return}this.$clickSelection=c.selection.getWordRange(b.row,b.column),this.setState("selectByWords")},this.onTripleClick=function(a){var b=a.getDocumentPosition(),c=this.editor;this.setState("selectByLines"),this.$clickSelection=c.selection.getLineRange(b.row)},this.onQuadClick=function(a){var b=this.editor;b.selectAll(),this.$clickSelection=b.getSelectionRange(),this.setState("null")},this.onScroll=function(a){var b=this.editor,c=b.renderer.isScrollableBy(a.wheelX*a.speed,a.wheelY*a.speed);if(c)this.$passScrollEvent=!1;else{if(this.$passScrollEvent)return;if(!this.$scrollStopTimeout){var d=this;this.$scrollStopTimeout=setTimeout(function(){d.$passScrollEvent=!0,d.$scrollStopTimeout=null},200)}}return b.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.preventDefault()}}).call(g.prototype),b.DefaultHandlers=g}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event"],function(a,b,c){function f(a){function j(){h=d.createElement("div"),h.className="ace_gutter_tooltip",h.style.maxWidth="500px",h.style.display="none",b.container.appendChild(h)}function k(){h||j();var a=g.getDocumentPosition().row,d=c.$annotations[a];if(!d)return l();var e=b.session.getLength();if(a==e){var f=b.renderer.pixelToScreenCoordinates(0,g.y).row,k=g.$pos;if(f>b.session.documentToScreenRow(k.row,k.column))return l()}if(i==d)return;i=d.text.join("\n"),h.style.display="block",h.innerHTML=i,b.on("mousewheel",l),m(g)}function l(){f&&(f=clearTimeout(f)),i&&(h.style.display="none",i=null,b.removeEventListener("mousewheel",l))}function m(a){var c=b.renderer.$gutter.getBoundingClientRect();h.style.left=a.x-c.left+15+"px",a.y+3*b.renderer.lineHeight+15<c.bottom?(h.style.bottom="",h.style.top=a.y-c.top+15+"px"):(h.style.top="",h.style.bottom=c.bottom-a.y+5+"px")}var b="a.editor,c=b.renderer.$gutterLayer;a.editor.setDefaultHandler(" guttermousedown",function(d){if(!b.isfocused())return;var"="" e="c.getRegion(d);if(e)return;var" f="d.getDocumentPosition().row,g=b.session.selection;return" d.getshiftkey()?g.selectto(f,0):a.$clickselection="b.selection.getLineRange(f),a.captureMouse(d," selectbylines"),d.preventdefault()});var"="" f,g,h,i;a.editor.setdefaulthandler("guttermousemove",function(a){var="" l();i&&m(a),g="a;if(f)return;f=setTimeout(function(){f=null,g?k():l()},50)}),e.addListener(b.renderer.$gutter," mouseout",function(a){g="null;if(!i||f)return;f=setTimeout(function(){f=null,l()},50)})}var"" d="a(" ..="" lib="" dom"),e="a("../lib/event");b.GutterHandler=f}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,b,c){var"" this.$pos?this.$pos:(this.$pos="this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return" this.$inselection;var="" a="this.editor;if(a.getReadOnly())this.$inSelection=!1;else{var" c="this.getDocumentPosition();this.$inSelection=b.contains(c.row,c.column)}}return" this.$inselection},this.getbutton="function(){return" d.getbutton(this.domevent)},this.getshiftkey="function(){return" this.domevent.shiftkey},this.getaccelkey="e.isMac?function(){return" this.domevent.metakey}:function(){return="" this.domevent.ctrlkey}}).call(f.prototype)}),ace.define("ace="" mouse="" dragdrop",["require","exports","module","ace="" event"],function(a,b,c){var="" d.preventdefault(a)}),d.addlistener(l,"dragover",function(a){return="" m="function(){j=b.renderer.screenToTextCoordinates(e,f),b.moveCursorToPosition(j),b.renderer.scrollCursorIntoView()};d.addListener(l," dragleave",function(a){k--;if(k"="">0)return;return console.log(a.type,k,a.target),clearInterval(g),b.session.removeMarker(c),c=null,b.selection.setSelectionRange(h,i),d.preventDefault(a)}),d.addListener(l,"drop",function(a){return console.log(a.type,k,a.target),k=0,clearInterval(g),b.session.removeMarker(c),c=null,h.end=b.session.insert(j,a.dataTransfer.getData("Text")),h.start=j,b.focus(),b.selection.setSelectionRange(h),d.preventDefault(a)})};b.DragdropHandler=e}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(a,b,c){function d(a){a.on("click",function(b){var c=b.getDocumentPosition(),d=a.session,e=d.getFoldAt(c.row,c.column,1);e&&(b.getAccelKey()?d.removeFold(e):d.expandFold(e),b.stop())}),a.on("gutterclick",function(b){var c=a.renderer.$gutterLayer.getRegion(b);if(c=="foldWidgets"){var d=b.getDocumentPosition().row,e=a.session;e.foldWidgets&&e.foldWidgets[d]&&a.session.onFoldWidgetClick(d,b),b.stop()}})}b.FoldHandler=d}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(a,b,c){var d=a("../lib/keys"),e=a("../lib/event"),f=function(a){this.$editor=a,this.$data={},this.$handlers=[],this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0),this.$data={editor:this.$editor}},this.setKeyboardHandler=function(a){if(this.$handlers[this.$handlers.length-1]==a)return;while(this.$handlers[1])this.removeKeyboardHandler(this.$handlers[1]);this.addKeyboardHandler(a,1)},this.addKeyboardHandler=function(a,b){if(!a)return;var c=this.$handlers.indexOf(a);c!=-1&&this.$handlers.splice(c,1),b==undefined?this.$handlers.push(a):this.$handlers.splice(b,0,a),c==-1&&a.attach&&a.attach(this.$editor)},this.removeKeyboardHandler=function(a){var b=this.$handlers.indexOf(a);return b==-1?!1:(this.$handlers.splice(b,1),a.detach&&a.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(a,b,c,d){var f;for(var g=this.$handlers.length;g--;){f=this.$handlers[g].handleKeyboard(this.$data,a,b,c,d);if(f&&f.command)break}if(!f||!f.command)return!1;var h=!1,i=this.$editor.commands;return f.command!="null"?h=i.exec(f.command,this.$editor,f.args,d):h=f.passEvent!=1,h&&d&&a!=-1&&e.stopEvent(d),h},this.onCommandKey=function(a,b,c){var e=d.keyCodeToString(c);this.$callKeyboardHandlers(b,e,c,a)},this.onTextInput=function(a){var b=this.$callKeyboardHandlers(-1,a);b||this.$editor.commands.exec("insertstring",this.$editor,a)}}).call(f.prototype),b.KeyBinding=f}),ace.define("ace/edit_session",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/lib/net","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(a,b,c){var d=a("./config"),e=a("./lib/oop"),f=a("./lib/lang"),g=a("./lib/net"),h=a("./lib/event_emitter").EventEmitter,i=a("./selection").Selection,j=a("./mode/text").Mode,k=a("./range").Range,l=a("./document").Document,m=a("./background_tokenizer").BackgroundTokenizer,n=a("./search_highlight").SearchHighlight,o=function(a,b){this.$modified=!0,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$resetRowCache(0),this.$wrapData=[],this.$foldData=[],this.$rowLengthCache=[],this.$undoSelect=!0,this.$foldData.toString=function(){var a="";return this.forEach(function(b){a+="\n"+b.toString()}),a},typeof a=="object"&&a.getLine?this.setDocument(a):this.setDocument(new l(a)),this.selection=new i(this),this.setMode(b)};(function(){function s(a){return a<4352?!1:a>=4352&&a<=4447||a>=4515&&a<=4519||a>=4602&&a<=4607||a>=9001&&a<=9002||a>=11904&&a<=11929||a>=11931&&a<=12019||a>=12032&&a<=12245||a>=12272&&a<=12283||a>=12288&&a<=12350||a>=12353&&a<=12438||a>=12441&&a<=12543||a>=12549&&a<=12589||a>=12593&&a<=12686||a>=12688&&a<=12730||a>=12736&&a<=12771||a>=12784&&a<=12830||a>=12832&&a<=12871||a>=12880&&a<=13054||a>=13056&&a<=19903||a>=19968&&a<=42124||a>=42128&&a<=42182||a>=43360&&a<=43388||a>=44032&&a<=55203||a>=55216&&a<=55238||a>=55243&&a<=55291||a>=63744&&a<=64255||a>=65040&&a<=65049||a>=65072&&a<=65106||a>=65108&&a<=65126||a>=65128&&a<=65131||a>=65281&&a<=65376||a>=65504&&a<=65510}e.implement(this,h),this.setdocument=function(a){if(this.doc)throw new="" error("document="" is="" already="" set");this.doc="a,a.on(" change",this.onchange.bind(this)),this.on("changefold",this.onchangefold.bind(this)),this.bgtokenizer&&(this.bgtokenizer.setdocument(this.getdocument()),this.bgtokenizer.start(0))},this.getdocument="function(){return"" this.doc},this.$resetrowcache="function(a){if(!a){this.$docRowCache=[],this.$screenRowCache=[];return}var" b="this.$getRowCacheIndex(this.$docRowCache,a)+1,c=this.$docRowCache.length;this.$docRowCache.splice(b,c),this.$screenRowCache.splice(b,c)},this.$getRowCacheIndex=function(a,b){var" c="0,d=a.length-1;while(c<=d){var" e="c+d">>1,f=a[e];if(b>f)c=e+1;else{if(!(b<f))return e;d="e-1}}return" c&&c-1},this.onchangefold="function(a){var" b="a.data;this.$resetRowCache(b.start.row)},this.onChange=function(a){var" c="this.$updateInternalDataOnChange(a);!this.$fromUndo&&this.$undoManager&&!b.ignore&&(this.$deltasDoc.push(b),c&&c.length!=0&&this.$deltasFold.push({action:" removefolds",folds:c}),this.$informundomanager.schedule()),this.bgtokenizer.$updateonchange(b),this._emit("change",a)},this.setvalue="function(a){this.doc.setValue(a),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset()},this.getValue=this.toString=function(){return"" this.doc.getvalue()},this.getselection="function(){return" this.selection},this.getstate="function(a){return" this.bgtokenizer.getstate(a)},this.gettokens="function(a){return" this.bgtokenizer.gettokens(a)},this.gettokenat="function(a,b){var" for(var="" f="0;f<c.length;f++){e+=c[f].value.length;if(e">=b)break}return d=c[f],d?(d.index=f,d.start=e-d.value.length,d):null},this.highlight=function(a){if(!this.$searchHighlight){var b=new n(null,"ace_selected_word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(a)},this.setUndoManager=function(a){this.$undoManager=a,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel();if(a){var b=this;this.$syncInformUndoManager=function(){b.$informUndoManager.cancel(),b.$deltasFold.length&&(b.$deltas.push({group:"fold",deltas:b.$deltasFold}),b.$deltasFold=[]),b.$deltasDoc.length&&(b.$deltas.push({group:"doc",deltas:b.$deltasDoc}),b.$deltasDoc=[]),b.$deltas.length>0&&a.execute({action:"aceupdate",args:[b.$deltas,b]}),b.$deltas=[]},this.$informUndoManager=f.deferredCall(this.$syncInformUndoManager)}},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?f.stringRepeat(" ",this.getTabSize()):""},this.$useSoftTabs=!0,this.setUseSoftTabs=function(a){if(this.$useSoftTabs===a)return;this.$useSoftTabs=a},this.getUseSoftTabs=function(){return this.$useSoftTabs},this.$tabSize=4,this.setTabSize=function(a){if(isNaN(a)||this.$tabSize===a)return;this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=a,this._emit("changeTabSize")},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(a){return this.$useSoftTabs&&a.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(a){if(this.$overwrite==a)return;this.$overwrite=a,this._emit("changeOverwrite")},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(a,b){this.$decorations[a]||(this.$decorations[a]=""),this.$decorations[a]+=" "+b,this._emit("changeBreakpoint",{})},this.removeGutterDecoration=function(a,b){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+b,""),this._emit("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<a.length;b++)this.$breakpoints[a[b]]="ace_breakpoint";this._emit("changebreakpoint",{})},this.clearbreakpoints=function(){this.$breakpoints=[],this._emit("changebreakpoint",{})},this.setbreakpoint=function(a,b){b===undefined&&(b="ace_breakpoint"),b?this.$breakpoints[a]=b:delete this.$breakpoints[a],this._emit("changebreakpoint",{})},this.clearbreakpoint="function(a){delete" this.$breakpoints[a],this._emit("changebreakpoint",{})},this.addmarker="function(a,b,c,d){var" e="this.$markerId++,f={range:a,type:c||" line",renderer:typeof"="" c="=" function"?c:null,clazz:b,infront:!!d,id:e};return"="" d?(this.$frontmarkers[e]="f,this._emit(" changefrontmarker")):(this.$backmarkers[e]="f,this._emit("changeBackMarker")),e},this.addDynamicMarker=function(a,b){if(!a.update)return;var"" a.id="c,a.inFront=!!b,b?(this.$frontMarkers[c]=a,this._emit(" changefrontmarker")):(this.$backmarkers[c]="a,this._emit("changeBackMarker")),a},this.removeMarker=function(a){var"" b="this.$frontMarkers[a]||this.$backMarkers[a];if(!b)return;var" c[a],this._emit(b.infront?"changefrontmarker":"changebackmarker"))},this.getmarkers="function(a){return" a?this.$frontmarkers:this.$backmarkers},this.setannotations="function(a){this.$annotations={};for(var" this.$annotations||{}},this.clearannotations="function(){this.$annotations={},this._emit(" changeannotation",{})},this.$detectnewline="function(a){var"">0&&(d=!!c.charAt(b-1).match(this.tokenRe)),d||(d=!!c.charAt(b).match(this.tokenRe));if(d)var e=this.tokenRe;else if(/^\s+$/.test(c.slice(b-1,b+1)))var e=/\s/;else var e=this.nonTokenRe;var f=b;if(f>0){do f--;while(f>=0&&c.charAt(f).match(e));f++}var g=b;while(g<c.length&&c.charat(g).match(e))g++;return new="" k(a,f,a,g)},this.getawordrange="function(a,b){var" c="this.getWordRange(a,b),d=this.getLine(c.end.row);while(d.charAt(c.end.column).match(/[" \t]="" ))c.end.column+="1;return" c},this.setnewlinemode="function(a){this.doc.setNewLineMode(a)},this.getNewLineMode=function(){return" this.doc.getnewlinemode()},this.$useworker="!0,this.setUseWorker=function(a){if(this.$useWorker==a)return;this.$useWorker=a,this.$stopWorker(),a&&this.$startWorker()},this.getUseWorker=function(){return" this.$useworker},this.onreloadtokenizer="function(a){var" b="a.data;this.bgTokenizer.start(b.first),this._emit(" tokenizerupdate",a)},this.$modes="{},this._loadMode=function(b,c){function"" i(a){if(e.$modes[b])return="" c(e.$modes[b]);e.$modes[b]="new" a.mode,e.$modes[b].$id="b,e._emit(" loadmode",{name:b,mode:e.$modes[b]}),c(e.$modes[b])}function"="" k(a,b){if(!d.get("packaged"))return="" b();g.loadscript(d.moduleurl(a,"mode"),b)}this.$modes["null"]||(this.$modes["null"]="this.$modes[" ace="" mode="" text"]="new"" j);if(this.$modes[b])return="" c(this.$modes[b]);var="" e="this,f;try{f=a(b)}catch(h){}if(f&&f.Mode)return" i(f);this.$mode||this.$setmodeplaceholder(),k(b,function(){a([b],i)})},this.$setmodeplaceholder="function(){this.$mode=this.$modes[" null"];var"="" a="this.$mode.getTokenizer();if(!this.bgTokenizer){this.bgTokenizer=new" m(a);var="" this.bgtokenizer.settokenizer(a);this.bgtokenizer.setdocument(this.getdocument()),this.tokenre="this.$mode.tokenRe,this.nonTokenRe=this.$mode.nonTokenRe},this.$mode=null,this.$modeId=null,this.setMode=function(a){a=a||" null";if(typeof"="" d="this.onReloadTokenizer.bind(this);c.addEventListener(" update",d)}if(!this.bgtokenizer){this.bgtokenizer="new"" m(c);var="" this.bgtokenizer.settokenizer(c);this.bgtokenizer.setdocument(this.getdocument()),this.bgtokenizer.start(0),this.tokenre="a.tokenRe,this.nonTokenRe=a.nonTokenRe,this.$setFolding(a.foldingRules),this._emit(" changemode")},this.$stopworker="function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if(typeof"" worker!="undefined" &&!a.noworker)try{this.$worker="this.$mode.createWorker(this)}catch(b){console.log(" could"="" not="" load="" worker"),console.log(b),this.$worker="null}else" this.$worker="null},this.getMode=function(){return" this.$mode},this.$scrolltop="0,this.setScrollTop=function(a){a=Math.round(Math.max(0,a));if(this.$scrollTop===a)return;this.$scrollTop=a,this._emit(" changescrolltop",a)},this.getscrolltop="function(){return"" this.$scrolltop},this.$scrollleft="0,this.setScrollLeft=function(a){a=Math.round(Math.max(0,a));if(this.$scrollLeft===a)return;this.$scrollLeft=a,this._emit(" changescrollleft",a)},this.getscrollleft="function(){return"" this.$scrollleft},this.getscreenwidth="function(){return" this.$computewidth(),this.screenwidth},this.$computewidth="function(a){if(this.$modified||a){this.$modified=!1;if(this.$useWrapMode)return" this.screenwidth="this.$wrapLimit;var" i="0;i<h;i++){if(i">g){i=f.end.row+1;if(i>=h)break;f=this.$foldData[e++],g=f?f.start.row:Infinity}c[i]==null&&(c[i]=this.$getStringScreenWidth(b[i])[0]),c[i]>d&&(d=c[i])}this.screenWidth=d}},this.getLine=function(a){return this.doc.getLine(a)},this.getLines=function(a,b){return this.doc.getLines(a,b)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())},this.insert=function(a,b){return this.doc.insert(a,b)},this.remove=function(a){return this.doc.remove(a)},this.undoChanges=function(a,b){if(!a.length)return;this.$fromUndo=!0;var c=null;for(var d=a.length-1;d!=-1;d--){var e=a[d];e.group=="doc"?(this.doc.revertDeltas(e.deltas),c=this.$getUndoSelection(e.deltas,!0,c)):e.deltas.forEach(function(a){this.addFolds(a.folds)},this)}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c},this.redoChanges=function(a,b){if(!a.length)return;this.$fromUndo=!0;var c=null;for(var d=0;d<a.length;d++){var e="a[d];e.group==" doc"&&(this.doc.applydeltas(e.deltas),c="this.$getUndoSelection(e.deltas,!1,c))}return"" this.$fromundo="!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c},this.setUndoSelect=function(a){this.$undoSelect=a},this.$getUndoSelection=function(a,b,c){function" d(a){var="" c="a.action==" inserttext"||a.action="="insertLines";return"" b?!c:c}var="" i="1;i<a.length;i++)e=a[i],d(e)?(g=e.range.start,f.compare(g.row,g.column)==-1&&f.setStart(e.range.start),g=e.range.end,f.compare(g.row,g.column)==1&&f.setEnd(e.range.end),h=!0):(g=e.range.start,f.compare(g.row,g.column)==-1&&(f=k.fromPoints(e.range.start,e.range.start)),h=!1);if(c!=null){var" j="c.compareRange(f);j==1?f.setStart(c.start):j==-1&&f.setEnd(c.end)}return" f},this.replace="function(a,b){return" this.doc.replace(a,b)},this.movetext="function(a,b){var" d="b.row,e=b.column;!a.isMultiLine()&&a.start.row==d&&a.end.column<e&&(e-=c.length);if(a.isMultiLine()&&a.end.row<d){var" f="this.doc.$split(c);d-=f.length-1}var" g="d+a.end.row-a.start.row,h=a.isMultiLine()?a.end.column:e+a.end.column-a.start.column,i=new" k(d,e,g,h);return="" this.insert(i.start,c),i},this.indentrows="function(a,b,c){c=c.replace(/\t/g,this.getTabString());for(var" b="a.collapseRows(),c=new" k(0,0,0,0),d="this.getTabSize();for(var" ")break;g<d&&f.charat(g)="=" "="" "?(c.start.column="g,c.end.column=g+1):(c.start.column=0,c.end.column=g),this.remove(c)}},this.moveLinesUp=function(a,b){if(a<=0)return" 0;var="" this.doc.insertlines(a-1,c),-1},this.movelinesdown="function(a,b){if(b">=this.doc.getLength()-1)return 0;var c=this.doc.removeLines(a,b);return this.doc.insertLines(a+1,c),1},this.duplicateLines=function(a,b){var a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b),c=this.getLines(a,b);this.doc.insertLines(a,c);var d=b-a+1;return d},this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))},this.$clipColumnToRow=function(a,b){return b<0?0:math.min(this.doc.getline(a).length,b)},this.$clippositiontodocument=function(a,b){b=math.max(0,b);if(a<0)a=0,b=0;else{var c="this.doc.getLength();a">=c?(a=c-1,b=this.doc.getLine(c-1).length):b=Math.min(this.doc.getLine(a).length,b)}return{row:a,column:b}},this.$clipRangeToDocument=function(a){a.start.row<0?(a.start.row=0,a.start.column=0):a.start.column=this.$clipcolumntorow(a.start.row,a.start.column);var b="this.doc.getLength()-1;return" a.end.row="">b?(a.end.row=b,a.end.column=this.doc.getLine(b).length):a.end.column=this.$clipColumnToRow(a.end.row,a.end.column),a},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(a){if(a!=this.$useWrapMode){this.$useWrapMode=a,this.$modified=!0,this.$resetRowCache(0);if(a){var b=this.getLength();this.$wrapData=[];for(var c=0;c<b;c++)this.$wrapdata.push([]);this.$updatewrapdata(0,b-1)}this._emit("changewrapmode")}},this.getusewrapmode=function(){return this.$usewrapmode},this.setwraplimitrange="function(a,b){if(this.$wrapLimitRange.min!==a||this.$wrapLimitRange.max!==b)this.$wrapLimitRange.min=a,this.$wrapLimitRange.max=b,this.$modified=!0,this._emit(" changewrapmode")},this.adjustwraplimit="function(a){var"" b="this.$constrainWrapLimit(a);return" b!="this.$wrapLimit&&b">0?(this.$wrapLimit=b,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(a){var b=this.$wrapLimitRange.min;b&&(a=Math.max(b,a));var c=this.$wrapLimitRange.max;return c&&(a=Math.min(c,a)),Math.max(1,a)},this.getWrapLimit=function(){return this.$wrapLimit},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(a){var b=this.$useWrapMode,c,d=a.data.action,e=a.data.range.start.row,f=a.data.range.end.row,g=a.data.range.start,h=a.data.range.end,i=null;d.indexOf("Lines")!=-1?(d=="insertLines"?f=e+a.data.lines.length:f=e,c=a.data.lines?a.data.lines.length:f-e):c=f-e;if(c!=0)if(d.indexOf("remove")!=-1){this[b?"$wrapData":"$rowLengthCache"].splice(e,c);var j=this.$foldData;i=this.getFoldsInRange(a.data.range),this.removeFolds(i);var k=this.getFoldLine(h.row),l=0;if(k){k.addRemoveChars(h.row,h.column,g.column-h.column),k.shiftRow(-c);var m=this.getFoldLine(e);m&&m!==k&&(m.merge(k),k=m),l=j.indexOf(k)+1}for(l;l<j.length;l++){var k="j[l];k.start.row">=h.row&&k.shiftRow(-c)}f=e}else{var n;if(b){n=[e,0];for(var o=0;o<c;o++)n.push([]);this.$wrapdata.splice.apply(this.$wrapdata,n)}else n="Array(c),n.unshift(e,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,n);var" j="this.$foldData,k=this.getFoldLine(e),l=0;if(k){var" p="k.range.compareInside(g.row,g.column);p==0?(k=k.split(g.row,g.column),k.shiftRow(c),k.addRemoveChars(f,0,h.column-g.column)):p==-1&&(k.addRemoveChars(e,0,h.column-g.column),k.shiftRow(c)),l=j.indexOf(k)+1}for(l;l<j.length;l++){var" k="j[l];k.start.row">=e&&k.shiftRow(c)}}else{c=Math.abs(a.data.range.start.column-a.data.range.end.column),d.indexOf("remove")!=-1&&(i=this.getFoldsInRange(a.data.range),this.removeFolds(i),c=-c);var k=this.getFoldLine(e);k&&k.addRemoveChars(e,g.column,c)}return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),b?this.$updateWrapData(e,f):this.$updateRowLengthCache(e,f),i},this.$updateRowLengthCache=function(a,b,c){this.$rowLengthCache[a]=null,this.$rowLengthCache[b]=null},this.$updateWrapData=function(a,b){var c=this.doc.getAllLines(),d=this.getTabSize(),e=this.$wrapData,g=this.$wrapLimit,h,j,k=a;b=Math.min(b,c.length-1);while(k<=b){j=this.getfoldline(k,j);if(!j)h=this.$getdisplaytokens(f.stringtrimright(c[k])),e[k]=this.$computewrapsplits(h,g,d),k++;else{h=[],j.walk(function(a,b,d,e){var f;if(a){f="this.$getDisplayTokens(a,h.length),f[0]=i;for(var" g="1;g<f.length;g++)f[g]=l}else" f="this.$getDisplayTokens(c[b].substring(e,d),h.length);h=h.concat(f)}.bind(this),j.end.row,c[j.end.row].length+1);while(h.length!=0&&h[h.length-1]">=p)h.pop();e[j.start.row]=this.$computeWrapSplits(h,g,d),k=j.end.row+1}}};var b=1,c=2,i=3,l=4,o=9,p=10,q=11,r=12;this.$computeWrapSplits=function(a,b){function g(b){var d=a.slice(e,b),g=d.length;d.join("").replace(/12/g,function(){g-=1}).replace(/2/g,function(){g-=1}),f+=g,c.push(f),e=b}if(a.length==0)return[];var c=[],d=a.length,e=0,f=0;while(d-e>b){var h=e+b;if(a[h]>=p){while(a[h]>=p)h++;g(h);continue}if(a[h]==i||a[h]==l){for(h;h!=e-1;h--)if(a[h]==i)break;if(h>e){g(h);continue}h=e+b;for(h;h<a.length;h++)if(a[h]!=l)break;if(h==a.length)break;g(h);continue}var j="Math.max(h-10,e-1);while(h">j&&a[h]<i)h--;while(h>j&&a[h]==o)h--;if(h>j){g(++h);continue}h=e+b,g(h)}return c},this.$getDisplayTokens=function(a,d){var e=[],f;d=d||0;for(var g=0;g<a.length;g++){var h="a.charCodeAt(g);if(h==9){f=this.getScreenTabSize(e.length+d),e.push(q);for(var" i="1;i<f;i++)e.push(r)}else">39&&h<48||h>57&&h<64?e.push(o):h>=4352&&s(h)?e.push(b,c):e.push(b)}return e},this.$getStringScreenWidth=function(a,b,c){if(b==0)return[0,0];b==null&&(b=Infinity),c=c||0;var d,e;for(e=0;e<a.length;e++){d=a.charcodeat(e),d==9?c+=this.getscreentabsize(c):d>=4352&&s(d)?c+=2:c+=1;if(c>b)break}return[c,e]},this.getRowLength=function(a){return!this.$useWrapMode||!this.$wrapData[a]?1:this.$wrapData[a].length+1},this.getScreenLastRowColumn=function(a){var b=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(b.row,b.column)},this.getDocumentLastRowColumn=function(a,b){var c=this.documentToScreenRow(a,b);return this.getScreenLastRowColumn(c)},this.getDocumentLastRowColumnPosition=function(a,b){var c=this.documentToScreenRow(a,b);return this.screenToDocumentPosition(c,Number.MAX_VALUE/10)},this.getRowSplitData=function(a){return this.$useWrapMode?this.$wrapData[a]:undefined},this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize},this.screenToDocumentRow=function(a,b){return this.screenToDocumentPosition(a,b).row},this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column},this.screenToDocumentPosition=function(a,b){if(a<0)return{row:0,column:0};var c,d="0,e=0,f,g=0,h=0,i=this.$screenRowCache,j=this.$getRowCacheIndex(i,a);if(0<j&&j<i.length)var" g="i[j],d=this.$docRowCache[j],k=a">g||a==g&&j==i.length-1;else var k=!0;var l=this.getLength()-1,m=this.getNextFoldLine(d),n=m?m.start.row:Infinity;while(g<=a){h=this.getrowlength(d);if(g+h-1>=a||d>=l)break;g+=h,d++,d>n&&(d=m.end.row+1,m=this.getNextFoldLine(d,m),n=m?m.start.row:Infinity),k&&(this.$docRowCache.push(d),this.$screenRowCache.push(g))}if(m&&m.start.row<=d)c=this.getfolddisplayline(m),d=m.start.row;else{if(g+h<=a||d>l)return{row:l,column:this.getLine(l).length};c=this.getLine(d),m=null}if(this.$useWrapMode){var o=this.$wrapData[d];o&&(f=o[a-g],a>g&&o.length&&(e=o[a-g-1]||o[o.length-1],c=c.substring(e)))}return e+=this.$getStringScreenWidth(c,b)[1],this.$useWrapMode&&e>=f&&(e=f-1),m?m.idxToPosition(e):{row:d,column:e}},this.documentToScreenPosition=function(a,b){if(typeof b=="undefined")var c=this.$clipPositionToDocument(a.row,a.column);else c=this.$clipPositionToDocument(a,b);a=c.row,b=c.column;var d=0,e=null,f=null;f=this.getFoldAt(a,b,1),f&&(a=f.start.row,b=f.start.column);var g,h=0,i=this.$docRowCache,j=this.$getRowCacheIndex(i,a);if(0<j&&j<i.length)var h="i[j],d=this.$screenRowCache[j],k=a">h||a==h&&j==i.length-1;else var k=!0;var l=this.getNextFoldLine(h),m=l?l.start.row:Infinity;while(h<a){if(h>=m){g=l.end.row+1;if(g>a)break;l=this.getNextFoldLine(g,l),m=l?l.start.row:Infinity}else g=h+1;d+=this.getRowLength(h),h=g,k&&(this.$docRowCache.push(h),this.$screenRowCache.push(d))}var n="";l&&h>=m?(n=this.getFoldDisplayLine(l,a,b),e=l.start.row):(n=this.getLine(a).substring(0,b),e=a);if(this.$useWrapMode){var o=this.$wrapData[e],p=0;while(n.length>=o[p])d++,p++;n=n.substring(o[p-1]||0,n.length)}return{row:d,column:this.$getStringScreenWidth(n)[0]}},this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column},this.documentToScreenRow=function(a,b){return this.documentToScreenPosition(a,b).row},this.getScreenLength=function(){var a=0,b=null;if(!this.$useWrapMode){a=this.getLength();var c=this.$foldData;for(var d=0;d<c.length;d++)b=c[d],a-=b.end.row-b.start.row}else{var e="this.$wrapData.length,f=0,d=0,b=this.$foldData[d++],g=b?b.start.row:Infinity;while(f<e)a+=this.$wrapData[f].length+1,f++,f">g&&(f=b.end.row+1,b=this.$foldData[d++],g=b?b.start.row:Infinity)}return a}}).call(o.prototype),a("./edit_session/folding").Folding.call(o.prototype),a("./edit_session/bracket_match").BracketMatch.call(o.prototype),b.EditSession=o}),ace.define("ace/config",["require","exports","module","ace/lib/lang"],function(a,b,c){function g(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}"no use strict";var d=a("./lib/lang"),e=function(){return this}(),f={packaged:!1,workerPath:"",modePath:"",themePath:"",suffix:".js",$moduleUrls:{}};b.get=function(a){if(!f.hasOwnProperty(a))throw new Error("Unknown config key: "+a);return f[a]},b.set=function(a,b){if(!f.hasOwnProperty(a))throw new Error("Unknown config key: "+a);f[a]=b},b.all=function(){return d.copyObject(f)},b.moduleUrl=function(a,b){if(f.$moduleUrls[a])return f.$moduleUrls[a];var c=a.split("/");b=b||c[c.length-2]||"";var d=c[c.length-1].replace(b,"").replace(/(^[\-_])|([\-_]$)/,"");return!d&&c.length>1&&(d=c[c.length-2]),this.get(b+"Path")+"/"+b+"-"+d+this.get("suffix")},b.setModuleUrl=function(a,b){return f.$moduleUrls[a]=b},b.init=function(){f.packaged=a.packaged||c.packaged||e.define&&define.packaged;if(!e.document)return"";var d={},h="",i=document.getElementsByTagName("script");for(var j=0;j<i.length;j++){var k="i[j],l=k.src||k.getAttribute(" src");if(!l)continue;var"="" m="k.attributes;for(var" n="0,o=m.length;n<o;n++){var" p="m[n];p.name.indexOf(" data-ace-")="==0&&(d[g(p.name.replace(/^data-ace-/,""))]=p.value)}var"" q="l.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);q&&(h=q[1])}h&&(d.base=d.base||h,d.packaged=!0),d.workerPath=d.workerPath||d.base,d.modePath=d.modePath||d.base,d.themePath=d.themePath||d.base,delete" d.base;for(var="" r="" in="" d)typeof="" d[r]!="undefined" &&b.set(r,d[r])}}),ace.define("ace="" lib="" net",["require","exports","module","ace="" useragent"],function(a,b,c){var="" d="a(" .="" useragent");b.get="function(a,c){var"" e="[" msxml2.xmlhttp","microsoft.xmlhttp","msxml2.xmlhttp.4.0"];b.createxhr="function(){var"" a,b,c;if(typeof="" xmlhttprequest!="undefined" )return="" new="" xmlhttprequest;for(b="0;b<3;b++){c=e[b];try{a=new" activexobject(c)}catch(d){}if(a){e="[c];break}}if(!a)throw" error("createxhr():="" xmlhttprequest="" not="" available");return="" a},b.loadscript="function(a,b){var" c="document.getElementsByTagName(" head")[0],e="document.createElement("script");e.src=a,c.appendChild(e),d.isOldIE?e.onreadystatechange=function(){this.readyState=="loaded"&&b()}:e.onload=b}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(a,b,c){var"" d(b)},d.setdefaulthandler="function(a,b){this._defaultHandlers=this._defaultHandlers||{};if(this._defaultHandlers[a])throw" error("the="" default handler="" for="" '"+a+"'="" is="" already="" set");this._defaulthandlers[a]="b},d.on=d.addEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var" b="this;this.lead.on(" change",function(a){b._emit("changecursor"),b.$isempty||b._emit("changeselection"),!b.$keepdesiredcolumnonchange&&a.old.column!="a.value.column&&(b.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){b.$isEmpty||b._emit("changeSelection")})};(function(){d.implement(this,f),this.isEmpty=function(){return"" this.$isempty||this.anchor.row="=this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return" this.isempty()?!1:this.getrange().ismultiline()},this.getcursor="function(){return" this.lead.getposition()},this.setselectionanchor="function(a,b){this.anchor.setPosition(a,b),this.$isEmpty&&(this.$isEmpty=!1,this._emit(" changeselection"))},this.getselectionanchor="function(){return"" this.$isempty?this.getselectionlead():this.anchor.getposition()},this.getselectionlead="function(){return" this.lead.getposition()},this.shiftselection="function(a){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+a);return}var" a="this.anchor,b=this.lead;return" a.row="">b.row||a.row==b.row&&a.column>b.column},this.getRange=function(){var a=this.anchor,b=this.lead;return this.isEmpty()?g.fromPoints(b,b):this.isBackwards()?g.fromPoints(b,a):g.fromPoints(a,b)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var a=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(a,this.doc.getLine(a).length)},this.setRange=this.setSelectionRange=function(a,b){b?(this.setSelectionAnchor(a.end.row,a.end.column),this.selectTo(a.start.row,a.start.column)):(this.setSelectionAnchor(a.start.row,a.start.column),this.selectTo(a.end.row,a.end.column)),this.$desiredColumn=null},this.$moveSelection=function(a){var b=this.lead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column),a.call(this)},this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,b)})},this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(a,b){if(typeof b=="undefined"){var c=a||this.lead;a=c.row,b=c.column}return this.session.getWordRange(a,b)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var a=this.getCursor(),b=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(b)},this.getLineRange=function(a,b){var c=typeof a=="number"?a:this.lead.row,d,e=this.session.getFoldLine(c);return e?(c=e.start.row,d=e.end.row):d=c,b?new g(c,0,d,this.session.getLine(d).length):new g(c,0,d+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var a=this.lead.getPosition(),b;if(b=this.session.getFoldAt(a.row,a.column,-1))this.moveCursorTo(b.start.row,b.start.column);else if(a.column==0)a.row>0&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length);else{var c=this.session.getTabSize();this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(a.column-c,a.column).split(" ").length-1==c?this.moveCursorBy(0,-c):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var a=this.lead.getPosition(),b;if(b=this.session.getFoldAt(a.row,a.column,1))this.moveCursorTo(b.end.row,b.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getlength()-1&&this.movecursorto(this.lead.row+1,0);else{var c="this.session.getTabSize(),a=this.lead;this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(a.column,a.column+c).split(" "="" ").length-1="=c?this.moveCursorBy(0,c):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var" a="this.lead.row,b=this.lead.column,c=this.session.documentToScreenRow(a,b),d=this.session.screenToDocumentPosition(c,0),e=this.session.getDisplayLine(a,null,d.row,d.column),f=e.match(/^\s*/);f[0].length==b?this.moveCursorTo(d.row,d.column):this.moveCursorTo(d.row,d.column+f[0].length)},this.moveCursorLineEnd=function(){var" d="c.search(/\s+$/);d">0&&(b.column=d)}}this.moveCursorTo(b.row,b.column)},this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var a=this.lead.row,b=this.lead.column,c=this.doc.getLine(a),d=c.substring(b),e;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var f=this.session.getFoldAt(a,b,1);if(f){this.moveCursorTo(f.end.row,f.end.column);return}if(e=this.session.nonTokenRe.exec(d))b+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,d=c.substring(b);if(b>=c.length){this.moveCursorTo(a,c.length),this.moveCursorRight(),a<this.doc.getlength()-1&&this.movecursorwordright();return}if(e=this.session.tokenre.exec(d))b+=this.session.tokenre.lastindex,this.session.tokenre.lastindex=0;this.movecursorto(a,b)},this.movecursorlongwordleft=function(){var a="this.lead.row,b=this.lead.column,c;if(c=this.session.getFoldAt(a,b,-1)){this.moveCursorTo(c.start.row,c.start.column);return}var" d="this.session.getFoldStringAt(a,b,-1);d==null&&(d=this.doc.getLine(a).substring(0,b));var" f="e.stringReverse(d),g;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;if(g=this.session.nonTokenRe.exec(f))b-=this.session.nonTokenRe.lastIndex,f=f.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0;if(b<=0){this.moveCursorTo(a,0),this.moveCursorLeft(),a">0&&this.moveCursorWordLeft();return}if(g=this.session.tokenRe.exec(f))b-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(a,b)},this.$shortWordEndIndex=function(a){var b,c=0,d,e=/\s/,f=this.session.tokenRe;f.lastIndex=0;if(b=this.session.tokenRe.exec(a))c=this.session.tokenRe.lastIndex;else{while((d=a[c])&&e.test(d))c++;if(c<=1){f.lastindex=0;while((d=a[c])&&!f.test(d)){f.lastindex=0,c++;if(e.test(d)){if(c>2){c--;break}while((d=a[c])&&e.test(d))c++;if(c>2)break}}}}return f.lastIndex=0,c},this.moveCursorShortWordRight=function(){var a=this.lead.row,b=this.lead.column,c=this.doc.getLine(a),d=c.substring(b),e=this.session.getFoldAt(a,b,1);if(e)return this.moveCursorTo(e.end.row,e.end.column);if(b==c.length){var f=this.doc.getLength();do a++,d=this.doc.getLine(a);while(a<f&& ^\s*$="" .test(d));="" ^\s+="" .test(d)||(d="" ),b="0}var" g="this.$shortWordEndIndex(d);this.moveCursorTo(a,b+g)},this.moveCursorShortWordLeft=function(){var" a="this.lead.row,b=this.lead.column,c;if(c=this.session.getFoldAt(a,b,-1))return" this.movecursorto(c.start.row,c.start.column);var="" d="this.session.getLine(a).substring(0,b);if(b==0){do" a--,d="this.doc.getLine(a);while(a">0&&/^\s*$/.test(d));b=d.length,/\s+$/.test(d)||(d="")}var f=e.stringReverse(d),g=this.$shortWordEndIndex(f);return this.moveCursorTo(a,b-g)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(a,b){var c=this.session.documentToScreenPosition(this.lead.row,this.lead.column);b===0&&(this.$desiredColumn?c.column=this.$desiredColumn:this.$desiredColumn=c.column);var d=this.session.screenToDocumentPosition(c.row+a,c.column);this.moveCursorTo(d.row,d.column+b,b===0)},this.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)},this.moveCursorTo=function(a,b,c){var d=this.session.getFoldAt(a,b,1);d&&(a=d.start.row,b=d.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(a,b),this.$keepDesiredColumnOnChange=!1,c||(this.$desiredColumn=null)},this.moveCursorToScreen=function(a,b,c){var d=this.session.screenToDocumentPosition(a,b);this.moveCursorTo(d.row,d.column,c)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(a){this.setSelectionRange(a,a.cursor==a.start),this.$desiredColumn=a.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(a){var b=this.getRange();return a?(a.start.column=b.start.column,a.start.row=b.start.row,a.end.column=b.end.column,a.end.row=b.end.row):a=b,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a}}).call(h.prototype),b.Selection=h}),ace.define("ace/range",["require","exports","module"],function(a,b,c){var d=function(a,b,c,d){this.start={row:a,column:b},this.end={row:c,column:d}};(function(){this.isEqual=function(a){return this.start.row==a.start.row&&this.end.row==a.end.row&&this.start.column==a.start.column&&this.end.column==a.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(a,b){return this.compare(a,b)==0},this.compareRange=function(a){var b,c=a.end,d=a.start;return b=this.compare(c.row,c.column),b==1?(b=this.compare(d.row,d.column),b==1?2:b==0?1:0):b==-1?-2:(b=this.compare(d.row,d.column),b==-1?-1:b==1?42:0)},this.comparePoint=function(a){return this.compare(a.row,a.column)},this.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},this.intersects=function(a){var b=this.compareRange(a);return b==-1||b==0||b==1},this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b},this.isStart=function(a,b){return this.start.row==a&&this.start.column==b},this.setStart=function(a,b){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)},this.setEnd=function(a,b){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)},this.inside=function(a,b){return this.compare(a,b)==0?this.isEnd(a,b)||this.isStart(a,b)?!1:!0:!1},this.insideStart=function(a,b){return this.compare(a,b)==0?this.isEnd(a,b)?!1:!0:!1},this.insideEnd=function(a,b){return this.compare(a,b)==0?this.isStart(a,b)?!1:!0:!1},this.compare=function(a,b){return!this.isMultiLine()&&a===this.start.row?b<this.start.column?-1:b>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0},this.comparestart=function(a,b){return this.start.row="=a&&this.start.column==b?-1:this.compare(a,b)},this.compareEnd=function(a,b){return" this.end.row="=a&&this.end.column==b?1:this.compare(a,b)},this.compareInside=function(a,b){return">b)var c={row:b+1,column:0};if(this.start.row>b)var e={row:b+1,column:0};if(this.start.row<a)var e="{row:a,column:0};if(this.end.row<a)var" c="{row:a,column:0};return" d.frompoints(e||this.start,c||this.end)},this.extend="function(a,b){var" this;if(c="=-1)var" var="" f="{row:a,column:b};return" d.frompoints(e||this.start,f||this.end)},this.isempty="function(){return" this.start.row="=this.end.row&&this.start.column==this.end.column},this.isMultiLine=function(){return" this.start.row!="=this.end.row},this.clone=function(){return" d.frompoints(this.start,this.end)},this.collapserows="function(){return" this.end.column="=0?new" d(this.start.row,0,math.max(this.start.row,this.end.row-1),0):new="" d(this.start.row,0,this.end.row,0)},this.toscreenrange="function(a){var" b="a.documentToScreenPosition(this.start),c=a.documentToScreenPosition(this.end);return" new="" d(b.row,b.column,c.row,c.column)}}).call(d.prototype),d.frompoints="function(a,b){return" d(a.row,a.column,b.row,b.column)},b.range="d}),ace.define(" ace="" mode="" text",["require","exports","module","ace="" tokenizer","ace="" text_highlight_rules","ace="" behaviour","ace="" unicode"],function(a,b,c){var"="" d="a(" ..="" tokenizer").tokenizer,e="a("./text_highlight_rules").TextHighlightRules,f=a("./behaviour").Behaviour,g=a("../unicode"),h=function(){this.$tokenizer=new"" d((new="" e).getrules()),this.$behaviour="new" f};(function(){this.tokenre="new" regexp("^["+g.packages.l+g.packages.mn+g.packages.mc+g.packages.nd+g.packages.pc+"\\$_]+","g"),this.nontokenre="new" regexp("^(?:[^"+g.packages.l+g.packages.mn+g.packages.mc+g.packages.nd+g.packages.pc+"\\$_]|s])+","g"),this.gettokenizer="function(){return" this.$tokenizer},this.togglecommentlines="function(a,b,c,d){},this.getNextLineIndent=function(a,b,c){return" "},this.checkoutdent="function(a,b,c){return!1},this.autoOutdent=function(a,b,c){},this.$getIndent=function(a){var"" b?b[1]:""},this.createworker="function(a){return" null},this.createmodedelegates="function(a){if(!this.$embeds)return;this.$modes={};for(var" a[this.$embeds[b]]);var="" this.$delegator(d,arguments,e)}})(this)},this.$delegator="function(a,b,c){var" g="this.$modes[this.$embeds[e]];return" g[a].apply(g,b)}}var="" h="c.apply(this,b);return" c?h:undefined},this.transformaction="function(a,b,c,d,e){if(this.$behaviour){var" in="" f)if(f[g][b]){var="" h}}}}).call(h.prototype),b.mode="h}),ace.define(" tokenizer",["require","exports","module"],function(a,b,c){var"="" this.rules){var="" i="0;i<e.length;i++){e[i].regex" instanceof="" regexp&&(e[i].regex="e[i].regex.toString().slice(1,-1));var" j="(new" regexp("(?:("+e[i].regex+")|(.))")).exec("a").length-2,k="e[i].regex.replace(/\\([0-9]+)/g,function(a,b){return" \\"+(parseint(b,10)+g+1)});if(j"="">1&&e[i].token.length!==j-1)throw new Error("Matching groups and length of the token array don't match in rule #"+i+" of state "+c);h[g]={rule:i,len:j},g+=j,f.push(k)}this.regExps[c]=new RegExp("(?:("+f.join(")|(")+")|(.))",b)}};(function(){this.getLineTokens=function(a,b){var c=b||"start",d=this.rules[c],e=this.matchMappings[c],f=this.regExps[c];f.lastIndex=0;var g,h=[],i=0,j={type:null,value:""};while(g=f.exec(a)){var k="text",l=null,m=[g[0]];for(var n=0;n<g.length-2;n++){if(g[n+1]===undefined)continue;l=d[e[n].rule],e[n].len>1&&(m=g.slice(n+2,n+1+e[n].len)),typeof l.token=="function"?k=l.token.apply(this,m):k=l.token,l.next&&(c=l.next,d=this.rules[c],e=this.matchMappings[c],i=f.lastIndex,f=this.regExps[c],f.lastIndex=i);break}if(m[0]){typeof k=="string"&&(m=[m.join("")],k=[k]);for(var n=0;n<m.length;n++){if(!m[n])continue;(!l||l.merge||k[n]==="text")&&j.type===k[n]?j.value+=m[n]:(j.type&&h.push(j),j={type:k[n],value:m[n]})}}if(i==a.length)break;i=f.lastindex}return j.type&&h.push(j),{tokens:h,state:c}}}).call(d.prototype),b.tokenizer="d}),ace.define(" ace="" mode="" text_highlight_rules",["require","exports","module","ace="" lib="" lang"],function(a,b,c){var"="" d="a(" ..="" lang"),e="function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:"text",regex:".+"}]}};(function(){this.addRules=function(a,b){for(var"" c="" in="" a){var="" e="0;e<d.length;e++){var" f="d[e];f.next&&(f.next=b+f.next)}this.$rules[b+c]=d}},this.getRules=function(){return" this.$rules},this.embedrules="function(a,b,c,e){var" a).getrules();if(e)for(var="" g="0;g<e.length;g++)e[g]=b+e[g];else{e=[];for(var" h="" f)e.push(b+h)}this.addrules(f,b);for(var="" this.$embeds}}).call(e.prototype),b.texthighlightrules="e}),ace.define(" behaviour",["require","exports","module"],function(a,b,c){var"="" this.$behaviours:this.$behaviours="{};case" this.$behaviours[a]:this.$behaviours[a]="{}}this.$behaviours[a][b]=c},this.addBehaviours=function(a){for(var" b="" a)for(var="" a[b])this.add(b,c,a[b][c])},this.remove="function(a){this.$behaviours&&this.$behaviours[a]&&delete" this.$behaviours[a]},this.inherit="function(a,b){if(typeof" a="=" function")var"="" a).getbehaviours(b);else="" var="" this.$behaviours;var="" b}}).call(d.prototype),b.behaviour="d}),ace.define(" unicode",["require","exports","module"],function(a,b,c){function"="" d(a){var="" a)b.packages[d]="a[d].replace(c," \\u$&")}b.packages="{},d({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,b,c){var"" f(0,0,b,this.getline(b-1).length)),this.insert({row:0,column:0},a)},this.getvalue="function(){return" this.getalllines().join(this.getnewlinecharacter())},this.createanchor="function(a,b){return" new="" g(this,a,b)},"aaa".split(="" ).length="=0?this.$split=function(a){return" a.replace(="" \r\n|\r="" g,"\n").split("\n")}:this.$split="function(a){return" a.split(="" \r\n|\r|\n="" )},this.$detectnewline="function(a){var" this.$autonewline}},this.$autonewline="\n" ,this.$newlinemode="auto" ,this.setnewlinemode="function(a){if(this.$newLineMode===a)return;this.$newLineMode=a},this.getNewLineMode=function(){return" this.$newlinemode},this.isnewline="function(a){return" this.$lines[a]||""},this.getlines="function(a,b){return" this.$lines.slice(a,b+1)},this.getalllines="function(){return" this.getlines(0,this.getlength())},this.getlength="function(){return" this.$lines.length},this.gettextrange="function(a){if(a.start.row==a.end.row)return" this.$lines[a.start.row].substring(a.start.column,a.end.column);var="" b.unshift((this.$lines[a.start.row]||"").substring(a.start.column)),b.push((this.$lines[a.end.row]||"").substring(0,a.end.column)),b.join(this.getnewlinecharacter())},this.$clipposition="function(a){var" a.row="">=b&&(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length),a},this.insert=function(a,b){if(!b||b.length===0)return a;a=this.$clipPosition(a),this.getLength()<=1&&this.$detectnewline(b);var c="this.$split(b),d=c.splice(0,1)[0],e=c.length==0?null:c.splice(c.length-1,1)[0];return" a="this.insertInLine(a,d),e!==null&&(a=this.insertNewLine(a),a=this.insertLines(a.row,c),a=this.insertInLine(a,e||" ")),a},this.insertlines="function(a,b){if(b.length==0)return{row:a,column:0};if(b.length"">65535){var c=this.insertLines(a,b.slice(65535));b=b.slice(0,65535)}var d=[a,0];d.push.apply(d,b),this.$lines.splice.apply(this.$lines,d);var e=new f(a,0,a+b.length,0),g={action:"insertLines",range:e,lines:b};return this._emit("change",{data:g}),c||e.end},this.insertNewLine=function(a){a=this.$clipPosition(a);var b=this.$lines[a.row]||"";this.$lines[a.row]=b.substring(0,a.column),this.$lines.splice(a.row+1,0,b.substring(a.column,b.length));var c={row:a.row+1,column:0},d={action:"insertText",range:f.fromPoints(a,c),text:this.getNewLineCharacter()};return this._emit("change",{data:d}),c},this.insertInLine=function(a,b){if(b.length==0)return a;var c=this.$lines[a.row]||"";this.$lines[a.row]=c.substring(0,a.column)+b+c.substring(a.column);var d={row:a.row,column:a.column+b.length},e={action:"insertText",range:f.fromPoints(a,d),text:b};return this._emit("change",{data:e}),d},this.remove=function(a){a.start=this.$clipPosition(a.start),a.end=this.$clipPosition(a.end);if(a.isEmpty())return a.start;var b=a.start.row,c=a.end.row;if(a.isMultiLine()){var d=a.start.column==0?b:b+1,e=c-1;a.end.column>0&&this.removeInLine(c,0,a.end.column),e>=d&&this.removeLines(d,e),d!=b&&(this.removeInLine(b,a.start.column,this.getLine(b).length),this.removeNewLine(a.start.row))}else this.removeInLine(b,a.start.column,a.end.column);return a.start},this.removeInLine=function(a,b,c){if(b==c)return;var d=new f(a,b,a,c),e=this.getLine(a),g=e.substring(b,c),h=e.substring(0,b)+e.substring(c,e.length);this.$lines.splice(a,1,h);var i={action:"removeText",range:d,text:g};return this._emit("change",{data:i}),d.start},this.removeLines=function(a,b){var c=new f(a,0,b+1,0),d=this.$lines.splice(a,b-a+1),e={action:"removeLines",range:c,nl:this.getNewLineCharacter(),lines:d};return this._emit("change",{data:e}),d},this.removeNewLine=function(a){var b=this.getLine(a),c=this.getLine(a+1),d=new f(a,b.length,a+1,0),e=b+c;this.$lines.splice(a,2,e);var g={action:"removeText",range:d,text:this.getNewLineCharacter()};this._emit("change",{data:g})},this.replace=function(a,b){if(b.length==0&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);if(b)var c=this.insert(a.start,b);else c=a.start;return c},this.applyDeltas=function(a){for(var b=0;b<a.length;b++){var c="a[b],d=f.fromPoints(c.range.start,c.range.end);c.action==" insertlines"?this.insertlines(d.start.row,c.lines):c.action="="insertText"?this.insert(d.start,c.text):c.action=="removeLines"?this.removeLines(d.start.row,d.end.row-1):c.action=="removeText"&&this.remove(d)}},this.revertDeltas=function(a){for(var"" b="a.length-1;b">=0;b--){var c=a[b],d=f.fromPoints(c.range.start,c.range.end);c.action=="insertLines"?this.removeLines(d.start.row,d.end.row-1):c.action=="insertText"?this.remove(d):c.action=="removeLines"?this.insertLines(d.start.row,c.lines):c.action=="removeText"&&this.insert(d.start,c.text)}}}).call(h.prototype),b.Document=h}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=b.Anchor=function(a,b,c){this.document=a,typeof c=="undefined"?this.setPosition(b.row,b.column):this.setPosition(b,c),this.$onChange=this.onChange.bind(this),a.on("change",this.$onChange)};(function(){d.implement(this,e),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(a){var b=a.data,c=b.range;if(c.start.row==c.end.row&&c.start.row!=this.row)return;if(c.start.row>this.row)return;if(c.start.row==this.row&&c.start.column>this.column)return;var d=this.row,e=this.column;b.action==="insertText"?c.start.row===d&&c.start.column<=e?c.start.row===c.end.row?e+=c.end.column-c.start.column:(e-=c.start.column,d+=c.end.row-c.start.row):c.start.row!==c.end.row&&c.start.row<d&&(d+=c.end.row-c.start.row):b.action==="insertlines"?c.start.row<=d&&(d+=c.end.row-c.start.row):b.action=="removetext"?c.start.row==d&&c.start.column<e?c.end.column>=e?e=c.start.column:e=Math.max(0,e-(c.end.column-c.start.column)):c.start.row!==c.end.row&&c.start.row<d?(c.end.row==d&&(e=math.max(0,e-c.end.column)+c.start.column),d-=c.end.row-c.start.row):c.end.row==d&&(d-=c.end.row-c.start.row,e=math.max(0,e-c.end.column)+c.start.column):b.action=="removelines"&&c.start.row<=d&&(c.end.row<=d?d-=c.end.row-c.start.row:(d=c.start.row,e=0)),this.setposition(d,e,!0)},this.setposition=function(a,b,c){var d;c?d="{row:a,column:b}:d=this.$clipPositionToDocument(a,b);if(this.row==d.row&&this.column==d.column)return;var" e="{row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._emit(" change",{old:e,value:d})},this.detach="function(){this.document.removeEventListener("change",this.$onChange)},this.$clipPositionToDocument=function(a,b){var"" c="{};return" a="">=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):a<0?(c.row=0,c.column=0):(c.row=a,c.column=math.min(this.document.getline(c.row).length,math.max(0,b))),b<0&&(c.column=0),c}}).call(f.prototype)}),ace.define("ace background_tokenizer",["require","exports","module","ace="" lib="" oop","ace="" event_emitter"],function(a,b,c){var="" d="a(" .="" oop"),e="a("./lib/event_emitter").EventEmitter,f=5e3,g=function(a,b){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var"" c="this;this.$worker=function(){if(!c.running)return;var" a="new" date,b="c.currentLine,d=c.doc,e=0,f=d.getLength();while(c.currentLine<f){c.$tokenizeRow(c.currentLine);while(c.lines[c.currentLine])c.currentLine++;e++;if(e%5==0&&new" date-a="">20){c.fireUpdateEvent(b,c.currentLine-1),c.running=setTimeout(c.$worker,20);return}}c.running=!1,c.fireUpdateEvent(b,f-1)}};(function(){d.implement(this,e),this.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(a,b){var c={first:a,last:b};this._emit("update",{data:c})},this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.$updateOnChange=function(a){var b=a.range,c=b.start.row,d=b.end.row-c;if(d===0)this.lines[c]=null;else if(a.action=="removeText"||a.action=="removeLines")this.lines.splice(c,d+1,null),this.states.splice(c,d+1,null);else{var e=Array(d+1);e.unshift(c,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop(),this.running=setTimeout(this.$worker,700)},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},this.$tokenizeRow=function(a){var b=this.doc.getLine(a),c=this.states[a-1];if(b.length>f){var d={value:b.substr(f),type:"text"};b=b.slice(0,f)}var e=this.tokenizer.getLineTokens(b,c);return d&&(e.tokens.push(d),e.state="start"),this.states[a]!==e.state?(this.states[a]=e.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=e.tokens}}).call(g.prototype),b.BackgroundTokenizer=g}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,b,c){var d=a("./lib/lang"),e=a("./lib/oop"),f=a("./range").Range,g=function(a,b,c){this.setRegexp(a),this.clazz=b,this.type=c||"text"};(function(){this.setRegexp=function(a){if(this.regExp+""==a+"")return;this.regExp=a,this.cache=[]},this.update=function(a,b,c,e){if(!this.regExp)return;var g=e.firstRow,h=e.lastRow;for(var i=g;i<=h;i++){var j="this.cache[i];j==null&&(j=d.getMatchOffsets(c.getLine(i),this.regExp),j=j.map(function(a){return" new="" f(i,a.offset,i,a.offset+a.length)}),this.cache[i]="j.length?j:" ");for(var"="" k="j.length;k--;)b.drawSingleLineMarker(a,j[k].toScreenRange(c),this.clazz,e,null,this.type)}}}).call(g.prototype),b.SearchHighlight=g}),ace.define(" ace="" edit_session="" folding",["require","exports","module","ace="" range","ace="" fold_line","ace="" fold","ace="" token_iterator"],function(a,b,c){function"="" h(){this.getfoldat="function(a,b,c){var" d="this.getFoldLine(a);if(!d)return" null;var="" e="d.folds;for(var" f="0;f<e.length;f++){var" g="e[f];if(g.range.contains(a,b)){if(c==1&&g.range.isEnd(a,b))continue;if(c==-1&&g.range.isStart(a,b))continue;return" g}}},this.getfoldsinrange="function(a){a=a.clone();var" b="a.start,c=a.end,d=this.$foldData,e=[];b.column+=1,c.column-=1;for(var" h="d[f].folds;for(var" i="0;i<h.length;i++){var" e},this.getallfolds="function(){function" c(b){a.push(b);if(!b.subfolds)return;for(var="" a="[],b=this.$foldData;for(var" a},this.getfoldstringat="function(a,b,c,d){d=d||this.getFoldLine(a);if(!d)return" null;e="g}return" f||(f="this.getLine(g.start.row).substring(e.end.column)),c==-1?f.substring(0,b-e.end.column):c==1?f.substring(b-e.end.column):f},this.getFoldLine=function(a,b){var" c="this.$foldData,d=0;b&&(d=c.indexOf(b)),d==-1&&(d=0);for(d;d<c.length;d++){var">=a)return e;if(e.end.row>a)return null}return null},this.getNextFoldLine=function(a,b){var c=this.$foldData,d=0;b&&(d=c.indexOf(b)),d==-1&&(d=0);for(d;d<c.length;d++){var e="c[d];if(e.end.row">=a)return e}return null},this.getFoldedRowCount=function(a,b){var c=this.$foldData,d=b-a+1;for(var e=0;e<c.length;e++){var f="c[e],g=f.end.row,h=f.start.row;if(g">=b){h<b&&(h>=a?d-=b-h:d=0);break}g>=a&&(h>=a?d-=g-h:d-=g-a+1)}return d},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(a,b){return a.start.row-b.start.row}),a},this.addFold=function(a,b){var c=this.$foldData,d=!1,g;a instanceof f?g=a:g=new f(b,a),this.$clipRangeToDocument(g.range);var h=g.start.row,i=g.start.column,j=g.end.row,k=g.end.column;if(g.placeholder.length<2)throw"placeholder 2="" has="" to="" be="" at="" least="" characters";if(h="=j&&k-i<2)throw" the"="" range="" characters="" width";var="" l="this.getFoldAt(h,i,1),m=this.getFoldAt(j,k,-1);if(l&&m==l)return" l.addsubfold(g);if(l&&!l.range.isstart(h,i)||m&&!m.range.isend(j,k))throw"a="" fold="" can't="" intersect="" already="" existing="" fold"+g.range+l.range;var="" n="this.getFoldsInRange(g.range);n.length">0&&(this.removeFolds(n),g.subFolds=n);for(var o=0;o<c.length;o++){var p="c[o];if(j==p.start.row){p.addFold(g),d=!0;break}if(h==p.end.row){p.addFold(g),d=!0;if(!g.sameRow){var" q="c[o+1];if(q&&q.start.row==j){p.merge(q);break}}break}if(j<=p.start.row)break}return" d||(p="this.$addFoldLine(new" e(this.$folddata,g))),this.$usewrapmode?this.$updatewrapdata(p.start.row,p.start.row):this.$updaterowlengthcache(p.start.row,p.start.row),this.$modified="!0,this._emit(" changefold",{data:g}),g},this.addfolds="function(a){a.forEach(function(a){this.addFold(a)},this)},this.removeFold=function(a){var"" b="a.foldLine,c=b.start.row,d=b.end.row,e=this.$foldData,f=b.folds;if(f.length==1)e.splice(e.indexOf(b),1);else" if(b.range.isend(a.end.row,a.end.column))f.pop(),b.end.row="f[f.length-1].end.row,b.end.column=f[f.length-1].end.column;else" if(b.range.isstart(a.start.row,a.start.column))f.shift(),b.start.row="f[0].start.row,b.start.column=f[0].start.column;else" if(a.samerow)f.splice(f.indexof(a),1);else{var="" g="b.split(a.start.row,a.start.column);f=g.folds,f.shift(),g.start.row=f[0].start.row,g.start.column=f[0].start.column}this.$useWrapMode?this.$updateWrapData(c,d):this.$updateRowLengthCache(c,d),this.$modified=!0,this._emit(" changefold",{data:a})},this.removefolds="function(a){var"" c="0;c<a.length;c++)b.push(a[c]);b.forEach(function(a){this.removeFold(a)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(a){this.addFold(a)},this),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(a){this.expandFold(a)},this)},this.unfold=function(a,b){var" c,e;a="=null?c=new" d(0,0,this.getlength(),0):typeof="" a="=" number"?c="new"" d(a,0,a,this.getline(a).length):"row"in="" a?c="d.fromPoints(a,a):c=a,e=this.getFoldsInRange(c);if(b)this.removeFolds(e);else" while(e.length)this.expandfolds(e),e="this.getFoldsInRange(c)},this.isRowFolded=function(a,b){return!!this.getFoldLine(a,b)},this.getRowFoldEnd=function(a,b){var" c?c.end.row:a},this.getfolddisplayline="function(a,b,c,d,e){d==null&&(d=a.start.row,e=0),b==null&&(b=a.end.row,c=this.getLine(b).length);var" f="this.doc,g=" ";return"="" a.walk(function(a,b,c,h){if(b<d)return;if(b="=d){if(c<e)return;h=Math.max(e,h)}a?g+=a:g+=f.getLine(b).substring(h,c)}.bind(this),b,c),g},this.getDisplayLine=function(a,b,c,d){var" e="this.getFoldLine(a);if(!e){var" f;return="" this.getfolddisplayline(e,a,b,c,d)},this.$clonefolddata="function(){var" a.clone()});return="" new="" e(a,c)}),a},this.togglefold="function(a){var" h="..." ;if(!c.ismultiline()){h="this.getTextRange(c);if(h.length<4)return;h=h.trim().substring(0,2)+" .."}this.addfold(h,c)},this.getcommentfoldrange="function(a,b){var"" g(this,a,b),e="c.getCurrentToken();if(e&&/^comment|string/.test(e.type)){var" d,h="new" regexp(e.type.replace(="" \..*="" ,"\\."));do="" g(this,a,b);do="" d="a||0;d<b;d++){c[d]==null&&(c[d]=this.getFoldWidget(d));if(c[d]!=" start")continue;var"="" error("invalid="" fold="" style:="" "+a+"["+object.keys(this.$foldstyles).join(",="" ")+"]");if(this.$foldstyle="=a)return;this.$foldStyle=a,a==" manual"&&this.unfold();var"="" f&&this.foldall(a+1,this.getlength()),(b.target||b.srcelement).classname+=" invalid" },this.updatefoldwidgets="function(a){var" if(b.action="=" removetext"||b.action="="removeLines")this.foldWidgets.splice(d,e+1,null);else{var"" e(a,b){this.folddata="a,Array.isArray(b)?this.folds=b:b=this.folds=[b];var" d(b[0].start.row,b[0].start.column,c.end.row,c.end.column),this.start="this.range.start,this.end=this.range.end,this.folds.forEach(function(a){a.setFoldLine(this)},this)}var">this.endRow)throw"Can't add a fold to this FoldLine as it has no connection";this.folds.push(a),this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row="=this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else{if(a.end.row!=this.start.row)throw" trying"="" to="" add="" fold="" foldrow="" that="" doesn't="" have="" a="" matching="" row";this.folds.unshift(a),this.start.row="a.start.row,this.start.column=a.start.column}a.foldLine=this},this.containsRow=function(a){return">=this.start.row&&a<=this.end.row},this.walk=function(a,b,c){var d="0,e=this.folds,f,g,h,i=!0;b==null&&(b=this.end.row,c=this.end.column);for(var" j="0;j<e.length;j++){f=e[j],g=f.range.compareStart(b,c);if(g==-1){a(null,b,c,d,i);return}h=a(null,f.start.row,f.start.column,d,i),h=!h&&a(f.placeholder,f.start.row,f.start.column,d);if(h||g==0)return;i=!f.sameRow,d=f.end.column}a(null,b,c,d,i)},this.getNextFoldTo=function(a,b){var" c,d;for(var="" e="0;e<this.folds.length;e++){c=this.folds[e],d=c.range.compareEnd(a,b);if(d==-1)return{fold:c,kind:" after"};if(d="=0)return{fold:c,kind:"inside"}}return"" null},this.addremovechars="function(a,b,c){var" if(e.start.row="=a){f=this.folds;var" g="f.indexOf(e);g==0&&(this.start.column+=c);for(g;g<f.length;g++){e=f[g],e.start.column+=c;if(!e.sameRow)return;e.end.column+=c}this.end.column+=c}}},this.split=function(a,b){var" c="this.getNextFoldTo(a,b).fold,d=this.folds,f=this.foldData;if(!c)return" null;var="" i="new" e(f,d);return="" f.splice(f.indexof(this)+1,0,i),i},this.merge="function(a){var" b="a.folds;for(var" a="[this.range.toString()+" :"="" ["];return="" this.folds.foreach(function(b){a.push("="" "+b.tostring())}),a.push("]"),a.join("\n")},this.idxtoposition="function(a){var" c.start;b="c.end.column}return{row:this.end.row,column:this.end.column+a}}}).call(e.prototype),b.FoldLine=e}),ace.define(" ace="" edit_session="" fold",["require","exports","module"],function(a,b,c){var"="" '+this.range.tostring()},this.setfoldline="function(a){this.foldLine=a,this.subFolds.forEach(function(b){b.setFoldLine(a)})},this.clone=function(){var" d(a,this.placeholder);return="" this.subfolds.foreach(function(a){b.subfolds.push(a.clone())}),b},this.addsubfold="function(a){if(this.range.isEqual(a))return" this;if(!this.range.containsrange(a))throw"a="" fold="" can't="" intersect="" already="" existing="" fold"+a.range+this.range;var="" f="this.subFolds[d];if(e==0)return" f.addsubfold(a);var="" h="this.subFolds[g];if(e==0)throw" a"="" a.setfoldline(this.foldline),a}}).call(d.prototype)}),ace.define("ace="" token_iterator",["require","exports","module"],function(a,b,c){var="" this.$row="0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return" this.$rowtokens[this.$tokenindex]},this.stepforward="function(){var">=this.$rowTokens.length){this.$row+=1;if(this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var a=this.$rowTokens,b=this.$tokenIndex,c=a[b].start;if(c!==undefined)return c;c=0;while(b>0)b-=1,c+=a[b].value.length;return c}}).call(d.prototype),b.TokenIterator=d}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(a,b,c){function f(){this.findMatchingBracket=function(a){if(a.column==0)return null;var b=this.getLine(a.row).charAt(a.column-1);if(b=="")return null;var c=b.match(/([\(\[\{])|([\)\]\}])/);return c?c[1]?this.$findClosingBracket(c[1],a):this.$findOpeningBracket(c[2],a):null},this.getBracketRange=function(a){var b=this.getLine(a.row),c=!0,d,f=b.charAt(a.column-1),g=f&&f.match(/([\(\[\{])|([\)\]\}])/);g||(f=b.charAt(a.column),a={row:a.row,column:a.column+1},g=f&&f.match(/([\(\[\{])|([\)\]\}])/),c=!1);if(!g)return null;if(g[1]){var h=this.$findClosingBracket(g[1],a);if(!h)return null;d=e.fromPoints(a,h),c||(d.end.column++,d.start.column--),d.cursor=d.end}else{var h=this.$findOpeningBracket(g[2],a);if(!h)return null;d=e.fromPoints(h,a),c||(d.start.column++,d.end.column--),d.cursor=d.start}return d},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(a,b,c){var e=this.$brackets[a],f=1,g=new d(this,b.row,b.column),h=g.getCurrentToken();h||(h=g.stepForward());if(!h)return;c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren")+")+"));var i=b.column-g.getCurrentTokenColumn()-2,j=h.value;for(;;){while(i>=0){var k=j.charAt(i);if(k==e){f-=1;if(f==0)return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else k==a&&(f+=1);i-=1}do h=g.stepBackward();while(h&&!c.test(h.type));if(h==null)break;j=h.value,i=j.length-1}return null},this.$findClosingBracket=function(a,b,c){var e=this.$brackets[a],f=1,g=new d(this,b.row,b.column),h=g.getCurrentToken();h||(h=g.stepForward());if(!h)return;c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren")+")+"));var i=b.column-g.getCurrentTokenColumn();for(;;){var j=h.value,k=j.length;while(i<k){var l="j.charAt(i);if(l==e){f-=1;if(f==0)return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else" h="g.stepForward();while(h&&!c.test(h.type));if(h==null)break;i=0}return" null}}var="" d="a(" ..="" token_iterator").tokeniterator,e="a("../range").Range;b.BracketMatch=f}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,b,c){var"" e.mixin(this.$options,a),this},this.getoptions="function(){return" d.copyobject(this.$options)},this.setoptions="function(a){this.$options=a},this.find=function(a){var" b="this.$matchIterator(a,this.$options);if(!b)return!1;var" c="null;return" b.foreach(function(a,b,d){if(!a.start){var="" e="a.offset+(d||0);c=new" f(b,e,b,e+a.length)}else="" i="h.length,j=e.length-i;for(var" k="h.offset||0;k<=j;k++){for(var" m="e[k],n=e[k+i-1],o=m.match(h[0])[0].length,p=n.match(h[i-1])[0].length;g.push(new" f(k,m.length-o,k+i-1,p))}}else="" for(var="" q="0;q<e.length;q++){var" r="d.getMatchOffsets(e[q],h);for(var" s="r[l];g.push(new" f(q,s.offset,q,s.offset+s.length))}}if(c){var="" t="c.start.column,u=c.start.column,q=0,l=g.length-1;while(q<l&&g[q].start.column<t&&g[q].start.row==c.start.row)q++;while(q<l&&g[l].end.column">u&&g[l].end.row==c.end.row)l--;return g.slice(q,l+1)}return g},this.replace=function(a,b){var c=this.$options,d=this.$assembleRegExp(c);if(c.$isMultiLine)return b;if(!d)return;var e=d.exec(a);if(!e||e[0].length!=a.length)return null;b=a.replace(d,b);if(c.preserveCase){b=b.split("");for(var f=Math.min(a.length,a.length);f--;){var g=a[f];g&&g.toLowerCase()!=g?b[f]=b[f].toUpperCase():b[f]=b[f].toLowerCase()}b=b.join("")}return b},this.$matchIterator=function(a,b){var c=this.$assembleRegExp(b);if(!c)return!1;var e=this,g,h=b.backwards;if(b.$isMultiLine)var i=c.length,j=function(b,d,e){var h=b.search(c[0]);if(h==-1)return;for(var j=1;j<i;j++){b=a.getline(d+j);if(b.search(c[j])==-1)return}var k="b.match(c[i-1])[0].length,l=new" f(d,h,d+i-1,k);c.offset="=1?(l.start.row--,l.start.column=Number.MAX_VALUE):e&&(l.start.column+=e);if(g(l))return!0};else" if(h)var="" j="function(a,b,e){var" f="d.getMatchOffsets(a,c);for(var" h="f.length-1;h">=0;h--)if(g(f[h],b,e))return!0};else var j=function(a,b,e){var f=d.getMatchOffsets(a,c);for(var h=0;h<f.length;h++)if(g(f[h],b,e))return!0};return{foreach:function(c){g=c,e.$lineiterator(a,b).foreach(j)}}},this.$assembleregexp=function(a){if(a.needle instanceof="" regexp)return="" a.re="a.needle;var" b="a.needle;if(!a.needle)return" c="a.caseSensitive?" g":"gi";a.$ismultiline="/[\n\r]/.test(b);if(a.$isMultiLine)return"" e="new" regexp(b,c)}catch(f){e="!1}return" regexp(c[e],b))}catch(f){return!1}return="" c[0]="=" "?(d.shift(),d.offset="1):d.offset=0,d},this.$lineIterator=function(a,b){var"" g="e?e.start.row:0,h=e?e.end.row:a.getLength()-1,i=c?function(c){var" d="f.row,e=a.getLine(d).substring(0,f.column);if(c(e,d))return;for(d--;d">=g;d--)if(c(a.getLine(d),d))return;if(b.wrap==0)return;for(d=h,g=f.row;d>=g;d--)if(c(a.getLine(d),d))return}:function(c){var d=f.row,e=a.getLine(d).substr(f.column);if(c(e,d,f.column))return;for(d+=1;d<=h;d++)if(c(a.getline(d),d))return;if(b.wrap==0)return;for(d=g,h=f.row;d<=h;d++)if(c(a.getline(d),d))return};return{foreach:i}}}).call(g.prototype),b.search=g}),ace.define("ace commands="" command_manager",["require","exports","module","ace="" lib="" oop","ace="" keyboard="" hash_handler","ace="" event_emitter"],function(a,b,c){var="" d="a(" ..="" oop"),e="a("../keyboard/hash_handler").HashHandler,f=a("../lib/event_emitter").EventEmitter,g=function(a,b){this.platform=a,this.commands={},this.commmandKeyBinding={},this.addCommands(b),this.setDefaultHandler("exec",function(a){return"" a.command.exec(a.editor,a.args||{})})};d.inherits(g,e),function(){d.implement(this,f),this.exec="function(a,b,c){typeof" a="=" string"&&(a="this.commands[a]);if(!a)return!1;if(b&&b.$readOnly&&!a.readOnly)return!1;var"" a&&a._emit("changestatus"),this.recording?(this.macro.pop(),this.removeeventlistener("exec",this.$addcommandtomacro),this.macro.length||(this.macro="this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on(" exec",this.$addcommandtomacro),this.recording="!0)},this.replay=function(a){if(this.$inReplay||!this.macro)return;if(this.recording)return"" this.togglerecording(a);try{this.$inreplay="!0,this.macro.forEach(function(b){typeof" b="=" string"?this.exec(b,a):this.exec(b[0],a,b[1])},this)}finally{this.$inreplay="!1}},this.trimMacro=function(a){return"" a.map(function(a){return="" typeof="" a[0]!="string" &&(a[0]="a[0].name),a[1]||(a=a[0]),a})}}.call(g.prototype),b.CommandManager=g}),ace.define(" ace="" hash_handler",["require","exports","module","ace="" keys"],function(a,b,c){function"="" e(a,b){this.platform="b,this.commands={},this.commmandKeyBinding={},this.addCommands(a)}var" this.commands[b];var="" c="this.commmandKeyBinding;for(var" in="" c)for(var="" e="" c[d])c[d][e]="=a&&delete" c[d][e]},this.bindkey="function(a,b){if(!a)return;if(typeof" this.bindkey(c,b);typeof="" b,c="0,e=a.toLowerCase().trim().split(/\s*\-\s*/);for(var" f="0,g=e.length;f<g;f++)d.KEY_MODS[e[f]]?c|=d.KEY_MODS[e[f]]:b=e[f]||" -";return"="" e[0]="=" text"&&e.length="=2&&(c=-1,b=e[1]),{key:b,hashId:c}},this.findKeyCommand=function(b,c){var"" d[b]&&d[b][c.tolowercase()]},this.handlekeyboard="function(a,b,c,d){return{command:this.findKeyCommand(b,c)}}}).call(e.prototype),b.HashHandler=e}),ace.define(" default_commands",["require","exports","module","ace="" lang"],function(a,b,c){function"="" e(a,b){return{win:a,mac:b}}var="" line="" number:"),10);isnan(b)||a.gotoline(b)},readonly:!0},{name:"fold",bindkey:e("alt-l|ctrl-f1","command-alt-l|command-f1"),exec:function(a){a.session.togglefold(!1)},readonly:!0},{name:"unfold",bindkey:e("alt-shift-l|ctrl-shift-f1","command-alt-shift-l|command-shift-f1"),exec:function(a){a.session.togglefold(!0)},readonly:!0},{name:"foldall",bindkey:e("alt-0","command-option-0"),exec:function(a){a.session.foldall()},readonly:!0},{name:"unfoldall",bindkey:e("alt-shift-0","command-option-shift-0"),exec:function(a){a.session.unfold()},readonly:!0},{name:"findnext",bindkey:e("ctrl-k","command-g"),exec:function(a){a.findnext()},readonly:!0},{name:"findprevious",bindkey:e("ctrl-shift-k","command-shift-g"),exec:function(a){a.findprevious()},readonly:!0},{name:"find",bindkey:e("ctrl-f","command-f"),exec:function(a){var="" b&&(c="this.$doc.undoChanges(b,a),this.$redoStack.push(b)),c},this.redo=function(a){var" this.$undostack.length="">0},this.hasRedo=function(){return this.$redoStack.length>0}}).call(d.prototype),b.UndoManager=d}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/useragent","ace/config","ace/lib/net","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","ace/lib/event_emitter","ace/requirejs/text!ace/css/editor.css"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/event"),g=a("./lib/useragent"),h=a("./config"),i=a("./lib/net"),j=a("./layer/gutter").Gutter,k=a("./layer/marker").Marker,l=a("./layer/text").Text,m=a("./layer/cursor").Cursor,n=a("./scrollbar").ScrollBar,o=a("./renderloop").RenderLoop,p=a("./lib/event_emitter").EventEmitter,q=a("ace/requirejs/text!./css/editor.css");e.importCssString(q,"ace_editor");var r=function(a,b){var c=this;this.container=a,this.$keepTextAreaAtCursor=!g.isIE,e.addCssClass(a,"ace_editor"),this.setTheme(b),this.$gutter=e.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=e.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=e.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.setHighlightGutterLine(!0),this.$gutterLayer=new j(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onResize.bind(this,!0)),this.$markerBack=new k(this.content);var d=this.$textLayer=new l(this.content);this.canvas=d.element,this.$markerFront=new k(this.content),this.characterWidth=d.getCharacterWidth(),this.lineHeight=d.getLineHeight(),this.$cursorLayer=new m(this.content),this.$cursorPadding=8,this.$horizScroll=!1,this.$horizScrollAlwaysVisible=!1,this.$animatedScroll=!1,this.scrollBar=new n(a),this.scrollBar.addEventListener("scroll",function(a){c.$inScrollAnimation||c.session.setScrollTop(a.data)}),this.scrollTop=0,this.scrollLeft=0,f.addListener(this.scroller,"scroll",function(){var a=c.scroller.scrollLeft;c.scrollLeft=a,c.session.setScrollLeft(a)}),this.cursorPos={row:0,column:0},this.$textLayer.addEventListener("changeCharacterSize",function(){c.characterWidth=d.getCharacterWidth(),c.lineHeight=d.getLineHeight(),c.$updatePrintMargin(),c.onResize(!0),c.$loop.schedule(c.CHANGE_FULL)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:1,characterWidth:1,minHeight:1,maxHeight:1,offset:0,height:1},this.$loop=new o(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.setPadding(4),this.$updatePrintMargin()};(function(){this.showGutter=!0,this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,d.implement(this,p),this.setSession=function(a){this.session=a,this.scroller.className="ace_scroller",this.$cursorLayer.setSession(a),this.$markerBack.setSession(a),this.$markerFront.setSession(a),this.$gutterLayer.setSession(a),this.$textLayer.setSession(a),this.$loop.schedule(this.CHANGE_FULL)},this.updateLines=function(a,b){b===undefined&&(b=Infinity),this.$changedLines?(this.$changedLines.firstRow>a&&(this.$changedLines.firstRow=a),this.$changedLines.lastRow<b&&(this.$changedlines.lastrow=b)):this.$changedlines={firstrow:a,lastrow:b},this.$loop.schedule(this.change_lines)},this.onchangetabsize=function(){this.$loop.schedule(this.change_text|this.change_marker),this.$textlayer.onchangetabsize()},this.updatetext=function(){this.$loop.schedule(this.change_text)},this.updatefull=function(a){a?this.$renderchanges(this.change_full,!0):this.$loop.schedule(this.change_full)},this.updatefontsize=function(){this.$textlayer.checkforsizechanges()},this.onresize=function(a,b,c,d){var f="this.CHANGE_SIZE,g=this.$size;if(this.resizing">2)return;this.resizing>1?this.resizing++:this.resizing=a?1:0,d||(d=e.getInnerHeight(this.container));if(a||g.height!=d)g.height=d,this.scroller.style.height=d+"px",g.scrollerHeight=this.scroller.clientHeight,this.scrollBar.setHeight(g.scrollerHeight),this.session&&(this.session.setScrollTop(this.getScrollTop()),f|=this.CHANGE_FULL);c||(c=e.getInnerWidth(this.container));if(a||this.resizing>1||g.width!=c){g.width=c;var b=this.showGutter?this.$gutter.offsetWidth:0;this.scroller.style.left=b+"px",g.scrollerWidth=Math.max(0,c-b-this.scrollBar.getWidth()),this.scroller.style.right=this.scrollBar.getWidth()+"px";if(this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)f|=this.CHANGE_FULL}a?this.$renderChanges(f,!0):this.$loop.schedule(f),a&&delete this.resizing},this.adjustWrapLimit=function(){var a=this.$size.scrollerWidth-this.$padding*2,b=Math.floor(a/this.characterWidth);return this.session.adjustWrapLimit(b)},this.setAnimatedScroll=function(a){this.$animatedScroll=a},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)},this.getShowInvisibles=function(){return this.$textLayer.showInvisibles},this.getDisplayIndentGuides=function(){return this.$textLayer.displayIndentGuides},this.setDisplayIndentGuides=function(a){this.$textLayer.setDisplayIndentGuides(a)&&this.$loop.schedule(this.CHANGE_TEXT)},this.$showPrintMargin=!0,this.setShowPrintMargin=function(a){this.$showPrintMargin=a,this.$updatePrintMargin()},this.getShowPrintMargin=function(){return this.$showPrintMargin},this.$printMarginColumn=80,this.setPrintMarginColumn=function(a){this.$printMarginColumn=a,this.$updatePrintMargin()},this.getPrintMarginColumn=function(){return this.$printMarginColumn},this.getShowGutter=function(){return this.showGutter},this.setShowGutter=function(a){if(this.showGutter===a)return;this.$gutter.style.display=a?"block":"none",this.showGutter=a,this.onResize(!0)},this.getFadeFoldWidgets=function(){return e.hasCssClass(this.$gutter,"ace_fade-fold-widgets")},this.setFadeFoldWidgets=function(a){a?e.addCssClass(this.$gutter,"ace_fade-fold-widgets"):e.removeCssClass(this.$gutter,"ace_fade-fold-widgets")},this.$highlightGutterLine=!1,this.setHighlightGutterLine=function(a){if(this.$highlightGutterLine==a)return;this.$highlightGutterLine=a;if(!this.$gutterLineHighlight){this.$gutterLineHighlight=e.createElement("div"),this.$gutterLineHighlight.className="ace_gutter_active_line",this.$gutter.appendChild(this.$gutterLineHighlight);return}this.$gutterLineHighlight.style.display=a?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$updateGutterLineHighlight=function(){this.$gutterLineHighlight.style.top=this.$cursorLayer.$pixelPos.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=this.layerConfig.lineHeight+"px"},this.$updatePrintMargin=function(){var a;if(!this.$showPrintMargin&&!this.$printMarginEl)return;this.$printMarginEl||(a=e.createElement("div"),a.className="ace_print_margin_layer",this.$printMarginEl=e.createElement("div"),this.$printMarginEl.className="ace_print_margin",a.appendChild(this.$printMarginEl),this.content.insertBefore(a,this.$textLayer.element));var b=this.$printMarginEl.style;b.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",b.visibility=this.$showPrintMargin?"visible":"hidden"},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$keepTextAreaAtCursor)return;var a=this.$cursorLayer.$pixelPos.top,b=this.$cursorLayer.$pixelPos.left;a-=this.layerConfig.offset;if(a<0||a>this.layerConfig.height-this.lineHeight)return;var c=this.characterWidth;this.$composition&&(c+=this.textarea.scrollWidth),b-=this.scrollLeft,b>this.$size.scrollerWidth-c&&(b=this.$size.scrollerWidth-c),this.showGutter&&(b+=this.$gutterLayer.gutterWidth),this.textarea.style.height=this.lineHeight+"px",this.textarea.style.width=c+"px",this.textarea.style.left=b+"px",this.textarea.style.top=a-1+"px"},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var a=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+a},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(a){this.$padding=a,this.$textLayer.setPadding(a),this.$cursorLayer.setPadding(a),this.$markerFront.setPadding(a),this.$markerBack.setPadding(a),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.getHScrollBarAlwaysVisible=function(){return this.$horizScrollAlwaysVisible},this.setHScrollBarAlwaysVisible=function(a){this.$horizScrollAlwaysVisible!=a&&(this.$horizScrollAlwaysVisible=a,(!this.$horizScrollAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL))},this.$updateScrollBar=function(){this.scrollBar.setInnerHeight(this.layerConfig.maxHeight),this.scrollBar.setScrollTop(this.scrollTop)},this.$renderChanges=function(a,b){if(!b&&(!a||!this.session||!this.container.offsetWidth))return;(a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL)&&this.$computeLayerConfig();if(a&this.CHANGE_H_SCROLL){this.scroller.scrollLeft=this.scrollLeft;var c=this.scroller.scrollLeft;this.scrollLeft=c,this.session.setScrollLeft(c),this.scroller.className=this.scrollLeft==0?"ace_scroller":"ace_scroller horscroll"}if(a&this.CHANGE_FULL){this.$textLayer.checkForSizeChanges(),this.$updateScrollBar(),this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight();return}if(a&this.CHANGE_SCROLL){this.$updateScrollBar(),a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight();return}a&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):a&this.CHANGE_LINES?(this.$updateLines()||a&this.CHANGE_GUTTER&&this.showGutter)&&this.$gutterLayer.update(this.layerConfig):(a&this.CHANGE_TEXT||a&this.CHANGE_GUTTER)&&this.showGutter&&this.$gutterLayer.update(this.layerConfig),a&this.CHANGE_CURSOR&&(this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),a&this.CHANGE_SIZE&&this.$updateScrollBar()},this.$computeLayerConfig=function(){var a=this.session,b=this.scrollTop%this.lineHeight,c=this.$size.scrollerHeight+this.lineHeight,d=this.$getLongestLine(),e=this.$horizScrollAlwaysVisible||this.$size.scrollerWidth-d<0,f=this.$horizscroll!==e;this.$horizscroll=e,f&&(this.scroller.style.overflowx=e?"scroll":"hidden",e||this.session.setscrollleft(0));var g="this.session.getScreenLength()*this.lineHeight;this.session.setScrollTop(Math.max(0,Math.min(this.scrollTop,g-this.$size.scrollerHeight)));var" h="Math.ceil(c/this.lineHeight)-1,i=Math.max(0,Math.round((this.scrollTop-b)/this.lineHeight)),j=i+h,k,l,m=this.lineHeight;i=a.screenToDocumentRow(i,0);var" n="a.getFoldLine(i);n&&(i=n.start.row),k=a.documentToScreenRow(i,0),l=a.getRowLength(i)*m,j=Math.min(a.screenToDocumentRow(j,0),a.getLength()-1),c=this.$size.scrollerHeight+a.getRowLength(j)*m+l,b=this.scrollTop-k*m,this.layerConfig={width:d,padding:this.$padding,firstRow:i,firstRowScreen:k,lastRow:j,lineHeight:m,characterWidth:this.characterWidth,minHeight:c,maxHeight:g,offset:b,height:this.$size.scrollerHeight},this.$gutterLayer.element.style.marginTop=-b+" px",this.content.style.margintop="-b+"px",this.content.style.width=d+2*this.$padding+"px",this.content.style.height=c+"px",f&&this.onResize(!0)},this.$updateLines=function(){var"" a="this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var" c="this.layerConfig;if(a">c.lastRow+1)return;if(b<c.firstrow)return;if(b===infinity){this.showgutter&&this.$gutterlayer.update(c),this.$textlayer.update(c);return}return this.$textlayer.updatelines(c,a,b),!0},this.$getlongestline="function(){var" a="this.session.getScreenWidth();return" this.$textlayer.showinvisibles&&(a+="1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(a*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b)},this.removeGutterDecoration=function(a,b){this.$gutterLayer.removeGutterDecoration(a,b)},this.updateBreakpoints=function(a){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(a){this.$gutterLayer.setAnnotations(a),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(a,b,c){this.scrollCursorIntoView(a,c),this.scrollCursorIntoView(b,c)},this.scrollCursorIntoView=function(a,b){if(this.$size.scrollerHeight===0)return;var" c="this.$cursorLayer.getPixelPosition(a),d=c.left,e=c.top;this.scrollTop">e?(b&&(e-=b*this.$size.scrollerHeight),this.session.setScrollTop(e)):this.scrollTop+this.$size.scrollerHeight<e+this.lineheight&&(b&&(e+=b*this.$size.scrollerheight),this.session.setscrolltop(e+this.lineheight-this.$size.scrollerheight));var f="this.scrollLeft;f">d?(d<this.$padding+2*this.layerconfig.characterwidth&&(d=0),this.session.setscrollleft(d)):f+this.$size.scrollerwidth<d+this.characterwidth&&this.session.setscrollleft(math.round(d+this.characterwidth-this.$size.scrollerwidth))},this.getscrolltop=function(){return this.session.getscrolltop()},this.getscrollleft="function(){return" this.session.getscrollleft()},this.getscrolltoprow="function(){return" this.scrolltop="" this.lineheight},this.getscrollbottomrow="function(){return" math.max(0,math.floor((this.scrolltop+this.$size.scrollerheight)="" this.lineheight)-1)},this.scrolltorow="function(a){this.session.setScrollTop(a*this.lineHeight)},this.alignCursor=function(a,b){typeof" a="=" number"&&(a="{row:a,column:0});var"" c="this.$cursorLayer.getPixelPosition(a),d=c.top-this.$size.scrollerHeight*(b||0);this.session.setScrollTop(d)},this.STEPS=8,this.$calcSteps=function(a,b){var" c*(math.pow(a-1,3)+1)+b};for(c="0;c<d;++c)e.push(f(c/this.STEPS,a,b-a));return" e},this.scrolltoline="function(a,b,c,d){var" e="this.$cursorLayer.getPixelPosition({row:a,column:0}),f=e.top;b&&(f-=this.$size.scrollerHeight/2);var" g="this.scrollTop;this.session.setScrollTop(f),c!==!1&&this.animateScrolling(g,d)},this.animateScrolling=function(a,b){var" d="this,e=d.$calcSteps(a,c);this.$inScrollAnimation=!0,clearInterval(this.$timer),d.session.setScrollTop(e.shift()),this.$timer=setInterval(function(){e.length?(d.session.setScrollTop(e.shift()),d.session.$scrollTop=c):c!=null?(d.session.$scrollTop=-1,d.session.setScrollTop(c),c=null):(d.$timer=clearInterval(d.$timer),d.$inScrollAnimation=!1,b&&b())},10)}},this.scrollToY=function(a){this.scrollTop!==a&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=a)},this.scrollToX=function(a){a<0&&(a=0),this.scrollLeft!==a&&(this.scrollLeft=a),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollBy=function(a,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b),a&&this.session.setScrollLeft(this.session.getScrollLeft()+a)},this.isScrollableBy=function(a,b){if(b<0&&this.session.getScrollTop()">0)return!0;if(b>0&&this.session.getScrollTop()+this.$size.scrollerHeight<this.layerconfig.maxheight)return!0},this.pixeltoscreencoordinates=function(a,b){var c="this.scroller.getBoundingClientRect(),d=(a+this.scrollLeft-c.left-this.$padding)/this.characterWidth,e=Math.floor((b+this.scrollTop-c.top)/this.lineHeight),f=Math.round(d);return{row:e,column:f,side:d-f">0?1:-1}},this.screenToTextCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=Math.round((a+this.scrollLeft-c.left-this.$padding)/this.characterWidth),e=Math.floor((b+this.scrollTop-c.top)/this.lineHeight);return this.session.screenToDocumentPosition(e,Math.max(d,0))},this.textToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=this.session.documentToScreenPosition(a,b),e=this.$padding+Math.round(d.column*this.characterWidth),f=d.row*this.lineHeight;return{pageX:c.left+e-this.scrollLeft,pageY:c.top+f-this.scrollTop}},this.visualizeFocus=function(){e.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){e.removeCssClass(this.container,"ace_focus")},this.showComposition=function(a){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,e.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(a){this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!this.$composition)return;e.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null},this._loadTheme=function(a,b){if(!h.get("packaged"))return b();i.loadScript(h.moduleUrl(a,"theme"),b)},this.setTheme=function(b){function h(a){e.importCssString(a.cssText,a.cssClass,c.container.ownerDocument),c.$theme&&e.removeCssClass(c.container,c.$theme),c.$theme=a?a.cssClass:null,c.$theme&&e.addCssClass(c.container,c.$theme),a&&a.isDark?e.addCssClass(c.container,"ace_dark"):e.removeCssClass(c.container,"ace_dark"),c.$size&&(c.$size.width=0,c.onResize())}var c=this;this.$themeValue=b;if(!b||typeof b=="string"){var d=b||"ace/theme/textmate",f;try{f=a(d)}catch(g){}if(f)return h(f);c._loadTheme(d,function(){a([d],function(a){if(c.$themeValue!==b)return;h(a)})})}else h(b)},this.getTheme=function(){return this.$themeValue},this.setStyle=function(b){e.addCssClass(this.container,b)},this.unsetStyle=function(b){e.removeCssClass(this.container,b)},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(r.prototype),b.VirtualRenderer=r}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){var d=a("../lib/dom"),e=a("../lib/oop"),f=a("../lib/event_emitter").EventEmitter,g=function(a){this.element=d.createElement("div"),this.element.className="ace_layer ace_gutter-layer",a.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[]};(function(){e.implement(this,f),this.setSession=function(a){this.session=a},this.addGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(a,b)},this.removeGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(a,b)},this.setAnnotations=function(a){this.$annotations=[];for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if(!c)continue;var d=this.$annotations[b]={text:[]};for(var e=0;e<c.length;e++){var f="c[e],g=f.text.replace(/" g,"&quot;").replace(="" '="" g,"&#8217;").replace(="" <="" ,"&lt;");d.text.indexof(g)="==-1&&d.text.push(g);var"" h="f.type;h==" error"?d.classname="ace_error" :h="="warning"&&d.className!="ace_error"?d.className="ace_warning":h=="info"&&!d.className&&(d.className="ace_info")}}},this.update=function(a){var"" b="{className:" "},c="[],e=a.firstRow,f=a.lastRow,g=this.session.getNextFoldLine(e),h=g?g.start.row:Infinity,i=this.$showFoldWidgets&&this.session.foldWidgets,j=this.session.$breakpoints,k=this.session.$decorations;for(;;){e"">h&&(e=g.end.row+1,g=this.session.getNextFoldLine(e,g),h=g?g.start.row:Infinity);if(e>f)break;var l=this.$annotations[e]||b;c.push("<div class="ace_gutter-cell " ,j[e]||"",k[e]||"",l.classname,""="" style="height:" ,this.session.getrowlength(e)*a.lineheight,"px;"="">",e+1);if(i){var m=i[e];m==null&&(m=i[e]=this.session.getFoldWidget(e)),m&&c.push("<span class="ace_fold-widget " ,m,m="="start"&&e==h&&e<g.end.row?"" closed":"="" open",""=""></span>")}c.push("</div>"),e++}this.element=d.setInnerHtml(this.element,c.join("")),this.element.style.height=a.minHeight+"px",this.session.$useWrapMode&&(e=this.session.getLength());var n=(""+ --e).length*a.characterWidth,o=this.$padding||this.$computePadding();n+=o.left+o.right,n!==this.gutterWidth&&(this.gutterWidth=n,this._emit("changeGutterWidth",n))},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(a){a?d.addCssClass(this.element,"ace_folding-enabled"):d.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=a,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var a=d.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(a.paddingLeft)+1,this.$padding.right=parseInt(a.paddingRight),this.$padding},this.getRegion=function(a){var b=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();if(a.x<b.left+c.left)return"markers";if(this.$showfoldwidgets&&a.x>c.right-b.right)return"foldWidgets"}}).call(g.prototype),b.Gutter=g}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(a,b,c){var d=a("../range").Range,e=a("../lib/dom"),f=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setMarkers=function(a){this.markers=a},this.update=function(a){var a=a||this.config;if(!a)return;this.config=a;var b=[];for(var c in this.markers){var d=this.markers[c];if(!d.range){d.update(b,this,this.session,a);continue}var f=d.range.clipRows(a.firstRow,a.lastRow);if(f.isEmpty())continue;f=f.toScreenRange(this.session);if(d.renderer){var g=this.$getTop(f.start.row,a),h=Math.round(this.$padding+f.start.column*a.characterWidth);d.renderer(b,f,h,g,a)}else f.isMultiLine()?d.type=="text"?this.drawTextMarker(b,f,d.clazz,a):this.drawMultiLineMarker(b,f,d.clazz,a,d.type):this.drawSingleLineMarker(b,f,d.clazz+" start",a,null,d.type)}this.element=e.setInnerHtml(this.element,b.join(""))},this.$getTop=function(a,b){return(a-b.firstRowScreen)*b.lineHeight},this.drawTextMarker=function(a,b,c,e){var f=b.start.row,g=new d(f,b.start.column,f,this.session.getScreenLastRowColumn(f));this.drawSingleLineMarker(a,g,c+" start",e,1,"text"),f=b.end.row,g=new d(f,0,f,b.end.column),this.drawSingleLineMarker(a,g,c,e,0,"text");for(f=b.start.row+1;f<b.end.row;f++)g.start.row=f,g.end.row=f,g.end.column=this.session.getscreenlastrowcolumn(f),this.drawsinglelinemarker(a,g,c,e,1,"text")},this.drawmultilinemarker=function(a,b,c,d,e){var f="e===" background"?0:this.$padding,g="d.lineHeight,h=this.$getTop(b.start.row,d),i=Math.round(f+b.start.column*d.characterWidth);a.push("<div"" class="" ,c,"="" start"="" style="" ,"height:",g,"px;","right:0;","top:",h,"px;","left:",i,"px;"="">"),h=this.$getTop(b.end.row,d);var j=Math.round(b.end.column*d.characterWidth);a.push("<div class="" ,c,""="" style="" ,"height:",g,"px;","width:",j,"px;","top:",h,"px;","left:",f,"px;"=""></div>"),g=(b.end.row-b.start.row-1)*d.lineHeight;if(g<0)return;h=this.$gettop(b.start.row+1,d),a.push("<div class="" ,c,""="" style="" ,"height:",g,"px;","right:0;","top:",h,"px;","left:",f,"px;"="">")},this.drawSingleLineMarker=function(a,b,c,d,e,f){var g=f==="background"?0:this.$padding,h=d.lineHeight;if(f==="background")var i=d.width;else i=Math.round((b.end.column+(e||0)-b.start.column)*d.characterWidth);var j=this.$getTop(b.start.row,d),k=Math.round(g+b.start.column*d.characterWidth);a.push("<div class="" ,c,""="" style="" ,"height:",h,"px;","width:",i,"px;","top:",j,"px;","left:",k,"px;"=""></div>")}}).call(f.prototype),b.Marker=f}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(a,b,c){var d=a("../lib/oop"),e=a("../lib/dom"),f=a("../lib/lang"),g=a("../lib/useragent"),h=a("../lib/event_emitter").EventEmitter,i=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_text-layer",a.appendChild(this.element),this.$characterSize=this.$measureSizes()||{width:0,height:0},this.$pollSizeChanges()};(function(){d.implement(this,h),this.EOF_CHAR="¶",this.EOL_CHAR="¬",this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.setPadding=function(a){this.$padding=a,this.element.style.padding="0 "+a+"px"},this.getLineHeight=function(){return this.$characterSize.height||1},this.getCharacterWidth=function(){return this.$characterSize.width||1},this.checkForSizeChanges=function(){var a=this.$measureSizes();a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)&&(this.$characterSize=a,this._emit("changeCharacterSize",{data:a}))},this.$pollSizeChanges=function(){var a=this;this.$pollSizeChangesTimer=setInterval(function(){a.checkForSizeChanges()},500)},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=g.isIE||g.isOldGecko?function(){var a=1e3;if(!this.$measureNode){var b=this.$measureNode=e.createElement("div"),c=b.style;c.width=c.height="auto",c.left=c.top=-a*40+"px",c.visibility="hidden",c.position="fixed",c.overflow="visible",c.whiteSpace="nowrap",b.innerHTML=f.stringRepeat("Xy",a);if(this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(b);else{var d=this.element.parentNode;while(!e.hasCssClass(d,"ace_editor"))d=d.parentNode;d.appendChild(b)}}if(!this.element.offsetWidth)return null;var c=this.$measureNode.style,g=e.computedStyle(this.element);for(var h in this.$fontStyles)c[h]=g[h];var i={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/(a*2)};return i.width==0||i.height==0?null:i}:function(){if(!this.$measureNode){var a=this.$measureNode=e.createElement("div"),b=a.style;b.width=b.height="auto",b.left=b.top="-100px",b.visibility="hidden",b.position="fixed",b.overflow="visible",b.whiteSpace="nowrap",a.innerHTML="X";var c=this.element.parentNode;while(c&&!e.hasCssClass(c,"ace_editor"))c=c.parentNode;if(!c)return this.$measureNode=null;c.appendChild(a)}var d=this.$measureNode.getBoundingClientRect(),f={height:d.height,width:d.width};return f.width==0||f.height==0?null:f},this.setSession=function(a){this.session=a,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(a){return this.showInvisibles==a?!1:(this.showInvisibles=a,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(a){return this.displayIndentGuides==a?!1:(this.displayIndentGuides=a,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var a=this.session.getTabSize();this.tabSize=a;var b=this.$tabStrings=[0];for(var c=1;c<a+1;c++)this.showinvisibles?b.push("<span class="ace_invisible">"+this.TAB_CHAR+Array(c).join("&#160;")+""):b.push((new Array(c+1)).join("&#160;"));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var d="ace_indent-guide",e=Array(this.tabSize+1).join("&#160;"),f=e;this.showInvisibles&&(d+=" ace_invisible",f=this.TAB_CHAR+e.substr(6)),this.$tabStrings[" "]="<span class="" +d+""="">"+e+"</span>",this.$tabStrings[""]="<span class="" +d+""="">"+f+"</span>"}},this.updateLines=function(a,b,c){(this.config.lastRow!=a.lastRow||this.config.firstRow!=a.firstRow)&&this.scrollLines(a),this.config=a;var d=Math.max(b,a.firstRow),f=Math.min(c,a.lastRow),g=this.element.childNodes,h=0;for(var i=a.firstRow;i<d;i++){var j="this.session.getFoldLine(i);if(j){if(j.containsRow(d)){d=j.start.row;break}i=j.end.row}h++}var" i="d,j=this.session.getNextFoldLine(i),k=j?j.start.row:Infinity;for(;;){i">k&&(i=j.end.row+1,j=this.session.getNextFoldLine(i,j),k=j?j.start.row:Infinity);if(i>f)break;var l=g[h++];if(l){var m=[];this.$renderLine(m,i,!this.$useLineGroups(),i==k?j:!1),e.setInnerHtml(l,m.join(""))}i++}},this.scrollLines=function(a){var b=this.config;this.config=a;if(!b||b.lastRow<a.firstrow)return this.update(a);if(a.lastrow<b.firstrow)return="" this.update(a);var="" c="this.element;if(b.firstRow<a.firstRow)for(var" d="this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);d">0;d--)c.removeChild(c.firstChild);if(b.lastRow>a.lastRow)for(var d=this.session.getFoldedRowCount(a.lastRow+1,b.lastRow);d>0;d--)c.removeChild(c.lastChild);if(a.firstRow<b.firstrow){var e="this.$renderLinesFragment(a,a.firstRow,b.firstRow-1);c.firstChild?c.insertBefore(e,c.firstChild):c.appendChild(e)}if(a.lastRow">b.lastRow){var e=this.$renderLinesFragment(a,b.lastRow+1,a.lastRow);c.appendChild(e)}},this.$renderLinesFragment=function(a,b,c){var d=this.element.ownerDocument.createDocumentFragment(),f=b,g=this.session.getNextFoldLine(f),h=g?g.start.row:Infinity;for(;;){f>h&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),h=g?g.start.row:Infinity);if(f>c)break;var i=e.createElement("div"),j=[];this.$renderLine(j,f,!1,f==h?g:!1),i.innerHTML=j.join("");if(this.$useLineGroups())i.className="ace_line_group",d.appendChild(i);else{var k=i.childNodes;while(k.length)d.appendChild(k[0])}f++}return d},this.update=function(a){this.config=a;var b=[],c=a.firstRow,d=a.lastRow,f=c,g=this.session.getNextFoldLine(f),h=g?g.start.row:Infinity;for(;;){f>h&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),h=g?g.start.row:Infinity);if(f>d)break;this.$useLineGroups()&&b.push("<div class="ace_line_group">"),this.$renderLine(b,f,!1,f==h?g:!1),this.$useLineGroups()&&b.push("</div>"),f++}this.element=e.setInnerHtml(this.element,b.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(a,b,c,d){var e=this,f=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180e\u2000-\u200f\u2028\u2029\u202f\u205f\u3000\ufeff])|[\u1100-\u115f\u11a3-\u11a7\u11fa-\u11ff\u2329-\u232a\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3000-\u303e\u3041-\u3096\u3099-\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u31ba\u31c0-\u31e3\u31f0-\u321e\u3220-\u3247\u3250-\u32fe\u3300-\u4dbf\u4e00-\ua48c\ua490-\ua4c6\ua960-\ua97c\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufaff\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\uff01-\uff60\uffe0-\uffe6]="" g,g="function(a,c,d,f,g){if(c)return(new" array(a.length+1)).join("&#160;");if(a="=" &")return"&#38;";if(a="="<")return"&#60;";if(a==""" "){var="" h="e.session.getScreenTabSize(b+f);return" b+="h-1,e.$tabStrings[h]}if(a==" 　"){var"="" i="e.showInvisibles?" ace_cjk"="" ace_invisible":"ace_cjk",j="e.showInvisibles?e.SPACE_CHAR:" ";return"="" class="" +i+""="" style="width:" +e.config.characterwidth*2+"px"="">"+j+""}return d?"<span class="ace_invisible ace_invalid">"+e.SPACE_CHAR+"</span>":(b+=1,"<span class="ace_cjk" style="width:" +e.config.characterwidth*2+"px"="">"+a+"</span>")},h=d.replace(f,g);if(!this.$textToken[c.type]){var i="ace_"+c.type.replace(/\./g," ace_"),j="";c.type=="fold"&&(j=" style='width:"+c.value.length*this.config.characterWidth+"px;' "),a.push("<span class="" ,i,""="" ",j,"="">",h,"</span>")}else a.push(h);return b+d.length},this.renderIndentGuide=function(a,b){var c=b.search(this.$indentGuideRe);return c<=0?b:b[0]==" "?(c-="c%this.tabSize,a.push(Array(c/this.tabSize+1).join(this.$tabStrings[" "="" "])),b.substr(c)):b[0]="=" "?(a.push(array(c+1).join(this.$tabstrings["="" "])),b.substr(c)):b},this.$renderwrappedline="function(a,b,c,d){var" e="0,f=0,g=c[0],h=0;for(var" i="0;i<b.length;i++){var" j="b[i],k=j.value;if(i==0&&this.displayIndentGuides){e=k.length,k=this.renderIndentGuide(a,k);if(!k)continue;e-=k.length}if(e+k.length<g)h=this.$renderToken(a,h,j,k),e+=k.length;else{while(e+k.length">=g)h=this.$renderToken(a,h,j,k.substring(0,g-e)),k=k.substring(g-e),e=g,d||a.push("","<div class="ace_line" style="height:" ,this.config.lineheight,"px"="">"),f++,h=0,g=c[f]||Number.MAX_VALUE;k.length!=0&&(e+=k.length,h=this.$renderToken(a,h,j,k))}}},this.$renderSimpleLine=function(a,b){var c=0,d=b[0],e=d.value;this.displayIndentGuides&&(e=this.renderIndentGuide(a,e)),e&&(c=this.$renderToken(a,c,d,e));for(var f=1;f<b.length;f++)d=b[f],e=d.value,c=this.$rendertoken(a,c,d,e)},this.$renderline=function(a,b,c,d){!d&&d!=0&&(d=this.session.getfoldline(b));if(d)var e="this.$getFoldLineTokens(b,d);else" var="" class="ace_line" style="height:" ,this.config.lineheight,"px"="">");if(e.length){var f=this.session.getRowSplitData(b);f&&f.length?this.$renderWrappedLine(a,e,f,c):this.$renderSimpleLine(a,e)}this.showInvisibles&&(d&&(b=d.end.row),a.push("<span class="ace_invisible">",b==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),c||a.push("</b.length;f++)d=b[f],e=d.value,c=this.$rendertoken(a,c,d,e)},this.$renderline=function(a,b,c,d){!d&&d!=0&&(d=this.session.getfoldline(b));if(d)var></div>")},this.$getFoldLineTokens=function(a,b){function e(a,b,c){var e=0,f=0;while(f+a[e].value.length<b){f+=a[e].value.length,e++;if(e==a.length)return}if(f!=b){var g="a[e].value.substring(b-f);g.length">c-b&&(g=g.substring(0,c-b)),d.push({type:a[e].type,value:g}),f=b+g.length,e+=1}while(f<c&&e<a.length){var g="a[e].value;g.length+f">c?d.push({type:a[e].type,value:g.substring(0,c-f)}):d.push(a[e]),f+=g.length,e+=1}}var c=this.session,d=[],f=c.getTokens(a);return b.walk(function(a,b,g,h,i){a?d.push({type:"fold",value:a}):(i&&(f=c.getTokens(b)),f.length&&e(f,h,g))},b.end.row,this.session.getLine(b.end.row).length),d},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(i.prototype),b.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(a,b,c){var d=a("../lib/dom"),e=function(a){this.element=d.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.cursors=[],this.cursor=this.addCursor()};(function(){this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.addCursor=function(){var a=d.createElement("div"),b="ace_cursor";return this.isVisible||(b+=" ace_hidden"),this.overwrite&&(b+=" ace_overwrite"),a.className=b,this.element.appendChild(a),this.cursors.push(a),a},this.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},this.hideCursor=function(){this.isVisible=!1;for(var a=this.cursors.length;a--;)d.addCssClass(this.cursors[a],"ace_hidden");clearInterval(this.blinkId)},this.showCursor=function(){this.isVisible=!0;for(var a=this.cursors.length;a--;)d.removeCssClass(this.cursors[a],"ace_hidden");this.element.style.visibility="",this.restartTimer()},this.restartTimer=function(){clearInterval(this.blinkId);if(!this.isVisible)return;var a=this.cursors.length==1?this.cursor:this.element;this.blinkId=setInterval(function(){a.style.visibility="hidden",setTimeout(function(){a.style.visibility=""},400)},1e3)},this.getPixelPosition=function(a,b){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a),d=Math.round(this.$padding+c.column*this.config.characterWidth),e=(c.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:d,top:e}},this.update=function(a){this.config=a;if(this.session.selectionMarkerCount>0){var b=this.session.$selectionMarkers,c=0,d,e=0;for(var c=b.length;c--;){d=b[c];var f=this.getPixelPosition(d.cursor,!0),g=(this.cursors[e++]||this.addCursor()).style;g.left=f.left+"px",g.top=f.top+"px",g.width=a.characterWidth+"px",g.height=a.lineHeight+"px"}if(e>1)while(this.cursors.length>e)this.removeCursor()}else{var f=this.getPixelPosition(null,!0),g=this.cursor.style;g.left=f.left+"px",g.top=f.top+"px",g.width=a.characterWidth+"px",g.height=a.lineHeight+"px";while(this.cursors.length>1)this.removeCursor()}var h=this.session.getOverwrite();h!=this.overwrite&&this.$setOverite(h),this.$pixelPos=f,this.restartTimer()},this.$setOverite=function(a){this.overwrite=a;for(var b=this.cursors.length;b--;)a?d.addCssClass(this.cursors[b],"ace_overwrite"):d.removeCssClass(this.cursors[b],"ace_overwrite")},this.destroy=function(){clearInterval(this.blinkId)}}).call(e.prototype),b.Cursor=e}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/event"),g=a("./lib/event_emitter").EventEmitter,h=function(a){this.element=e.createElement("div"),this.element.className="ace_sb",this.inner=e.createElement("div"),this.element.appendChild(this.inner),a.appendChild(this.element),this.width=e.scrollbarWidth(a.ownerDocument),this.element.style.width=(this.width||15)+5+"px",f.addListener(this.element,"scroll",this.onScroll.bind(this))};(function(){d.implement(this,g),this.onScroll=function(){this._emit("scroll",{data:this.element.scrollTop})},this.getWidth=function(){return this.width},this.setHeight=function(a){this.element.style.height=a+"px"},this.setInnerHeight=function(a){this.inner.style.height=a+"px"},this.setScrollTop=function(a){this.element.scrollTop=a}}).call(h.prototype),b.ScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(a,b,c){var d=a("./lib/event"),e=function(a,b){this.onRender=a,this.pending=!1,this.changes=0,this.window=b||window};(function(){this.schedule=function(a){this.changes=this.changes|a;if(!this.pending){this.pending=!0;var b=this;d.nextTick(function(){b.pending=!1;var a;while(a=b.changes)b.changes=0,b.onRender(a)},this.window)}}}).call(e.prototype),b.RenderLoop=e}),ace.define("ace/requirejs/text!ace/css/editor.css",[],".ace_editor {\n    position: absolute;\n    overflow: hidden;\n    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Droid Sans Mono', 'Consolas', monospace;\n    font-size: 12px;\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    cursor: text;\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    height: 100%;\n    width: auto;\n    cursor: default;\n    z-index: 4;\n}\n\n.ace_gutter_active_line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.horscroll {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=\");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==\");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7\");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=\");\n}\n\n.ace_editor .ace_sb {\n    position: absolute;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    right: 0;\n}\n\n.ace_editor .ace_sb div {\n    position: absolute;\n    width: 1px;\n    left: 0;\n}\n\n.ace_editor .ace_print_margin_layer {\n    z-index: 0;\n    position: absolute;\n    overflow: hidden;\n    margin: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n}\n\n.ace_editor .ace_print_margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_editor > textarea {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    appearance: none;\n    -moz-appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n}\n\n.ace_editor > textarea.ace_composition {\n    background: #fff;\n    color: #000;\n    z-index: 1000;\n    opacity: 1;\n    border: solid lightgray 1px;\n    margin: -1px\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    white-space: nowrap;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter .ace_layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n}\n\n.ace_text-layer {\n    color: black;\n    font: inherit !important;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n}\n\n.ace_cursor.ace_hidden {\n    opacity: 0.2;\n}\n\n.ace_editor.multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_line {\n    white-space: nowrap;\n}\n\n.ace_marker-layer .ace_step {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_active_line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected_word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82\");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    -moz-border-radius: 2px;\n    -webkit-border-radius: 2px;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),\n        url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82\");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n}\n\n.ace_dragging .ace_content {\n    cursor: move;\n}\n\n.ace_gutter_tooltip {\n    background-color: #FFFFD5;\n    border: 1px solid gray;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);\n    color: black;\n    display: inline-block;\n    padding: 4px;\n    position: absolute;\n    z-index: 300;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    cursor: default;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n\n    margin: 0 -12px 1px 1px;\n    display: inline-block;\n    height: 14px;\n    width: 11px;\n    vertical-align: text-bottom;\n\n    background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82\");\n    background-repeat: no-repeat;\n    background-position: center 4px;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n}\n\n.ace_fold-widget.end {\n    background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82\");\n}\n\n.ace_fold-widget.closed {\n    background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82\");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n    background-position: center 4px;\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");\n}\n.ace_dark .ace_fold-widget.end {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");\n}\n.ace_dark .ace_fold-widget.closed {\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n    \n    \n    \n.ace_fold-widget.invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n       -moz-transition: opacity 0.4s ease 0.05s;\n    -webkit-transition: opacity 0.4s ease 0.05s;\n         -o-transition: opacity 0.4s ease 0.05s;\n        -ms-transition: opacity 0.4s ease 0.05s;\n            transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n       -moz-transition: opacity 0.05s ease 0.05s;\n    -webkit-transition: opacity 0.05s ease 0.05s;\n         -o-transition: opacity 0.05s ease 0.05s;\n        -ms-transition: opacity 0.05s ease 0.05s;\n            transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n"),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor"],function(a,b,c){function l(a,b,c){return k.$options.wrap=!0,k.$options.needle=b,k.$options.backwards=c==-1,k.find(a)}function o(a,b){return a.row==b.row&&a.column==b.column}function p(a){a.$onAddRange=a.$onAddRange.bind(a),a.$onRemoveRange=a.$onRemoveRange.bind(a),a.$onMultiSelect=a.$onMultiSelect.bind(a),a.$onSingleSelect=a.$onSingleSelect.bind(a),b.onSessionChange.call(a,a),a.on("changeSession",b.onSessionChange.bind(a)),a.on("mousedown",g),a.commands.addCommands(i.defaultCommands),q(a)}function q(a){function e(){c&&(d.style.cursor="",c=!1)}var b=a.textInput.getElement(),c=!1,d=a.renderer.content;h.addListener(b,"keydown",function(a){a.keyCode==18&&!(a.ctrlKey||a.shiftKey||a.metaKey)?c||(d.style.cursor="crosshair",c=!0):c&&(d.style.cursor="")}),h.addListener(b,"keyup",e),h.addListener(b,"blur",e)}var d=a("./range_list").RangeList,e=a("./range").Range,f=a("./selection").Selection,g=a("./mouse/multi_select_handler").onMouseDown,h=a("./lib/event"),i=a("./commands/multi_select_commands");b.commands=i.defaultCommands.concat(i.multiSelectCommands);var j=a("./search").Search,k=new j,m=a("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(a,b){if(!a)return;if(!this.inMultiSelectMode&&this.rangeCount==0){var c=this.toOrientedRange();if(a.intersects(c))return b||this.fromOrientedRange(a);this.rangeList.add(c),this.$onAddRange(c)}a.cursor||(a.cursor=a.end);var d=this.rangeList.add(a);return this.$onAddRange(a),d.length&&this.$onRemoveRange(d),this.rangeCount>1&&!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(a)},this.toSingleRange=function(a){a=a||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),a&&this.fromOrientedRange(a)},this.substractPoint=function(a){var b=this.rangeList.substractPoint(a);if(b)return this.$onRemoveRange(b),b[0]},this.mergeOverlappingRanges=function(){var a=this.rangeList.merge();a.length?this.$onRemoveRange(a):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(a){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(a),this._emit("addRange",{range:a})},this.$onRemoveRange=function(a){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();a.push(b),this.rangeCount=0}for(var c=a.length;c--;){var d=this.ranges.indexOf(a[c]);this.ranges.splice(d,1)}this._emit("removeRange",{ranges:a}),this.rangeCount==0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),b=b||this.ranges[0],b&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new d,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeList.ranges.concat()},this.splitIntoLines=function(){if(this.rangeCount>1){var a=this.rangeList.ranges,b=a[a.length-1],c=e.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)}else{var c=this.getRange(),d=c.start.row,f=c.end.row;if(d==f)return;var g=[],h=this.getLineRange(d,!0);h.start.column=c.start.column,g.push(h);for(var i=d+1;i<f;i++)g.push(this.getlinerange(i,!0));h=this.getlinerange(f,!0),h.end.column=c.end.column,g.push(h),g.foreach(this.addrange,this)}},this.toggleblockselection=function(){if(this.rangecount>1){var a=this.rangeList.ranges,b=a[a.length-1],c=e.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)}else{var d=this.session.documentToScreenPosition(this.selectionLead),f=this.session.documentToScreenPosition(this.selectionAnchor),g=this.rectangularRangeBlock(d,f);g.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(a,b,c){var d=[],f=a.column<b.column;if(f)var g="a.column,h=b.column;else" var="" i="a.row<b.row;if(i)var" j="a.row,k=b.row;else" l="j;l<=k;l++){var" m="e.fromPoints(this.session.screenToDocumentPosition(l,g),this.session.screenToDocumentPosition(l,h));if(m.isEmpty()){if(n&&o(m.end,n))break;var" n="m.end}m.cursor=f?m.start:m.end,d.push(m)}i&&d.reverse();if(!c){var" p="d.length-1;while(d[p].isEmpty()&&p">0)p--;if(p>0){var q=0;while(d[q].isEmpty())q++}for(var r=p;r>=q;r--)d[r].isEmpty()&&d.splice(r,1)}return d}}.call(f.prototype);var n=a("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(a){a.cursor||(a.cursor=a.end);var b=this.getSelectionStyle();return a.marker=this.session.addMarker(a,"ace_selection",b),this.session.$selectionMarkers.push(a),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,a},this.removeSelectionMarker=function(a){if(!a.marker)return;this.session.removeMarker(a.marker);var b=this.session.$selectionMarkers.indexOf(a);b!=-1&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(a){var b=this.session.$selectionMarkers;for(var c=a.length;c--;){var d=a[c];if(!d.marker)continue;this.session.removeMarker(d.marker);var e=b.indexOf(d);e!=-1&&b.splice(e,1)}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(a){this.addSelectionMarker(a.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(a){this.removeSelectionMarkers(a.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(a){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle("multiselect"),this.keyBinding.addKeyboardHandler(i.keyboardHandler),this.commands.on("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(a){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle("multiselect"),this.keyBinding.removeKeyboardHandler(i.keyboardHandler),this.commands.removeEventListener("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelectExec=function(a){var b=a.command,c=a.editor;if(!c.multiSelect)return;b.multiSelectAction?b.multiSelectAction=="forEach"?c.forEachSelection(b,a.args):b.multiSelectAction=="single"?(c.exitMultiSelectMode(),b.exec(c,a.args||{})):b.multiSelectAction(c,a.args||{}):(b.exec(c,a.args||{}),c.multiSelect.addRange(c.multiSelect.toOrientedRange()),c.multiSelect.mergeOverlappingRanges()),a.preventDefault()},this.forEachSelection=function(a,b){if(this.inVirtualSelectionMode)return;var c=this.session,d=this.selection,e=d.rangeList,g=d._eventRegistry;d._eventRegistry={};var h=new f(c);this.inVirtualSelectionMode=!0;for(var i=e.ranges.length;i--;)h.fromOrientedRange(e.ranges[i]),this.selection=c.selection=h,a.exec(this,b||{}),h.toOrientedRange(e.ranges[i]);h.detach(),this.selection=c.selection=d,this.inVirtualSelectionMode=!1,d._eventRegistry=g,d.mergeOverlappingRanges(),this.onCursorChange(),this.onSelectionChange()},this.exitMultiSelectMode=function(){if(this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getCopyText=function(){var a="";if(this.inMultiSelectMode){var b=this.multiSelect.rangeList.ranges;a=[];for(var c=0;c<b.length;c++)a.push(this.session.gettextrange(b[c]));a=a.join(this.session.getdocument().getnewlinecharacter())}else this.selection.isempty()||(a="this.session.getTextRange(this.getSelectionRange()));return" a},this.onpaste="function(a){if(this.$readOnly)return;this._emit(" paste",a);if(!this.inmultiselectmode)return"="" this.insert(a);var="" b="a.split(/\r\n|\r|\n/),c=this.selection.rangeList.ranges;if(b.length">c.length||b.length<=2||!b[1])return this.commands.exec("insertstring",this,a);for(var="" d="c.length;d--;){var" e="c[d];e.isEmpty()||this.session.remove(e),this.session.insert(e.start,b[d])}},this.findAll=function(a,b,c){b=b||{},b.needle=a||b.needle,this.$search.set(b);var" 0;this.$blockscrolling+="1;var" f="d.length;f--;)e.addRange(d[f],!0);return" this.$blockscrolling-="1,d.length},this.selectMoreLines=function(a,b){var" c="this.selection.toOrientedRange(),d=c.cursor==c.end,f=this.session.documentToScreenPosition(c.cursor);this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);var" g="this.session.screenToDocumentPosition(f.row+a,f.column);if(!c.isEmpty())var" h="this.session.documentToScreenPosition(d?c.end:c.start),i=this.session.screenToDocumentPosition(h.row+a,h.column);else" var="" i="g;if(d){var" j="e.fromPoints(g,i);j.cursor=j.start}else{var" if(b)var="" k="c.cursor;this.selection.addRange(j),k&&this.selection.substractPoint(k)},this.transposeSelections=function(a){var" b="this.session,c=b.multiSelect,d=c.ranges;for(var" a.row-b.row||a.column-b.column},this.pointindex="function(a,b){var">0)continue;return f==0?d:(f=this.comparePoints(a,e.start),f>=0?d:-d-1)}return-d-1},this.add=function(a){var b=this.pointIndex(a.start);b<0&&(b=-b-1);var c="this.pointIndex(a.end,b);return" c<0?c="-c-1:c++,this.ranges.splice(b,c-b,a)},this.addList=function(a){var" b="[];for(var" b},this.substractpoint="function(a){var">=0)return this.ranges.splice(b,1)},this.merge=function(){var a=[],b=this.ranges,c=b[0],d;for(var e=1;e<b.length;e++){d=c,c=b[e];var f="this.comparePoints(d.end,c.start);if(f<0)continue;if(f==0&&!d.isEmpty()&&!c.isEmpty())continue;this.comparePoints(d.end,c.end)<0&&(d.end.row=c.end.row,d.end.column=c.end.column),b.splice(e,1),a.push(c),c=d,e--}return" a},this.contains="function(a,b){return" this.pointindex({row:a,column:b})="">=0},this.containsPoint=function(a){return this.pointIndex(a)>=0},this.rangeAtPoint=function(a){var b=this.pointIndex(a);if(b>=0)return this.ranges[b]},this.clipRows=function(a,b){var c=this.ranges;if(c[0].start.row>b||c[c.length-1].start.row<a)return[];var d="this.pointIndex({row:a,column:0});d<0&&(d=-d-1);var" e="this.pointIndex({row:b,column:0},d);e<0&&(e=-e-1);var" f="[];for(var" g="d;g<e;g++)f.push(c[g]);return" f},this.removeall="function(){return" this.ranges.splice(0,this.ranges.length)},this.attach="function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on(" change",this.onchange)},this.detach="function(){if(!this.session)return;this.session.removeListener("change",this.onChange),this.session=null},this.$onChange=function(a){var"" b="a.data.range;if(a.data.action[0]==" i")var"="" c="b.start,d=b.end;else" var="" j="0,k=i.length;j<k;j++){var" l="i[j];if(l.end.row<e)continue;if(l.start.row">e)break;l.start.row==e&&l.start.column>=c.column&&(l.start.column+=h,l.start.row+=g),l.end.row==e&&l.end.column>=c.column&&(l.end.column+=h,l.end.row+=g)}if(g!=0&&j<k)for(;j<k;j++){var l="i[j];l.start.row+=g,l.end.row+=g}}}).call(d.prototype),b.RangeList=d}),ace.define(" ace="" mouse="" multi_select_handler",["require","exports","module","ace="" lib="" event"],function(a,b,c){function"="" e(a,b){return="" a.row="=b.row&&a.column==b.column}function" f(a){var="" b="a.domEvent,c=b.altKey,f=b.shiftKey,g=a.getAccelKey(),h=a.getButton();if(a.editor.inMultiSelectMode&&h==2){a.editor.textInput.onContextMenu(a.domEvent);return}if(!g&&!c){h==0&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();return}var" i="a.editor,j=i.selection,k=i.inMultiSelectMode,l=a.getDocumentPosition(),m=j.getCursor(),n=a.inSelection()||j.isEmpty()&&e(l,m),o=a.x,p=a.y,q=function(a){o=a.clientX,p=a.clientY},r=function(){var" a="i.renderer.pixelToScreenCoordinates(o,p),b=s.screenToDocumentPosition(a.row,a.column);if(e(u,a)&&e(b,j.selectionLead))return;u=a,i.selection.moveCursorToPosition(b),i.selection.clearSelection(),i.renderer.scrollCursorIntoView(),i.removeSelectionMarkers(x),x=j.rectangularRangeBlock(u,t),x.forEach(i.addSelectionMarker,i),i.updateSelectionMarkers()},s=i.session,t=i.renderer.pixelToScreenCoordinates(o,p),u=t;if(g&&!f&&!c&&h==0){if(!k&&n)return;if(!k){var" v="j.toOrientedRange();i.addSelectionMarker(v)}var" w="j.rangeList.rangeAtPoint(l);d.capture(i.container,function(){},function(){var" if(!f&&c&&h="=0){a.stop(),k&&!g?j.toSingleRange():!k&&g&&j.addRange(),j.moveCursorToPosition(l),j.clearSelection();var" x="[],y=function(a){clearInterval(A),i.removeSelectionMarkers(x);for(var" a.preventdefault()}}var="" d="a(" ..="" event");b.onmousedown="f}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(a,b,c){b.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Shift-L",mac:"Ctrl-Shift-L"},readonly:!0}],b.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},readonly:!0,isAvailable:function(a){return"" a&&a.inmultiselectmode}}];var="" d(b.multiselectcommands)}),ace.define("ace="" worker="" worker_client",["require","exports","module","ace="" oop","ace="" event_emitter","ace="" config"],function(a,b,c){var="" worker(f.moduleurl(c,"worker"));else{var="" e;typeof="" a.supports!="undefined" &&a.supports.indexof("ucjs2-pinf-0")="">=0?e=a.nameToUrl("ace/worker/worker_sourcemint"):(a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),e=this.$normalizePath(a.toUrl("ace/worker/worker",null,"_"))),this.$worker=new Worker(e);var g={};for(var h=0;h<b.length;h++){var i="b[h],j=this.$normalizePath(a.toUrl(i,null," _").replace(="" .js(\?.*)?$="" ,""));g[i]="j}}this.$worker.postMessage({init:!0,tlns:g,module:c,classname:d}),this.callbackId=1,this.callbacks={};var"" k="this;this.$worker.onerror=function(a){throw" window.console&&console.log&&console.log(a),a},this.$worker.onmessage="function(a){var" b="a.data;switch(b.type){case" log":window.console&&console.log&&console.log(b.data);break;case"event":k._emit(b.name,{data:b.data});break;case"call":var"="" c="k.callbacks[b.id];c&&(c(b.data),delete" k.callbacks[b.id])}}};(function(){d.implement(this,e),this.$normalizepath="function(a){return" location.host?(a="a.replace(/^[a-z]+:\/\/[^\/]+/," "),a="location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,""),a):a},this.terminate=function(){this._emit("terminate",{}),this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(a,b){this.$worker.postMessage({command:a,args:b})},this.call=function(a,b,c){if(c){var"" d="this.callbackId++;this.callbacks[d]=c,b.push(d)}this.send(a,b)},this.emit=function(a,b){try{this.$worker.postMessage({event:a,data:{data:b.data}})}catch(c){}},this.attachToDocument=function(a){this.$doc&&this.terminate(),this.$doc=a,this.call(" setvalue",[a.getvalue()]),a.on("change",this.changelistener)},this.changelistener="function(a){a.range={start:a.data.range.start,end:a.data.range.end},this.emit("change",a)}}).call(g.prototype),b.WorkerClient=g}),ace.define("ace/keyboard/state_handler",["require","exports","module"],function(a,b,c){function"" e(a){this.keymapping="this.$buildKeymappingRegex(a)}var" in="" a)this.$buildbindingsregex(a[b]);return="" a},$buildbindingsregex:function(a){a.foreach(function(a){a.key?a.key="new" regexp("^"+a.key+"$"):array.isarray(a.regex)?("key"in="" a||(a.key="new" regexp("^"+a.regex[1]+"$")),a.regex="new" regexp(a.regex.join("")+"$")):a.regex&&(a.regex="new" regexp(a.regex+"$"))})},$composebuffer:function(a,b,c,d){if(a.state="=null||a.buffer==null)a.state=" start",a.buffer="" ;var"="" e="[];b&1&&e.push(" ctrl"),b&8&&e.push("command"),b&2&&e.push("option"),b&4&&e.push("shift"),c&&e.push(c);var"="" f="e.join(" -"),g="a.buffer+f;b!=2&&(a.buffer=g);var"" h="{bufferToUse:g,symbolicName:f};return" d&&(h.keyidentifier="d.keyIdentifier),h},$find:function(a,b,c,e,f,g){var" this.keymapping[a.state].some(function(i){var="" j;if(i.key&&!i.key.test(c))return!1;if(i.regex&&!(j="i.regex.exec(b)))return!1;if(i.match&&!i.match(b,e,f,c,g))return!1;if(i.disallowMatches)for(var" l;h.args="{},i.params.forEach(function(a){a.match!=null&&j!=null?l=j[a.match]||a.defaultValue:l=a.defaultValue,a.type===" number"&&(l="parseInt(l)),h.args[a.name]=l})}a.buffer=""}return"" i.then&&(a.state="i.then,a.buffer=" "),h.command="=null&&(h.command="null"),d&&console.log("KeyboardStateMapper#find",i),!0}),h.command?h:(a.buffer="",!1)},handleKeyboard:function(a,b,c,e,f){b==-1&&(b=0);if(b==0||c!=""&&c!=String.fromCharCode(0)){var"" g="this.$composeBuffer(a,b,c,f),h=g.bufferToUse,i=g.symbolicName,j=g.keyIdentifier;return" null}},b.matchcharacteronly="function(a,b,c,d){return" a="this,b=this.doc,c=this.session,e=this.$pos;this.pos=b.createAnchor(e.row,e.column),this.markerId=c.addMarker(new" d(e.row,e.column,e.row,e.column+this.length),this.mainclass,null,!1),this.pos.on("change",function(b){c.removemarker(a.markerid),a.markerid="c.addMarker(new" d(b.value.row,b.value.column,b.value.row,b.value.column+a.length),a.mainclass,null,!1)}),this.others="[],this.$others.forEach(function(c){var" d(c.row,c.column,c.row,c.column+b.length),b.othersclass,null,!1),c.on("change",function(e){a.removemarker(c.markerid),c.markerid="a.addMarker(new" d(e.value.row,e.value.column,e.value.row,e.value.column+b.length),b.othersclass,null,!1)})})},this.hideothermarkers="function(){if(!this.othersActive)return;this.othersActive=!1;for(var">=this.pos.column&&c.start.column<=this.pos.column+this.length+1){var f="c.start.column-this.pos.column;this.length+=e;if(!this.session.$fromUndo){if(b.action===" inserttext")for(var"="" g="this.others.length-1;g">=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};h.row===c.start.row&&c.start.column<h.column&&(i.column+=e),this.doc.insert(i,b.text)}else if(b.action="==" removetext")for(var"="" g="this.others.length-1;g">=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};h.row===c.start.row&&c.start.column<h.column&&(i.column+=e),this.doc.remove(new d(i.row,i.column,i.row,i.column-e))}c.start.column="==this.pos.column&&b.action===" inserttext"?settimeout(function(){this.pos.setposition(this.pos.row,this.pos.column-e);for(var"="" a="0;a<this.others.length;a++){var" b="this.others[a],d={row:b.row,column:b.column-e};b.row===c.start.row&&c.start.column<b.column&&(d.column+=e),b.setPosition(d.row,d.column)}}.bind(this),0):c.start.column===this.pos.column&&b.action===" removetext"&&settimeout(function(){for(var"="" g="0;g<this.others.length;g++)this.others[g]._emit(" change",{value:this.others[g]})}this.$updating="!1},this.onCursorChange=function(a){if(this.$updating)return;var"">=this.pos.column&&b.column</h.column&&(i.column+=e),this.doc.remove(new></h.column&&(i.column+=e),this.doc.insert(i,b.text)}else></=this.pos.column+this.length+1){var></b.length;h++){var></k)for(;j<k;j++){var></a)return[];var></b.length;e++){d=c,c=b[e];var></0&&(b=-b-1);var></=2||!b[1])return></b.length;c++)a.push(this.session.gettextrange(b[c]));a=a.join(this.session.getdocument().getnewlinecharacter())}else></b.column;if(f)var></f;i++)g.push(this.getlinerange(i,!0));h=this.getlinerange(f,!0),h.end.column=c.end.column,g.push(h),g.foreach(this.addrange,this)}},this.toggleblockselection=function(){if(this.rangecount></c&&e<a.length){var></b){f+=a[e].value.length,e++;if(e==a.length)return}if(f!=b){var></=0?b:b[0]=="></|(></b.firstrow){var></a.firstrow)return></d;i++){var></a+1;c++)this.showinvisibles?b.push("<span></0)return;h=this.$gettop(b.start.row+1,d),a.push("<div></b.end.row;f++)g.start.row=f,g.end.row=f,g.end.column=this.session.getscreenlastrowcolumn(f),this.drawsinglelinemarker(a,g,c,e,1,"text")},this.drawmultilinemarker=function(a,b,c,d,e){var></b.left+c.left)return"markers";if(this.$showfoldwidgets&&a.x></c.length;e++){var></this.layerconfig.maxheight)return!0},this.pixeltoscreencoordinates=function(a,b){var></this.$padding+2*this.layerconfig.characterwidth&&(d=0),this.session.setscrollleft(d)):f+this.$size.scrollerwidth<d+this.characterwidth&&this.session.setscrollleft(math.round(d+this.characterwidth-this.$size.scrollerwidth))},this.getscrolltop=function(){return></e+this.lineheight&&(b&&(e+=b*this.$size.scrollerheight),this.session.setscrolltop(e+this.lineheight-this.$size.scrollerheight));var></c.firstrow)return;if(b===infinity){this.showgutter&&this.$gutterlayer.update(c),this.$textlayer.update(c);return}return></0,f=this.$horizscroll!==e;this.$horizscroll=e,f&&(this.scroller.style.overflowx=e?"scroll":"hidden",e||this.session.setscrollleft(0));var></0||a></b&&(this.$changedlines.lastrow=b)):this.$changedlines={firstrow:a,lastrow:b},this.$loop.schedule(this.change_lines)},this.onchangetabsize=function(){this.$loop.schedule(this.change_text|this.change_marker),this.$textlayer.onchangetabsize()},this.updatetext=function(){this.$loop.schedule(this.change_text)},this.updatefull=function(a){a?this.$renderchanges(this.change_full,!0):this.$loop.schedule(this.change_full)},this.updatefontsize=function(){this.$textlayer.checkforsizechanges()},this.onresize=function(a,b,c,d){var></=h;d++)if(c(a.getline(d),d))return;if(b.wrap==0)return;for(d=g,h=f.row;d<=h;d++)if(c(a.getline(d),d))return};return{foreach:i}}}).call(g.prototype),b.search=g}),ace.define("ace></f.length;h++)if(g(f[h],b,e))return!0};return{foreach:function(c){g=c,e.$lineiterator(a,b).foreach(j)}}},this.$assembleregexp=function(a){if(a.needle></i;j++){b=a.getline(d+j);if(b.search(c[j])==-1)return}var></k){var></=this.end.row},this.walk=function(a,b,c){var></0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else></c.length;o++){var></2)throw"placeholder></b&&(h></c.length;e++){var></c.length;d++){var></=h;i++){var></0?(c.row=0,c.column=0):(c.row=a,c.column=math.min(this.document.getline(c.row).length,math.max(0,b))),b<0&&(c.column=0),c}}).call(f.prototype)}),ace.define("ace></d?(c.end.row==d&&(e=math.max(0,e-c.end.column)+c.start.column),d-=c.end.row-c.start.row):c.end.row==d&&(d-=c.end.row-c.start.row,e=math.max(0,e-c.end.column)+c.start.column):b.action=="removelines"&&c.start.row<=d&&(c.end.row<=d?d-=c.end.row-c.start.row:(d=c.start.row,e=0)),this.setposition(d,e,!0)},this.setposition=function(a,b,c){var></=e?c.start.row===c.end.row?e+=c.end.column-c.start.column:(e-=c.start.column,d+=c.end.row-c.start.row):c.start.row!==c.end.row&&c.start.row<d&&(d+=c.end.row-c.start.row):b.action==="insertlines"?c.start.row<=d&&(d+=c.end.row-c.start.row):b.action=="removetext"?c.start.row==d&&c.start.column<e?c.end.column></a.length;b++){var></=1&&this.$detectnewline(b);var></m.length;n++){if(!m[n])continue;(!l||l.merge||k[n]==="text")&&j.type===k[n]?j.value+=m[n]:(j.type&&h.push(j),j={type:k[n],value:m[n]})}}if(i==a.length)break;i=f.lastindex}return></g.length-2;n++){if(g[n+1]===undefined)continue;l=d[e[n].rule],e[n].len></a)var></=this.end.column?0:1:0},this.comparestart=function(a,b){return></this.start.row?-1:a></this.start.column?-1:b></f&&></=1){f.lastindex=0;while((d=a[c])&&!f.test(d)){f.lastindex=0,c++;if(e.test(d)){if(c></this.doc.getlength()-1&&this.movecursorwordright();return}if(e=this.session.tokenre.exec(d))b+=this.session.tokenre.lastindex,this.session.tokenre.lastindex=0;this.movecursorto(a,b)},this.movecursorlongwordleft=function(){var></this.doc.getlength()-1&&this.movecursorto(this.lead.row+1,0);else{var></i.length;j++){var></c.length;d++)b=c[d],a-=b.end.row-b.start.row}else{var></a){if(h></j&&j<i.length)var></=d)c=this.getfolddisplayline(m),d=m.start.row;else{if(g+h<=a||d></=a){h=this.getrowlength(d);if(g+h-1></0)return{row:0,column:0};var></a.length;e++){d=a.charcodeat(e),d==9?c+=this.getscreentabsize(c):d></64?e.push(o):h></48||h></a.length;g++){var></i)h--;while(h></a.length;h++)if(a[h]!=l)break;if(h==a.length)break;g(h);continue}var></=b){j=this.getfoldline(k,j);if(!j)h=this.$getdisplaytokens(f.stringtrimright(c[k])),e[k]=this.$computewrapsplits(h,g,d),k++;else{h=[],j.walk(function(a,b,d,e){var></c;o++)n.push([]);this.$wrapdata.splice.apply(this.$wrapdata,n)}else></j.length;l++){var></b;c++)this.$wrapdata.push([]);this.$updatewrapdata(0,b-1)}this._emit("changewrapmode")}},this.getusewrapmode=function(){return></0?(a.start.row=0,a.start.column=0):a.start.column=this.$clipcolumntorow(a.start.row,a.start.column);var></0?0:math.min(this.doc.getline(a).length,b)},this.$clippositiontodocument=function(a,b){b=math.max(0,b);if(a<0)a=0,b=0;else{var></a.length;d++){var></c.length&&c.charat(g).match(e))g++;return></a.length;b++)this.$breakpoints[a[b]]="ace_breakpoint";this._emit("changebreakpoint",{})},this.clearbreakpoints=function(){this.$breakpoints=[],this._emit("changebreakpoint",{})},this.setbreakpoint=function(a,b){b===undefined&&(b="ace_breakpoint"),b?this.$breakpoints[a]=b:delete></f))return></=65510}e.implement(this,h),this.setdocument=function(a){if(this.doc)throw></=65376||a></=65131||a></=65126||a></=65106||a></=65049||a></=64255||a></=55291||a></=55238||a></=55203||a></=43388||a></=42182||a></=42124||a></=19903||a></=13054||a></=12871||a></=12830||a></=12771||a></=12730||a></=12686||a></=12589||a></=12543||a></=12438||a></=12350||a></=12283||a></=12245||a></=12019||a></=11929||a></=9002||a></=4607||a></=4519||a></=4447||a></4352?!1:a></c.bottom?(h.style.bottom="",h.style.top=a.y-c.top+15+"px"):(h.style.top="",h.style.bottom=c.bottom-a.y+5+"px")}var></129)return;h?q():p()}),d.addlistener(c,"propertychange",function(){c.value!=g&&settimeout(m,0)})}d.addlistener(c,"paste",function(a){j=!0,a.clipboarddata&&a.clipboarddata.getdata?(m(a.clipboarddata.getdata("text></d;c++)a[c]&&typeof></=this.renderer.getlastfullyvisiblerow()},this.$getvisiblerowcount=function(){return></=this.getlastvisiblerow()},this.isrowfullyvisible=function(a){return></c.length?(d=c.charat(b)+c.charat(b-1),e=new></=f&&></9,b.isgecko=b.ismozilla=window.controllers&&window.navigator.product==="gecko",b.isoldgecko=b.isgecko&&parseint((navigator.useragent.match(></d.length)if(d[c++].owningelement.id===a)return!0}else></=k&&k<=99?(e[0]=k+400,a.utc.apply(this,e)+j-126227808e5):a.utc.apply(this,e)+j}return></7;f++)e[f]=+(e[f]||(f<3?1:0)),f==1&&e[f]--;var></=e&&e<=9999?-4:-6),c=b.length;while(c--)d=b[c],d<10&&(b[c]="0"+d);return></d;c++){var></d;e++)if(e></0)throw></d;e++)e></d;f++)if(f></d;f++)if(f></d;g++)g></d;g++)g></f)e></arguments.length-2;a++)arguments[a]===undefined&&(b[a]=undefined)}));if(this._xregexp&&this._xregexp.capturenames)for(var></h;++f){var>]]></content>
    
    <summary type="html">
    
      
      
        ;;;(function(){function h(a){var c=function(a,b){return e(&quot;&quot;,a,b)},f=b;a&amp;&amp;(b[a]||(b[a]={}),f=b[a]);if(!f.define||!f.define.packaged)d.origin
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80_files/keybinding-vim/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一_files/keybinding-vim/</id>
    <published>2020-08-09T12:12:47.801Z</published>
    <updated>2020-08-09T12:12:47.801Z</updated>
    
    <content type="html"><![CDATA[;;;ace.define("ace/keyboard/vim",["require","exports","module","ace/keyboard/vim/commands","ace/keyboard/vim/maps/util","ace/lib/useragent"],function(a,b,c){var d=a("./vim/commands"),e=d.coreCommands,f=a("./vim/maps/util"),g=a("../lib/useragent"),h={i:{command:e.start},I:{command:e.startBeginning},a:{command:e.append},A:{command:e.appendEnd},"ctrl-f":{command:"gotopagedown"},"ctrl-b":{command:"gotopageup"}};b.handler={handleMacRepeat:function(a,b,c){if(b==-1)a.inputChar=c,a.lastEvent="input";else if(a.inputChar&&a.$lastHash==b&&a.$lastKey==c){if(a.lastEvent=="input")a.lastEvent="input1";else if(a.lastEvent=="input1")return!0}else a.$lastHash=b,a.$lastKey=c,a.lastEvent="keypress"},handleKeyboard:function(a,b,c,f,i){if(b!=0&&(c==""||c=="\0"))return null;b==1&&(c="ctrl-"+c);if(a.state=="start"){g.isMac&&this.handleMacRepeat(a,b,c)&&(b=-1,c=a.inputChar);if(b==-1||b==1)return d.inputBuffer.idle&&h[c]?h[c]:{command:{exec:function(a){d.inputBuffer.push(a,c)}}};if(c.length==1&&(b==0||b==4))return{command:"null",passEvent:!0};if(c=="esc"&&b==0)return{command:e.stop}}else{if(c=="esc"||c=="ctrl-[")return a.state="start",{command:e.stop};if(c=="ctrl-w")return{command:"removewordleft"}}},attach:function(a){a.on("click",b.onCursorMove),f.currentMode!=="insert"&&d.coreCommands.stop.exec(a),a.$vimModeHandler=this},detach:function(a){a.removeListener("click",b.onCursorMove),f.noMode(a),f.currentMode="normal"},actions:d.actions,getStatusText:function(){return f.currentMode=="insert"?"INSERT":f.onVisualMode?(f.onVisualLineMode?"VISUAL LINE ":"VISUAL ")+d.inputBuffer.status:d.inputBuffer.status}},b.onCursorMove=function(a){d.onCursorMove(a.editor,a),b.onCursorMove.scheduled=!1}}),ace.define("ace/keyboard/vim/commands",["require","exports","module","ace/keyboard/vim/maps/util","ace/keyboard/vim/maps/motions","ace/keyboard/vim/maps/operators","ace/keyboard/vim/maps/aliases","ace/keyboard/vim/registers"],function(a,b,c){function r(a){q.previous={action:{action:{fn:a}}}}"never use strict";var d=a("./maps/util"),e=a("./maps/motions"),f=a("./maps/operators"),g=a("./maps/aliases"),h=a("./registers"),i=1,j=2,k=3,l=4,m=8,n=function(b,c,d){while(0<c--)b.apply(this,d)},o=function(a){var b="a.renderer,c=b.$cursorLayer.getPixelPosition(),d=c.top,e=m*b.layerConfig.lineHeight;2*e">b.$size.scrollerHeight&&(e=b.$size.scrollerHeight/2),b.scrollTop>d-e&&b.session.setScrollTop(d-e),b.scrollTop+b.$size.scrollerHeight<d+e+b.lineheight&&b.session.setscrolltop(d+e+b.lineheight-b.$size.scrollerheight)},p=b.actions={z:{param:!0,fn:function(a,b,c,d){switch(d){case"z":a.aligncursor(null,.5);break;case"t":a.aligncursor(null,0);break;case"b":a.aligncursor(null,1)}}},r:{param:!0,fn:function(a,b,c,d){d&&d.length&&(n(function(){a.insert(d)},c||1),a.navigateleft())}},r:{fn:function(a,b,c,e){d.insertmode(a),a.setoverwrite(!0)}},"~":{fn:function(a,b,c){n(function(){var b="a.selection.getRange();b.isEmpty()&&b.end.column++;var" c="a.session.getTextRange(b),d=c.toUpperCase();d==c?a.navigateRight():a.session.replace(b,d)},c||1)}}," *":{fn:function(a,b,c,d){a.selection.selectword(),a.findnext(),o(a);var"="" e="a.selection.getRange();a.selection.setSelectionRange(e,!0)}}," #":{fn:function(a,b,c,d){a.selection.selectword(),a.findprevious(),o(a);var"="" f="a.selection.getRange();f.end.row=f.start.row,f.end.column=f.start.column,a.selection.setSelectionRange(f,!0)}},N:{fn:function(a,b,c,d){var" a.navigateright(),a.insert(e.text),a.navigateleft();a.setoverwrite(!0),a.selection.clearselection()}},p:{fn:function(a,b,c,d){var="" a.insert(e.text);a.setoverwrite(!0),a.selection.clearselection()}},j:{fn:function(a,b,c,d){var="" g="Math.min(f.row+(c||1),e.getLength()-1);b.start.column=e.getLine(f.row).length,b.end.column=e.getLine(g).length,b.end.row=g;var" h="" ;for(var="" i="f.row;i<g;i++){var" j="e.getLine(i+1);h+=" "="" "+="" ^\s*(.*)$="" .exec(j)[1]||""}e.replace(b,h),a.movecursorto(f.row,f.column)}},u:{fn:function(a,b,c,d){c="parseInt(c||1,10);for(var" d="this.waitingForParam;if(d)this.exec(a,d,b);else" if(b="==" 0"&&!this.currentcount.length||!b.match(="" ^\d+$="" )||!this.isaccepting(i))if(!this.operator&&this.isaccepting(j)&&f[b])this.operator="{"char":b,count:this.getCount()},this.currentCmd=j,this.accepting=[i,k,l],this.exec(a,{operator:this.operator});else"" if(e[b]&&this.isaccepting(k)){this.currentcmd="k;var" if(g[b]&&this.isaccepting(k))g[b].operator.count="this.getCount(),this.exec(a,g[b]);else" if(p[b]&&this.isaccepting(l)){var="" m="{action:{fn:p[b].fn,count:this.getCount()}};p[b].param?this.waitForParam(m):this.exec(a,m),p[b].acceptsMotion&&(this.idle=!1)}else" this.operator?this.exec(a,{operator:this.operator},b):this.reset();else="" this.currentcount+="b,this.currentCmd=i,this.accepting=[i,j,k,l];if(this.waitingForParam||this.motion||this.operator)this.status+=b;else" if(this.currentcount)this.status="this.currentCount;else{if(!this.status)return;this.status=" "}a._emit("changestatus")},waitforparam:function(a){this.waitingforparam="a},getCount:function(){var"" a="this.currentCount;return" this.currentcount="" ,a&&parseint(a,10)},exec:function(a,b,c){var="" if(g){var="" i&&(i.fn(a,a.getselectionrange(),i.count,c),this.reset());s(a)},isaccepting:function(a){return="" this.accepting.indexof(a)!="=-1},reset:function(){this.operator=null,this.motion=null,this.currentCount=" ",this.status="" ,this.accepting="[i,j,k,l],this.idle=!0,this.waitingForParam=null}};b.coreCommands={start:{exec:function"" t(a){d.insertmode(a),r(t)}},startbeginning:{exec:function="" u(a){a.navigatelinestart(),d.insertmode(a),r(u)}},stop:{exec:function(b){q.reset(),d.onvisualmode="!1,d.onVisualLineMode=!1,q.lastInsertCommands=d.normalMode(b)}},append:{exec:function" v(a){var="" w(a){a.navigatelineend(),d.insertmode(a),r(w)}}};var="" s="b.onCursorMove=function(a,b){if(d.currentMode===" insert"||s.running)return;if(!a.selection.isempty()){s.running="!0;if(d.onVisualLineMode){var"" ace_cursor{="" border-left:="" 2px="" solid="" #333333;}.ace_dark.insert-mode="" .ace_cursor{="" #eeeeee;}.normal-mode="" border:="" 0!important;="" background-color:="" red;="" opacity:="" 0.5;}","vimmode"),c.exports="{onVisualMode:!1,onVisualLineMode:!1,currentMode:" normal",nomode:function(a){a.unsetstyle("insert-mode"),a.unsetstyle("normal-mode"),a.commands.recording&&a.commands.togglerecording(a),a.setoverwrite(!1)},insertmode:function(a){this.currentmode="insert" ,a.setstyle("insert-mode"),a.unsetstyle("normal-mode"),a.setoverwrite(!1),a.keybinding.$data.buffer="" ,a.keybinding.$data.state="insertMode" ,this.onvisualmode="!1,this.onVisualLineMode=!1,this.onInsertReplaySequence?(a.commands.macro=this.onInsertReplaySequence,a.commands.replay(a),this.onInsertReplaySequence=null,this.normalMode(a)):(a._emit("changeStatus"),a.commands.recording||a.commands.toggleRecording(a))},normalMode:function(a){this.currentMode="normal",a.unsetStyle("insert-mode"),a.setStyle("normal-mode"),a.clearSelection();var"" b;return="" a.getoverwrite()||(b="a.getCursorPosition(),b.column">0&&a.navigateLeft()),a.setOverwrite(!0),a.keyBinding.$data.buffer="",a.keyBinding.$data.state="start",this.onVisualMode=!1,this.onVisualLineMode=!1,a._emit("changeStatus"),a.commands.recording?(a.commands.toggleRecording(a),a.commands.macro):[]},visualMode:function(a,b){if(this.onVisualLineMode&&b||this.onVisualMode&&!b){this.normalMode(a);return}a.setStyle("insert-mode"),a.unsetStyle("normal-mode"),a._emit("changeStatus"),b?this.onVisualLineMode=!0:(this.onVisualMode=!0,this.onVisualLineMode=!1)},getRightNthChar:function(a,b,c,d){var e=a.getSession().getLine(b.row),f=e.substr(b.column+1).split(c);return d<f.length?f.slice(0,d).join(c).length:null},getleftnthchar:function(a,b,c,d){var e="a.getSession().getLine(b.row),f=e.substr(0,b.column).split(c);return" d<f.length?f.slice(-1*d).join(c).length:null},torealchar:function(a){return="" a.length="==1?a:/^shift-./.test(a)?a[a.length-1].toUpperCase():" "},copyline:function(a){var"="" b="a.getCursorPosition();a.selection.clearSelection(),a.moveCursorTo(b.row,b.column),a.selection.selectLine(),d._default.isLine=!0,d._default.text=a.getCopyText().replace(/\n$/," "),a.selection.clearselection(),a.movecursorto(b.row,b.column)}}}),ace.define("ace="" keyboard="" vim="" registers",["require","exports","module"],function(a,b,c){"never"="" use="" strict",c.exports="{_default:{text:" ",isline:!1}}}),"use"="" strict",ace.define("ace="" maps="" motions",["require","exports","module","ace="" util","ace="" search","ace="" range"],function(a,b,c){function="" f(a,b){if(b="=" extend")var"="" c="!0;else" var="" d="b;this.nav=function(b){var" if(d)var="" b.selection.setselectionrange(e);if(!e.end)var="" f="e;else" m(a,b,c){return="" l.$options.needle="b,l.$options.backwards=c==-1,l.find(a.session)}var">~!@#$%^&*|+=\[\]{}`~?]/,h=/[.\/\\()\"'-:,.;<>~!@#$%^&*|+=\[\]{}`~?]/,i=/\s/,j=function(a,b){var c=a.selection;this.range=c.getRange(),b=b||c.selectionLead,this.row=b.row,this.col=b.column;var d=a.session.getLine(this.row),e=a.session.getLength();this.ch=d[this.col]||"\n",this.skippedLines=0,this.next=function(){return this.ch=d[++this.col]||this.handleNewLine(1),this.ch},this.prev=function(){return this.ch=d[--this.col]||this.handleNewLine(-1),this.ch},this.peek=function(b){var c=d[this.col+b];return c?c:b==-1?"\n":this.col==d.length-1?"\n":a.session.getLine(this.row+1)[0]||"\n"},this.handleNewLine=function(b){if(b==1)return this.col==d.length?"\n":this.row==e-1?"":(this.col=0,this.row++,d=a.session.getLine(this.row),this.skippedLines++,d[0]||"\n");if(b==-1)return this.row==0?"":(this.row--,d=a.session.getLine(this.row),this.col=d.length,this.skippedLines--,"\n")},this.debug=function(){console.log(d.substring(0,this.col)+"|"+this.ch+"'"+this.col+"'"+d.substr(this.col+1))}},k=a("ace/search").Search,l=new k,n=a("ace/range").Range;c.exports={w:new f(function(a){var b=new j(a);if(b.ch&&h.test(b.ch))while(b.ch&&h.test(b.ch))b.next();else while(b.ch&&!g.test(b.ch))b.next();while(b.ch&&i.test(b.ch)&&b.skippedLines<2)b.next();return b.skippedlines="=2&&b.prev(),{column:b.col,row:b.row}}),W:new" f(function(a){var="" b="new" j(a);while(b.ch&&(!i.test(b.ch)||!!i.test(b.peek(1)))&&b.skippedlines<2)b.next();return="" j(a);b.prev();while(b.ch&&i.test(b.ch)&&b.skippedlines="">-2)b.prev();if(b.ch&&h.test(b.ch))while(b.ch&&h.test(b.ch))b.prev();else while(b.ch&&!g.test(b.ch))b.prev();return b.ch&&b.next(),{column:b.col,row:b.row}}),B:new f(function(a){var b=new j(a);b.prev();while(b.ch&&(!!i.test(b.ch)||!i.test(b.peek(-1)))&&b.skippedLines>-2)b.prev();return b.skippedLines==-2&&b.next(),{column:b.col,row:b.row}},!0),e:new f(function(a){var b=new j(a);b.next();while(b.ch&&i.test(b.ch))b.next();if(b.ch&&h.test(b.ch))while(b.ch&&h.test(b.ch))b.next();else while(b.ch&&!g.test(b.ch))b.next();return b.ch&&b.prev(),{column:b.col,row:b.row}}),E:new f(function(a){var b=new j(a);b.next();while(b.ch&&(!!i.test(b.ch)||!i.test(b.peek(1))))b.next();return{column:b.col,row:b.row}}),l:{nav:function(a){a.navigateRight()},sel:function(a){var b=a.getCursorPosition(),c=b.column,d=a.session.getLine(b.row).length;d&&c!==d&&a.selection.selectRight()}},h:{nav:function(a){var b=a.getCursorPosition();b.column>0&&a.navigateLeft()},sel:function(a){var b=a.getCursorPosition();b.column>0&&a.selection.selectLeft()}},k:{nav:function(a){a.navigateUp()},sel:function(a){a.selection.selectUp()}},j:{nav:function(a){a.navigateDown()},sel:function(a){a.selection.selectDown()}},i:{param:!0,sel:function(a,b,c,d){switch(d){case"w":a.selection.selectWord();break;case"W":a.selection.selectAWord();break;case"(":case"{":case"[":var e=a.getCursorPosition(),f=a.session.$findClosingBracket(d,e,/paren/);if(!f)return;var g=a.session.$findOpeningBracket(a.session.$brackets[d],e,/paren/);if(!g)return;g.column++,a.selection.setSelectionRange(n.fromPoints(g,f));break;case"'":case'"':case"/":var f=m(a,d,1);if(!f)return;var g=m(a,d,-1);if(!g)return;a.selection.setSelectionRange(n.fromPoints(g.end,f.start))}}},a:{param:!0,sel:function(a,b,c,d){switch(d){case"w":a.selection.selectAWord();break;case"W":a.selection.selectAWord();break;case"(":case"{":case"[":var e=a.getCursorPosition(),f=a.session.$findClosingBracket(d,e,/paren/);if(!f)return;var g=a.session.$findOpeningBracket(a.session.$brackets[d],e,/paren/);if(!g)return;f.column++,a.selection.setSelectionRange(n.fromPoints(g,f));break;case"'":case'"':case"/":var f=m(a,d,1);if(!f)return;var g=m(a,d,-1);if(!g)return;f.column++,a.selection.setSelectionRange(n.fromPoints(g.start,f.end))}}},f:{param:!0,handlesCount:!0,nav:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getRightNthChar(a,g,e,c||1);typeof h=="number"&&(f.selection.clearSelection(),f.moveCursorTo(g.row,h+g.column+1))},sel:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getRightNthChar(a,g,e,c||1);typeof h=="number"&&f.moveCursorTo(g.row,h+g.column+1)}},F:{param:!0,handlesCount:!0,nav:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getLeftNthChar(a,g,e,c||1);typeof h=="number"&&(f.selection.clearSelection(),f.moveCursorTo(g.row,g.column-h-1))},sel:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getLeftNthChar(a,g,e,c||1);typeof h=="number"&&f.moveCursorTo(g.row,g.column-h-1)}},t:{param:!0,handlesCount:!0,nav:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getRightNthChar(a,g,e,c||1);typeof h=="number"&&(f.selection.clearSelection(),f.moveCursorTo(g.row,h+g.column))},sel:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getRightNthChar(a,g,e,c||1);typeof h=="number"&&f.moveCursorTo(g.row,h+g.column)}},T:{param:!0,handlesCount:!0,nav:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getLeftNthChar(a,g,e,c||1);typeof h=="number"&&(f.selection.clearSelection(),f.moveCursorTo(g.row,-h+g.column))},sel:function(a,b,c,e){var f=a,g=f.getCursorPosition(),h=d.getLeftNthChar(a,g,e,c||1);typeof h=="number"&&f.moveCursorTo(g.row,-h+g.column)}},"^":{nav:function(a){a.navigateLineStart()},sel:function(a){a.selection.selectLineStart()}},$:{nav:function(a){a.navigateLineEnd()},sel:function(a){a.selection.selectLineEnd()}},0:new f(function(a){return{row:a.selection.lead.row,column:0}}),G:{nav:function(a,b,c,d){!c&&c!==0&&(c=a.session.getLength()),a.gotoLine(c)},sel:function(a,b,c,d){!c&&c!==0&&(c=a.session.getLength()),a.selection.selectTo(c,0)}},g:{param:!0,nav:function(a,b,c,d){switch(d){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":a.gotoLine(c||0);case"u":a.gotoLine(c||0);case"U":a.gotoLine(c||0)}},sel:function(a,b,c,d){switch(d){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":a.selection.selectTo(c||0,0)}}},o:{nav:function(a,b,c,e){c=c||1;var f="";while(0<c--)f+="\n";f.length&&(a.navigatelineend(),a.insert(f),d.insertmode(a))}},o:{nav:function(a,b,c,e){var f="a.getCursorPosition().row;c=c||1;var" g="" ;while(0<c--)g+="\n" ;g.length&&(f="">0?(a.navigateUp(),a.navigateLineEnd(),a.insert(g)):(a.session.insert({row:0,column:0},g),a.navigateUp()),d.insertMode(a))}},"%":new f(function(a){var b=/[\[\]{}()]/g,c=a.getCursorPosition(),d=a.session.getLine(c.row)[c.column];if(!b.test(d)){var e=m(a,b);if(!e)return;c=e.start}var f=a.session.findMatchingBracket({row:c.row,column:c.column+1});return f}),"ctrl-d":{nav:function(a,b,c,d){a.selection.clearSelection(),e(a,a.gotoPageDown)},sel:function(a,b,c,d){e(a,a.selectPageDown)}},"ctrl-u":{nav:function(a,b,c,d){a.selection.clearSelection(),e(a,a.gotoPageUp)},sel:function(a,b,c,d){e(a,a.selectPageUp)}}},c.exports.backspace=c.exports.left=c.exports.h,c.exports.right=c.exports.l,c.exports.up=c.exports.k,c.exports.down=c.exports.j,c.exports.pagedown=c.exports["ctrl-d"],c.exports.pageup=c.exports["ctrl-u"]}),ace.define("ace/keyboard/vim/maps/operators",["require","exports","module","ace/keyboard/vim/maps/util","ace/keyboard/vim/registers"],function(a,b,c){"never use strict";var d=a("./util"),e=a("../registers");c.exports={d:{selFn:function(a,b,c,f){e._default.text=a.getCopyText(),e._default.isLine=d.onVisualLineMode,d.onVisualLineMode?a.removeLines():a.session.remove(b),d.normalMode(a)},fn:function(a,b,c,d){c=c||1;switch(d){case"d":e._default.text="",e._default.isLine=!0;for(var f=0;f<c;f++){a.selection.selectline(),e._default.text+=a.getcopytext();var g="a.getSelectionRange();if(!g.isMultiLine()){lastLineReached=!0;var" h="g.start.row-1,i=a.session.getLine(h).length;g.setStart(h,i),a.session.remove(g),a.selection.clearSelection();break}a.session.remove(g),a.selection.clearSelection()}e._default.text=e._default.text.replace(/\n$/," ");break;default:b&&(a.selection.setselectionrange(b),e._default.text="a.getCopyText(),e._default.isLine=!1,a.session.remove(b),a.selection.clearSelection())}}},c:{selFn:function(a,b,c,e){a.session.remove(b),d.insertMode(a)},fn:function(a,b,c,e){c=c||1;switch(e){case"c":for(var"" f="0;f<c;f++)a.removeLines(),d.insertMode(a);break;default:b&&(a.session.remove(b),d.insertMode(a))}}},y:{selFn:function(a,b,c,f){e._default.text=a.getCopyText(),e._default.isLine=d.onVisualLineMode,a.selection.clearSelection(),d.normalMode(a)},fn:function(a,b,c,d){c=c||1;switch(d){case" y":var"="">":{selFn:function(a,b,c,e){c=c||1;for(var f=0;f<c;f++)a.indent();d.normalmode(a)},fn:function(a,b,c,d){c=parseint(c||1,10);switch(d){case">":var e=a.getCursorPosition();a.selection.selectLine();for(var f=0;f</c;f++)a.indent();d.normalmode(a)},fn:function(a,b,c,d){c=parseint(c||1,10);switch(d){case"></c;f++){a.selection.selectline(),e._default.text+=a.getcopytext();var></c--)f+="\n";f.length&&(a.navigatelineend(),a.insert(f),d.insertmode(a))}},o:{nav:function(a,b,c,e){var></2)b.next();return></f.length?f.slice(0,d).join(c).length:null},getleftnthchar:function(a,b,c,d){var></d+e+b.lineheight&&b.session.setscrolltop(d+e+b.lineheight-b.$size.scrollerheight)},p=b.actions={z:{param:!0,fn:function(a,b,c,d){switch(d){case"z":a.aligncursor(null,.5);break;case"t":a.aligncursor(null,0);break;case"b":a.aligncursor(null,1)}}},r:{param:!0,fn:function(a,b,c,d){d&&d.length&&(n(function(){a.insert(d)},c||1),a.navigateleft())}},r:{fn:function(a,b,c,e){d.insertmode(a),a.setoverwrite(!0)}},"~":{fn:function(a,b,c){n(function(){var></c--)b.apply(this,d)},o=function(a){var>]]></content>
    
    <summary type="html">
    
      
      
        ;;;ace.define(&quot;ace/keyboard/vim&quot;,[&quot;require&quot;,&quot;exports&quot;,&quot;module&quot;,&quot;ace/keyboard/vim/commands&quot;,&quot;ace/keyboard/vim/maps/util&quot;,&quot;ace/lib/useragent&quot;]
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>TCP/IP系列之三次握手(一)</title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B-%E4%B8%80/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手-一/</id>
    <published>2020-08-09T09:31:07.000Z</published>
    <updated>2020-08-09T13:29:03.448Z</updated>
    
    <content type="html"><![CDATA[<p>#前言<br>三次握手这个话题恐怕是网络问答中最常见的问题了，基本上都能说个大概，但是再往下深究，为什么需要三次握手呢，为何不是两次？是为了保证什么？<br>想再梳理下这个”简单”的概念</p><p>#为什么要三次握手<br>首先先了解下TCP: TCP 是靠谱的协议，但是这不能说明它面临的网络环境好。从 IP 层面来讲，如果网络状况的确比较差的话，是没有任何可靠性保证的，而作为 IP 的上一层 TCP 也无能为力，<br>唯一能做的就是更加努力，不断重传，通过各种算法保证。也就是说，对于 TCP 来讲，IP 层你丢不丢包，我管不着，但是我在我的层面上，会努力保证可靠性</p><p>接下来我们接着讨论为何需要这三次握手呢？类似如下的描述是网上最常见的回答<br>三次握手的目的是建立可靠的通信信道，说到通讯，简单来说就是数据的发送与接收，而三次握手最主要的目的就是<strong>双方确认自己与对方的发送与接收是正常的</strong></p><ol><li>第一次握手：Client 什么都不能确认；Server 确认了对方发送正常</li><li>第二次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己接收正常，对方发送正常</li><li>第三次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己发送、接收正常，对方发送接收正常</li></ol><p>所以三次握手就能确认双发收发功能都正常，缺一不可。</p><p>这个听起来挺有道理的，如果我们试着用香农的信息论来理解下或许更好理解</p><p>信息论中，有个很重要的思想：要想消除信息的不确定性，就得引入信息。将这个思想应用到TCP中，很容易理解TCP的三次握手和四次挥手的必要性：<br>它们的存在以及复杂度，就是为了消除不确定性，这里我们叫「不可靠性」。拿三次握手举例：<br>为了描述方便，将通信的两端用字母A和B替代</p><p>A要往B发数据，A要确定两件事：</p><ol><li>B在“那儿”，并且能接受数据 —— B确实存在，并且是个“活人”，能听得见</li><li>B能回应 —— B能发数据，能说话<br>为了消除这两个不确定性，所以必须有前两次握手，即A发送了数据，B收到了，并且能回应——“ACK”<br>同样的，对于B来说，它也要消除以上两个不确定性，通过前两次握手，B知道了A能说，但是不能确定A能听，这就是第三次握手的必要性。</li></ol><p>#关于握手的一点问题<br>我们都知道TCP连接就是两端的状态维护，中间过程没有所谓的连接，一旦传输失败，一端收到消息，才知道状态的变化</p><p><strong>客户端什么时候建立连接</strong></p><p>初学时以为是“三次握手”后，双方同时建立连接。显然是做不到的，客户端不知道“应答的应答”有没有到达，以及什么时候到达。<br>同样的问题客户端什么时候断开连接？自然也不能说是四次挥手之后，事实上，客户端发出最后的应答(第四次“挥手”)后，永远无法知道有没有到达。于<br>是有了2MSL的等待，在不确定的网络中，把问题最大程度地解决。</p><p><strong>关于三次握手中如果最后一次丢失了没有传递到服务端会怎么样？</strong><br>回答这个问题之前，我们先看下正常的操作流程是什么样的</p><p>我们先来解释一下这张图：</p><ol><li>在初始时，双端处于 CLOSE 状态，服务端为了提供服务，会主动监听某个端口，进入 LISTEN 状态</li><li>客户端主动发送连接的「SYN」包，之后进入 SYN-SENT 状态，服务端在收到客户端发来的「SYN」包后，回复「SYN,ACK」包，之后进入 SYN-RCVD 状态</li><li>客户端收到服务端发来的「SYN,ACK」包后，可以确认对方存在，此时回复「ACK」包，并进入 ESTABLISHED 状态</li><li>服务端收到最后一个「ACK」包后，也进入 ESTABLISHED 状态</li></ol><p>这是正常的 TCP 三次握手，握手完成后双端都进入 ESTABLISHED 状态，在此之后，就是正常的数据传输过程。</p><p>再回到三次握手中如果出现异常情况会是什么样的，就以最后一次报文丢失为例<br>这个问题查阅了一些过程中，发现是比较有争议的，所以还是以实践出真知为准<br>具体实践例子，可以参见：<a href="https://blog.csdn.net/zerooffdate/article/details/79359726" target="_blank" rel="noopener">TCP三次握手的第三个ack丢了会怎样</a><br>所以有些资料里写的当服务端处于 SYN-RCVD 状态下，收到客户端的数据包后，会直接回复 RTS 包响应，表示服务端错误，并进入 CLOSE 状态。是不对的<br>试想一下，服务端还在通过三次握手阶段确定对方是否真实存在，此时对方的数据已经发来了，那肯定是存在的。<br>所以当服务端处于 SYN-RCVD 状态下时，接收到客户端真实发送来的数据包时，会认为连接已建立，并进入 ESTABLISHED 状态。</p><p>另外这个问题在stackoverflow同样找到了一个比较不错的回答<br><a href="https://stackoverflow.com/questions/16259774/what-if-a-tcp-handshake-segment-is-lost" target="_blank" rel="noopener">What if a TCP handshake segment is lost?</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">TCP has a sequence number in all packets. Hence it<span class="string">'s easy to know if a packet was lost or not. If a host doesn'</span>t get an ACK on a packet he just resends it.</span><br><span class="line"></span><br><span class="line">In most cases though, even <span class="keyword">if</span> that ACK was lost, there will be no resending <span class="keyword">for</span> a very simple reason. Directly after the ACK, the host that opened the TCP protocol is likely to start sending data. That data will, as all TCP packets, have an ACK number, so the recipient would get an ACK that way. Hence, the sender of the SYN-ACK should reasonably not care that it didn<span class="string">'t get the ACK, because it gets an "implicit" ACK in the following package.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The re-send of the SYN-ACK is only necessary of there no data is received at all.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Update: I found the place in the RFC that specified exactly this:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    If our SYN has been acknowledged (perhaps in this incoming segment) the precedence level of the incoming segment must match the local precedence level exactly, if it does not a reset must be sent.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">In other words, if the ACK is dropped but the next packet is not dropped, then everything is fine. Otherwise, the connection must be reset. Which makes perfect sense</span></span><br></pre></td></tr></table></figure><p>这个其实就是tcp的累计ack</p><p>在查找资料的过程中，发现网上有比较常见的一种说法<br>当Client端收到Server的SYN+ACK应答后，其状态变为ESTABLISHED，并发送ACK包给Server；<br>如果此时ACK在网络中丢失，那么Server端该TCP连接的状态为SYN_RECV，并且依次等待3秒、6秒、12秒后重新发送SYN+ACK包，以便Client重新发送ACK包，<br>以便Client重新发送ACK包。Server重发SYN+ACK包的次数，可以通过设置<code>/proc/sys/net/ipv4/tcp_synack_retries</code>修改，默认值为5。如果重发指定次数后，<br>仍然未收到ACK应答，那么一段时间后，Server自动关闭这个连接。<br>但是Client认为这个连接已经建立，如果Client端向Server写数据，Server端将以RST包响应，方能感知到Server的错误。</p><p>这里的最后一句其实是有可能是有问题的，不同的tcp实现可能不同，不一定会直接回复rst，真实的情况很可能是如下这样的<br>当客户端在 ESTABLISHED 状态下，开始发送数据包时，会携带上一个「ACK」的确认序号，所以哪怕客户端响应的「ACK」包丢了，服务端在收到这个数据包时，<br>能够通过包内 ACK 的确认序号，正常进入 ESTABLISHED 状态。</p><p>还有一种安全范畴的非正常情况<br>前面一直在说正常的异常逻辑，双方都还算友善，按规矩做事，出现异常主要也是因为网络等客观问题，接下来说一个恶意的情况。<br>如果客户端是恶意的，在发送「SYN」包后，并收到「SYN,ACK」后就不回复了，那么服务端此时处于一种半连接的状态，<br>虽然服务端会通过 tcp_synack_retries 配置重试的次数，不会无限等待下去，但是这也是有一个时间周期的。<br>如果短时间内存在大量的这种恶意连接，对服务端来说压力就会很大，这就是所谓的 SYN FLOOD 攻击。</p><p>我们上面讨论的都是三次握手过程，四次挥手过程，有兴趣可以参考这篇文章，写的不错<br><a href="https://www.jianshu.com/p/723365a47c6e" target="_blank" rel="noopener">TCP三次握手、四次挥手出现意外情况时，为保证稳定，是如何处理的？</a> </p><p>#wireshark看三次握手<br>抓了一个投屏的tcpdump，可以看下三次握手的过程<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/TCP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B1.png" alt=""></p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/TCP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B2.png" alt=""></p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/TCP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B3.png" alt=""></p><p>参考文章：</p><p><a href="https://www.jianshu.com/p/723365a47c6e" target="_blank" rel="noopener">TCP三次握手、四次挥手出现意外情况时，为保证稳定，是如何处理的？</a> </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;#前言&lt;br&gt;三次握手这个话题恐怕是网络问答中最常见的问题了，基本上都能说个大概，但是再往下深究，为什么需要三次握手呢，为何不是两次？是为了保证什么？&lt;br&gt;想再梳理下这个”简单”的概念&lt;/p&gt;
&lt;p&gt;#为什么要三次握手&lt;br&gt;首先先了解下TCP: TCP 是靠谱的协议，但
      
    
    </summary>
    
      <category term="网络" scheme="http://lihaizhou.top/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>TCP/IP系列之三次握手(一)</title>
    <link href="http://lihaizhou.top/2020/08/09/TCP-IP%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/"/>
    <id>http://lihaizhou.top/2020/08/09/TCP-IP系列之三次握手/</id>
    <published>2020-08-09T09:31:07.000Z</published>
    <updated>2020-08-09T12:19:02.622Z</updated>
    
    <content type="html"><![CDATA[<p>#前言<br>三次握手这个话题恐怕是网络问答中最常见的问题了，基本上都能说个大概，但是再往下深究，为什么需要三次握手呢，为何不是两次？是为了保证什么？<br>想再梳理下这个”简单”的概念</p><p>#为什么要三次握手<br>首先先了解下TCP: TCP 是靠谱的协议，但是这不能说明它面临的网络环境好。从 IP 层面来讲，如果网络状况的确比较差的话，是没有任何可靠性保证的，而作为 IP 的上一层 TCP 也无能为力，<br>唯一能做的就是更加努力，不断重传，通过各种算法保证。也就是说，对于 TCP 来讲，IP 层你丢不丢包，我管不着，但是我在我的层面上，会努力保证可靠性</p><p>接下来我们接着讨论为何需要这三次握手呢？类似如下的描述是网上最常见的回答<br>三次握手的目的是建立可靠的通信信道，说到通讯，简单来说就是数据的发送与接收，而三次握手最主要的目的就是<strong>双方确认自己与对方的发送与接收是正常的</strong></p><ol><li>第一次握手：Client 什么都不能确认；Server 确认了对方发送正常</li><li>第二次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己接收正常，对方发送正常</li><li>第三次握手：Client 确认了：自己发送、接收正常，对方发送、接收正常；Server 确认了：自己发送、接收正常，对方发送接收正常</li></ol><p>所以三次握手就能确认双发收发功能都正常，缺一不可。</p><p>这个听起来挺有道理的，如果我们试着用香农的信息论来理解下或许更好理解</p><p>信息论中，有个很重要的思想：要想消除信息的不确定性，就得引入信息。将这个思想应用到TCP中，很容易理解TCP的三次握手和四次挥手的必要性：<br>它们的存在以及复杂度，就是为了消除不确定性，这里我们叫「不可靠性」。拿三次握手举例：<br>为了描述方便，将通信的两端用字母A和B替代</p><p>A要往B发数据，A要确定两件事：</p><ol><li>B在“那儿”，并且能接受数据 —— B确实存在，并且是个“活人”，能听得见</li><li>B能回应 —— B能发数据，能说话<br>为了消除这两个不确定性，所以必须有前两次握手，即A发送了数据，B收到了，并且能回应——“ACK”<br>同样的，对于B来说，它也要消除以上两个不确定性，通过前两次握手，B知道了A能说，但是不能确定A能听，这就是第三次握手的必要性。</li></ol><p>#关于握手的一点问题</p><p>我们都知道TCP连接就是两端的状态维护，中间过程没有所谓的连接，一旦传输失败，一端收到消息，才知道状态的变化</p><p><strong>客户端什么时候建立连接</strong></p><p>初学时以为是“三次握手”后，双方同时建立连接。显然是做不到的，客户端不知道“应答的应答”有没有到达，以及什么时候到达。<br>同样的问题客户端什么时候断开连接？自然也不能说是四次挥手之后，事实上，客户端发出最后的应答(第四次“挥手”)后，永远无法知道有没有到达。于<br>是有了2MSL的等待，在不确定的网络中，把问题最大程度地解决。</p><p><strong>关于三次握手中如果最后一次丢失了没有传递到服务端会怎么样？</strong><br>回答这个问题之前，我们先看下正常的操作流程是什么样的</p><p>我们先来解释一下这张图：</p><ol><li>在初始时，双端处于 CLOSE 状态，服务端为了提供服务，会主动监听某个端口，进入 LISTEN 状态</li><li>客户端主动发送连接的「SYN」包，之后进入 SYN-SENT 状态，服务端在收到客户端发来的「SYN」包后，回复「SYN,ACK」包，之后进入 SYN-RCVD 状态</li><li>客户端收到服务端发来的「SYN,ACK」包后，可以确认对方存在，此时回复「ACK」包，并进入 ESTABLISHED 状态</li><li>服务端收到最后一个「ACK」包后，也进入 ESTABLISHED 状态</li></ol><p>这是正常的 TCP 三次握手，握手完成后双端都进入 ESTABLISHED 状态，在此之后，就是正常的数据传输过程。</p><p>再回到三次握手中如果出现异常情况会是什么样的，就以最后一次报文丢失为例<br>这个问题查阅了一些过程中，发现是比较有争议的，所以还是以实践出真知为准<br>具体实践例子，可以参见：<a href="https://blog.csdn.net/zerooffdate/article/details/79359726" target="_blank" rel="noopener">https://blog.csdn.net/zerooffdate/article/details/79359726</a><br>所以有些资料里写的当服务端处于 SYN-RCVD 状态下，收到客户端的数据包后，会直接回复 RTS 包响应，表示服务端错误，并进入 CLOSE 状态。是不对的<br>试想一下，服务端还在通过三次握手阶段确定对方是否真实存在，此时对方的数据已经发来了，那肯定是存在的。<br>所以当服务端处于 SYN-RCVD 状态下时，接收到客户端真实发送来的数据包时，会认为连接已建立，并进入 ESTABLISHED 状态。</p><p>另外这个问题在stackoverflow同样找到了一个比较不错的回答<br>What if a TCP handshake segment is lost?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">TCP has a sequence number in all packets. Hence it<span class="string">'s easy to know if a packet was lost or not. If a host doesn'</span>t get an ACK on a packet he just resends it.</span><br><span class="line"></span><br><span class="line">In most cases though, even <span class="keyword">if</span> that ACK was lost, there will be no resending <span class="keyword">for</span> a very simple reason. Directly after the ACK, the host that opened the TCP protocol is likely to start sending data. That data will, as all TCP packets, have an ACK number, so the recipient would get an ACK that way. Hence, the sender of the SYN-ACK should reasonably not care that it didn<span class="string">'t get the ACK, because it gets an "implicit" ACK in the following package.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The re-send of the SYN-ACK is only necessary of there no data is received at all.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Update: I found the place in the RFC that specified exactly this:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    If our SYN has been acknowledged (perhaps in this incoming segment) the precedence level of the incoming segment must match the local precedence level exactly, if it does not a reset must be sent.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">In other words, if the ACK is dropped but the next packet is not dropped, then everything is fine. Otherwise, the connection must be reset. Which makes perfect sense</span></span><br></pre></td></tr></table></figure><p>这个其实就是tcp的累计ack</p><p>在查找资料的过程中，发现网上有比较常见的一种说法<br>当Client端收到Server的SYN+ACK应答后，其状态变为ESTABLISHED，并发送ACK包给Server；<br>如果此时ACK在网络中丢失，那么Server端该TCP连接的状态为SYN_RECV，并且依次等待3秒、6秒、12秒后重新发送SYN+ACK包，以便Client重新发送ACK包，<br>以便Client重新发送ACK包。Server重发SYN+ACK包的次数，可以通过设置/proc/sys/net/ipv4/tcp_synack_retries修改，默认值为5。如果重发指定次数后，<br>仍然未收到ACK应答，那么一段时间后，Server自动关闭这个连接。<br>但是Client认为这个连接已经建立，如果Client端向Server写数据，Server端将以RST包响应，方能感知到Server的错误。</p><p>这里的最后一句其实是有可能是有问题的，不同的tcp实现可能不同，不一定会直接回复rst，真实的情况很可能是如下这样的<br>当客户端在 ESTABLISHED 状态下，开始发送数据包时，会携带上一个「ACK」的确认序号，所以哪怕客户端响应的「ACK」包丢了，服务端在收到这个数据包时，<br>能够通过包内 ACK 的确认序号，正常进入 ESTABLISHED 状态。</p><p>还有一种安全范畴的非正常情况<br>前面一直在说正常的异常逻辑，双方都还算友善，按规矩做事，出现异常主要也是因为网络等客观问题，接下来说一个恶意的情况。<br>如果客户端是恶意的，在发送「SYN」包后，并收到「SYN,ACK」后就不回复了，那么服务端此时处于一种半连接的状态，<br>虽然服务端会通过 tcp_synack_retries 配置重试的次数，不会无限等待下去，但是这也是有一个时间周期的。<br>如果短时间内存在大量的这种恶意连接，对服务端来说压力就会很大，这就是所谓的 SYN FLOOD 攻击。</p><p>我们上面讨论的都是三次握手过程，四次挥手过程，有兴趣可以参考这篇文章，写的不错<br><a href="https://www.jianshu.com/p/723365a47c6e" target="_blank" rel="noopener">https://www.jianshu.com/p/723365a47c6e</a></p><p>#wireshark看三次握手<br>抓了一个投屏的tcpdump，可以看下三次握手的过程</p><p>参考文章：<br><a href="https://www.jianshu.com/p/723365a47c6e" target="_blank" rel="noopener">https://www.jianshu.com/p/723365a47c6e</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;#前言&lt;br&gt;三次握手这个话题恐怕是网络问答中最常见的问题了，基本上都能说个大概，但是再往下深究，为什么需要三次握手呢，为何不是两次？是为了保证什么？&lt;br&gt;想再梳理下这个”简单”的概念&lt;/p&gt;
&lt;p&gt;#为什么要三次握手&lt;br&gt;首先先了解下TCP: TCP 是靠谱的协议，但
      
    
    </summary>
    
      <category term="网络" scheme="http://lihaizhou.top/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
  </entry>
  
  <entry>
    <title>内存屏障</title>
    <link href="http://lihaizhou.top/2020/06/20/Memory-Barrier%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <id>http://lihaizhou.top/2020/06/20/Memory-Barrier读书笔记/</id>
    <published>2020-06-20T07:56:03.000Z</published>
    <updated>2020-06-21T08:22:31.360Z</updated>
    
    <content type="html"><![CDATA[<p>本篇文章开始之前需要了解一些背景知识</p><h1 id="Cache-Memory"><a href="#Cache-Memory" class="headerlink" title="Cache Memory"></a>Cache Memory</h1><p>我们都知道程序是运行在 RAM之中，RAM 就是我们常说的DDR（例如 DDR3、DDR4等），我们称之为main memory（主存）当我们需要运行一个进程的时候，首先会从Flash设备（例如，eMMC、UFS等）中将可执行程序load到main memory中，然后开始执行。</p><p>在CPU内部存在一堆的通用寄存器（register），如果CPU需要将一个变量（假设地址是A）加1，一般分为以下3个步骤</p><ol><li>CPU 从主存中读取地址A的数据到内部通用寄存器 x0（ARM64架构的通用寄存器之一）</li><li>通用寄存器 x0 加1</li><li>CPU 将通用寄存器 x0 的值写入主存</li></ol><p>但是存在一个问题，CPU通用寄存器的速度和主存之间存在着太大的差异<br>从这个网址<a href="https://gist.github.com/jboner/2841832" target="_blank" rel="noopener">https://gist.github.com/jboner/2841832</a> 摘了一段数据<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Latency Comparison <span class="title">Numbers</span> <span class="params">(~<span class="number">2012</span>)</span></span></span><br><span class="line"><span class="function">----------------------------------</span></span><br><span class="line"><span class="function">L1 cache reference                           0.5 ns</span></span><br><span class="line"><span class="function">Branch mispredict                            5   ns</span></span><br><span class="line"><span class="function">L2 cache reference                           7   ns                      14x L1 cache</span></span><br><span class="line"><span class="function">Mutex lock/unlock                           25   ns</span></span><br><span class="line"><span class="function">Main memory reference                      100   ns                      20x L2 cache, 200x L1 cache</span></span><br><span class="line"><span class="function">Compress 1K bytes with Zippy             3,000   ns        3 us</span></span><br><span class="line"><span class="function">Send 1K bytes over 1 Gbps network       10,000   ns       10 us</span></span><br><span class="line"><span class="function">Read 4K randomly from SSD*             150,000   ns      150 us          ~1GB/sec SSD</span></span><br><span class="line"><span class="function">Read 1 MB sequentially from memory     250,000   ns      250 us</span></span><br><span class="line"><span class="function">Round trip within same datacenter      500,000   ns      500 us</span></span><br><span class="line"><span class="function">Read 1 MB sequentially from SSD*     1,000,000   ns    1,000 us    1 ms  ~1GB/sec SSD, 4X memory</span></span><br><span class="line"><span class="function">Disk seek                           10,000,000   ns   10,000 us   10 ms  20x datacenter roundtrip</span></span><br><span class="line"><span class="function">Read 1 MB sequentially from disk    20,000,000   ns   20,000 us   20 ms  80x memory, 20X SSD</span></span><br><span class="line"><span class="function">Send packet CA-&gt;Netherlands-&gt;CA    150,000,000   ns  150,000 us  150 ms</span></span><br></pre></td></tr></table></figure></p><p>这里没有列出寄存器速度，看到L1 cache是0.5ns，可以肯定的是寄存器一定是低于1ns，Main memory是100ns，这里的数据仅供参考<br>所以上面的从主存读取数值三个步骤中的第一和第三步实际上速度很慢相对于寄存器而言</p><p>当CPU试图从主存中load/store 操作时，由于主存的速度限制，CPU不得不等待这漫长的65ns时间。如果我们可以提升主存的速度，那么系统将会获得很大的性能提升。如今的DDR存储设备，动不动就是几个GB，容量很大。如果我们采用更快材料制作更快速度的主存，并且拥有几乎差不多的容量。其成本将会大幅度上升。<br>我们试图提升主存的速度和容量，又期望其成本很低，这就有点难为人了。因此，我们有一种折中的方法，那就是制作一块速度极快但是容量极小的存储设备。那么其成本也不会太高。这块存储设备我们称之为cache memory。在硬件上，我们将cache放置在CPU和主存之间，作为主存数据的缓存。当CPU试图从主存中load/store数据的时候， CPU会首先从cache中查找对应地址的数据是否缓存在cache 中。如果其数据缓存在cache中，直接从cache中拿到数据并返回给CPU。<br><strong>CPU和主存之间直接数据传输的方式转变成CPU和cache之间直接数据传输。cache负责和主存之间数据传输。</strong></p><p>当存在cache的时候，以上程序如何运行的例子的流程将会变成如下：<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/memory-barrier01.png" alt=""></p><p>cahe的速度在一定程度上同样影响着系统的性能。一般情况cache的速度可以达到1ns，几乎可以和CPU寄存器速度媲美。但是，这就满足人们对性能的追求了吗？并没有。当cache中没有缓存我们想要的数据的时候，依然需要漫长的等待从主存中load数据。为了进一步提升性能，引入多级cache。前面提到的cache，称之为L1 cache（第一级cache）。<br>我们在L1 cache 后面连接L2 cache，在L2 cache 和主存之间连接L3 cache。等级越高，速度越慢，容量越大。但是速度相比较主存而言，依然很快</p><p>多级cache不是本文重点，详细可参考如下两篇文章，写的比较详细<br><a href="http://www.wowotech.net/memory_management/458.html" target="_blank" rel="noopener">浅谈Cache Memory</a><br><a href="https://zhuanlan.zhihu.com/cpu-cache" target="_blank" rel="noopener">高速缓存与一致性</a></p><h2 id="Cacheline"><a href="#Cacheline" class="headerlink" title="Cacheline"></a>Cacheline</h2><p>本文后续会涉及到一个名词Cacheline，cache的大小称之为cahe size，代表cache可以缓存最大数据的大小。<br>我们将cache平均分成相等的很多块，每一个块大小称之为cache line，其大小是cache line size。例如一个64 Bytes大小的cache<br>如果我们将64 Bytes平均分成64块，那么cache line就是1字节，总共64行cache line。如果我们将64 Bytes平均分成8块，那么cache line就是8字节，总共8行cache line<br>有一点需要注意，cache line是cache和主存之间数据传输的最小单位。什么意思呢？当CPU试图load一个字节数据的时候，如果cache缺失，那么cache控制器会从主存中一次性的load cache line大小的数据到cache中。</p><p>例如，cache line大小是8字节。CPU即使读取一个byte，在cache缺失后，cache会从主存中load 8字节填充整个cache line，至于原因可以参见这篇文章:<br><a href="http://www.wowotech.net/memory_management/458.html" target="_blank" rel="noopener">浅谈Cache Memory</a></p><p>有了前面的基础知识的认知，不难理解下面这个极简的抽象CPU架构图<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/memory-barrier02.gif" alt=""></p><h1 id="缓存一致性"><a href="#缓存一致性" class="headerlink" title="缓存一致性"></a>缓存一致性</h1><p>考虑到多线程读写环境中，不免会有个疑问，如果一个数据是多个cpu都共享，其中一个修改了是不是要想办法使得其他cpu也能更新<br>一个cpu去读取一个数值时，怎么确定是最新的呢？说到底就是要保证在使用cache后如何确保各 CPU 看到的数据是一致的<br>这个就引出另外一个名词“cache-coherence protocol”即缓存一致性协议<br>其中，MESI protocol 是一个基本版，从 MESI protocol 可以了解 CPU 之间如何维持看到一致的资料，可以参见MESI的维基定义:   <a href="https://zh.wikipedia.org/wiki/MESI%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">MESI协议</a></p><p>这里摘取英文文档中的对于MESI拆解开来的四种状态的解释<br><code>A line in the “modified” state has been subject to a recent memory store from the corresponding CPU, and the corresponding memory is guaranteed not to appear in any other CPU’s cache. Cache lines in the “modified”state can thus be said to be “owned” by the CPU. Because this cache holds the only up-to-date copy of the data, thiscache is ultimately responsible for either writing it back to memory or handing it off to some other cache, and must do so before reusing this line to hold other data.</code><br>处于modified状态的cacheline说明近期有过来自对应cpu的写操作，同时也说明该该数据不会存在其他cpu对应的cache中。因此，处于modified状态的cacheline也可以说是被该CPU独占。而又因为只有该CPU的cache保存了最新的数据（最终的memory中都没有更新），所以，该cache需要对该数据负责到底。例如根据请求，该cache将数据及其控制权传递到其他cache中，或者cache需要负责将数据写回到memory中，而这些操作都需要在reuse该cache line之前完成。<br><code>The “exclusive” state is very similar to the “modified”state, the single exception being that the cache line has not yet been modified by the corresponding CPU, which in turn means that the copy of the cache line’s data that resides in memory is up-to-date. However, since the CPU can store to this line at any time, without consulting other CPUs, a line in the “exclusive” state can still be said to be owned by the corresponding CPU. That said, because the corresponding value in memory is up to date, this cache can discard this data without writing it back to memory or handing it off to some other CPU.</code><br>exclusive状态和modified状态非常类似，唯一的区别是对应CPU还没有修改cacheline中的数据，也正因为还没有修改数据，因此memory中对应的data也是最新的。在exclusive状态下，cpu也可以不通知其他CPU cache而直接对cacheline进行操作，因此，exclusive状态也可以被认为是被该CPU独占。由于memory中的数据和cacheline中的数据都是最新的，因此，cpu不需对exclusive状态的cacheline执行写回的操作或者将数据以及归属权转交其他cpu cache，而直接reuse该cacheline（将cacheine中的数据丢弃，用作他用）<br><code>A line in the “shared” state might be replicated in at least one other CPU’s cache, so that this CPU is not permitted to store to the line without first consulting with other CPUs. As with the “exclusive” state, because thecorresponding value in memory is up to date, this cache can discard this data without writing it back to memory or handing it off to some other CPU.</code><br>处于share状态的cacheline，其数据可能在一个或者多个CPU cache中，因此，处于这种状态的cache line，CPU不能直接修改cacheline的数据，而是需要首先和其他CPU cache进行沟通。和exclusive状态类似，处于share状态的cacheline对应的memory中的数据也是最新的，因此，cpu也可以直接丢弃cacheline中的数据而不必将其转交给其他CPU cache或者写回到memory中。<br><code>A line in the “invalid” state is empty, in other words, it holds no data. When new data enters the cache, it is placed into a cache line that was in the “invalid” state if possible. This approach is preferred because replacing a line in any other state could result in an expensive cache miss should the replaced line be referenced in the future.</code><br>处于invalid状态的cacheline是空的，没有数据。当新的数据要进入cache的时候，优选状态是invalid的cacheline，之所以如此是因为如果选中其他状态的cacheline，则说明需要替换cacheline数据，而未来如果再次访问这个被替换掉的cacheline数据的时候将遇到开销非常大的cache miss  </p><font color="red"> 个人理解:<br>1. 对于modified状态的cacheline，别的cpu如果需要其中的数据，必须要写回到memory或者转移<br>2. exclusive可以理解为是modified的轻量版，exclusive状态的cacheline数据此时还没有被cpu修改，也就是说它的数据和memory中是一致的，当别的cpu需要状态是exclusive的cacheline数据时，可以直接提供数据不需要写回到memory<br>3. share状态的cacheline不能直接被修改，如果一个cpu需要对这个cacheline进行修改了，需要先通知其他cpu让他们将各自对应的cacheline置为invalid，然后再切换cacheline的状态到exclusive，再然后就是M状态<br>4. invalid状态的cacheline之前可能是有数据的，比如之前是shared状态，后来其他cpu要修改这个cacheline了，就发通知过来了要求置为invalid的，不然读取出来的就是错误的<br><br> </font><p>有一个MESI动画的网址，可以模拟各个cacheline的状态切换，比起文字描述来讲更好理解，可以不断的模拟测试，对理解MESI很有帮助<br><a href="https://www.scss.tcd.ie/Jeremy.Jones/VivioJS/caches/MESIHelp.htm" target="_blank" rel="noopener">VivioJS - Interactive Reversible E-Learning Animations for the WWW</a></p><p>比如当前状态<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/memory-barrier03.png" alt=""></p><font color="red"><br>个人理解添加<br>此时CPU0上a1数据对应的cacheline此时的状态是M状态，可以看到此时的数值是11，比memory要新，其他两个cpu1，cpu2上的a1对应的cacheline是invalid状态。如果此时cpu2上对a1进行写值加1，会是什么样子的呢？<br>根据上面的理论知识，此时应该会通过总线通知cpu0让其写入到memory中，然后cpu2才能读取到最新的值此时再进行修改此时数值应该是12并将状态置为E并且写回memory，此时CPU0上的a1对应cacheline状态理论上应该是invalid。<br></font><br>实际的cpu2对a1加1后效果图如下：<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/memory-barrier04.png" alt=""><br><font color="red"> 个人理解添加<br>此时如果对cpu2的cacheline进行写加1，cacheline状态会切换到M状态，如果一直写，数值一直增加一直是M状态，其他cpu无变化。因为此时M是最新的，只有其他cpu比如此时cpu1需要读取a1的值，这个时候cpu2会将这个值写回到memory并且此时cpu1和cpu2上a1对应的cacheline状态都是S。<br>如果这个时候，对cpu2的a1进行写操作呢？其状态会切换到E，其他cpu对应的a1-cacheline都切到invalid<br>介绍完MESI后，我们知道有了MESI protocol，任何一个CPU 要写入资料前，都要先确保其它CPU 已invalid 同一位置的cache 后(希望写入的CPU 广播invalidate，其它CPU 回invalidate ack)， 才能写资料到自己的cache，并在稍后补写回memory。<br></font><br>这个设计确保资料的一致性，不用担心同一时间同一个位置的资料会有不同的值，但是代价是写入 cache 的速度会有点慢，让 CPU 闲置，下图中的stall就是cpu等待的时长<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/memory-barrier05.png" alt=""><br><br><font color="red">  个人理解添加<br>想象一下这个场景：<br><em> CPU 0 打算写入值到位置 X，CPU 1 的 cache 有 X 的值。因为缓存一致性的缘故，这个时候CPU0给CPU1发送一个invalid的广播告知其需要将其对应数值置于无效</em> 这个时候呢cpu0就开始傻乎乎的等 CPU 1 回 invalidate ack，但是此时CPU 1 的 cache 可能太忙而拖慢了回覆时间 (比方同时从 cache 大量的读写资料，或是短时间收到大量 invalidate ack)。<br>这样就导致了CPU0白白耗费时间在等待上，这对于宝贵的cpu资源是一种很大的浪费，其实没必要等待这么长的时间，毕竟物理CPU 1中的cacheline保存有什么样子的数据，其实都没有意义，这个值都会被CPU 0新写入的值覆盖的，所以能不能不等呢？这也就引出了另外一个名词StoreBuffer，还有另外一个名词对应刷新的Invalidate Queue<br></font> <h2 id="Store-Buffer-amp-Invalidate-Queue"><a href="#Store-Buffer-amp-Invalidate-Queue" class="headerlink" title="Store Buffer &amp; Invalidate Queue"></a>Store Buffer &amp; Invalidate Queue</h2><p>在CPU和cache之间增加store buffer这个HW block</p><font color="red">  个人理解添加<br>1. CPU 0 不等 invalidate ack：先写入 store buffer，然后继续作事。之后收到 invalidate ack 再更新 cache 的状态。因为最新的资料可能存在 store buffer，CPU 读资料的顺序变成 store buffer → cache → memory。<br>2. CPU 1 立即回 invalidate ack：收到 invalidate 时，记录到 invalidate queue 里，先回 invalidate ack，稍后再处理 invalidate。<br>3. 为啥有了store buffer后还会冒出来一个invalidate queue，因为 store buffer 很小，store buffer 满的时候，CPU 0 还是得等 invalidate ack，所以加上 invalidate queue，双管齐下减少 CPU 0 等待时间<br>这里还有一个细节后面会提到，如果有数据加了写内存屏障的话，加入storebuffer，其后面的写操作不管有没有写屏障都要加到storebuffer中，这就造成了storebuffer更容易满了，一旦满了又要开始等ack了，这就引入了<br>invalidate queue，后面还会继续讲它的作用<br>其实这里出现了一个重排序的“现象”，就是一旦某一条写指令放到storebuffer中了继续后面的指令操作，这就造成了下一条指令跑到这条指令前面执行的”假象”，这种重排序就是为了充分利用cpu的性能避免白白的浪费等待<br>CPU 为了提升效率而出现的这种”改指令”执行的顺序，只要最后結果和 single thread 预期的結果一样即可。这句话可以细品下，所以多线程的情况下需要我们研发人员自己控制<br></font>  <p>有了StoreBuffer以及Invalidate Queue之后的cpu cache架构如下<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/memory-barrier06.png" alt=""></p><p>下面摘自perfbook文档关于StoreBuffer以及Invalidate Queue的解释</p><p><code>These store buffers are local to a given CPU or, on systems with hardware multithreading, local to a given core. Either way, a given CPU is permitted to access only the store buffer assigned to it. For example, in Figure C.5, CPU 0 cannot access CPU 1’s store buffer and vice versa. This restriction simplifies the hardware by separating concerns: The store buffer improves performance for consecutive writes, while the responsibility for communicating among CPUs (or cores, as the case may be) is fully shouldered by the cache-coherence protocol. However, even given this restriction, there are complications that must be addressed, which are covered in the next two sections.</code></p><p>这些store buffer对于cpu而言是local的，如果系统是硬件多线程， 那么每一个cpu core拥有自己私有的stroe buffer，一个cpu只能访问自己私有的那个store buffer。在上图中，cpu 0不能访问cpu1的store buffer，反之亦然。之所以做这样的限制是为了模块划分（各个cpu core模块关心自己的事情，让cache系统维护自己的操作），让硬件设计变得简单一些。store buffer增加了CPU连续写的性能，同时把各个CPU之间的通信的任务交给维护cache一致性的协议。即便给每个CPU分配私有的store buffer，仍然引入了一些复杂性，我们会在下面两个小节中描述。</p><p><code>Unfortunately, each store buffer must be relatively small, which means that a CPU executing a modest sequence of stores can fill its store buffer (for example, if all of them result in cache misses). At that point, the CPU must once again wait for invalidations to complete in order to drain its store buffer before it can continue executing. This same situation can arise immediately after a memory barrier, when all subsequent store instructions must wait for invalidations to complete, regardless of whether or not these stores result in cache misses.</code></p><p>不幸的是：每个cpu的store buffer不能实现的太大，其entry的数目不会太多。当cpu以中等的频率执行store操作的时候（假设所有的store操作导致了cache miss），store buffer会很快的被填满。在这种状况下，CPU只能又进入等待状态，直到cache line完成invalidation和ack的交互之后，可以将store buffer的entry写入cacheline，从而为新的store让出空间之后，CPU才可以继续执行。这种状况也可能发生在调用了memory barrier指令之后，因为一旦store buffer中的某个entry被标记了，那么随后的store都必须等待invalidation完成，因此不管是否cache miss，这些store都必须进入store buffer。</p><p><code>This situation can be improved by making invalidate acknowledge messages arrive more quickly. One way of accomplishing this is to use per-CPU queues of invalidate messages, or “invalidate queues”.</code></p><p>引入invalidate queues可以缓解这个状况。store buffer之所以很容易被填充满，主要是其他CPU回应invalidate acknowledge比较慢，如果能够加快这个过程，让store buffer尽快进入cacheline，那么也就不会那么容易填满了。</p><p><code>Invalidate QueuesOne reason that invalidate acknowledge messages can take so long is that they must ensure that the correspondingcache line is actually invalidated, and this invalidation can be delayed if the cache is busy, for example, if the CPU is intensively loading and storing data, all of which resides in the cache. In addition, if a large number of invalidate messages arrive in a short time period, a given CPU might fall behind in processing them, thus possibly stalling all the other CPUs.</code></p><p>invalidate acknowledge不能尽快回复的主要原因是invalidate cacheline的操作没有那么快完成，特别是cache比较繁忙的时候，这时，CPU往往进行密集的loading和storing的操作，而来自其他CPU的，对本CPU local cacheline的操作需要和本CPU的密集的cache操作进行竞争，只要完成了invalidate操作之后，本CPU才会发生invalidate acknowledge。此外，如果短时间内收到大量的invalidate消息，CPU有可能跟不上处理，从而导致其他CPU不断的等待。</p><p><code>However, the CPU need not actually invalidate the cache line before sending the acknowledgement. It could instead queue the invalidate message with the understanding that the message will be processed before the CPU sends any further messages regarding that cache line.</code></p><p>然而，CPU其实不需要完成invalidate操作就可以回送acknowledgement消息，这样，就不会阻止发生invalidate请求的那个CPU进入无聊的等待状态。CPU可以buffer这些invalidate message（放入Invalidate Queues），然后直接回应acknowledgement，表示自己已经收到请求，随后会慢慢处理。当然，再慢也要有一个度，例如对a变量cacheline的invalidate处理必须在该CPU发送任何关于a变量对应cacheline的操作到bus之前完成。</p><p>有了Invalidate Queue的CPU，在收到invalidate消息的时候首先把它放入Invalidate Queue，同时立刻回送acknowledge 消息，无需等到该cacheline被真正invalidate之后再回应。当然，如果本CPU想要针对某个cacheline向总线发送invalidate消息的时候，那么CPU必须首先去Invalidate Queue中看看是否有相关的cacheline，如果有，那么不能立刻发送，需要等到Invalidate Queue中的cacheline被处理完之后再发送。</p><p><code>Placing an entry into the invalidate queue is essentially a promise by the CPU to process that entry before transmitting any MESI protocol messages regarding that cache line. As long as the corresponding data structures are not highly contended, the CPU will rarely be inconvenienced by such a promise.</code></p><p>一旦将一个invalidate（例如针对变量a的cacheline）消息放入CPU的Invalidate Queue，实际上该CPU就等于作出这样的承诺：在处理完该invalidate消息之前，不会发送任何相关（即针对变量a的cacheline）的MESI协议消息。只要是对该cacheline的竞争不是那么剧烈，CPU还是对这样的承诺很有信心的</p><p>因为多了 store buffer 和 invalidate queue，cache 之间的资料就没有完全一致了</p><h2 id="一个小案例"><a href="#一个小案例" class="headerlink" title="一个小案例"></a>一个小案例</h2><p>有了上面一连串理论知识的铺垫，下面看一个小例子，这个例子是老演员了，其实也是摘自perfbook中的，在查阅资料过程中发现很多博客都是用的这个图</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = b = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  b = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bar</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (b == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">  <span class="keyword">assert</span>(a == <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>考虑 CPU 0 执行 foo()， CPU 1 执行 bar()，也就是我们常说的多线程环境，假设 cache 的状态如下:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">        a       b</span><br><span class="line">------------------------</span><br><span class="line">CPU <span class="number">0</span>:  Shared  Modified</span><br><span class="line">CPU <span class="number">1</span>:  Shared  Invalid</span><br></pre></td></tr></table></figure></p><p>其实可以理解为假设 a,b 初始值为 0 ，a 被 CPU0 和 CPU1 共同持有，b 被 CPU0 独占</p><p>试想，即便在多线程环境下，foo 和 bar 如若严格按照理想的顺序执行，是无论如何都不会出现 assert failed 的情况的。但往往事与愿违，这种看似很诡异的且有一定几率发生的 assert failed ，结合上面所说的 Store Buffer 就一点都不难理解了<br>我们来还原 assert failed 的整个过程</p><ol><li>CPU0 处理 a=1 之前发送 Invalidate 消息给 CPU1 ，并将其放入 Store Buffer ，尚未及时刷入缓存，所以这时候 cache 里a的值仍是 0；</li><li>CPU 0 转而处理 b=1 ，注意这里我们上面假设的是此时b 的状态已是 Modified，所以 b=1 直接被刷入缓存；</li><li>CPU 1 发出 Read 消息读取 b 的值，CPU 1 从 CPU 0 的 cache 读到 b = 1 ，跳出 while 语句；</li><li>CPU 1 发出 Read 消息读取 a 的值，发现 a 却为旧值 0，assert failed，然后收到 CPU 0 送来 “invalidate a” 的讯息，但已太迟了</li></ol><p>上面这个还原过程摘自一个台湾人写的博客&lt;從硬體觀點了解 memory barrier 的實作和效果&gt;<br>个人感觉这个描述过程不完全准确，既然已经有了Invalidate Queue，这个时候cpu1理论上是立刻给cpu0发ack的，可能由于当前要回复的ack很多，导致发送给cpu0的ack并没有达到”立刻”的效果<br>所以出现上面描述的过程也是有可能的，但是其实还有一种可能，就是读取a的时候最新值Invalidate Queue中，详细在下面的个人理解环节中  </p><font color="red"><br>个人理解如下<br>1. 大致流程是CPU0这个时候想要对a进行写值，发现a对应的cacheline对应的状态是S，也就是这里的cpu1上也有a的值，所以需要通知cpu1，通过总线发个消息告知cpu1进行invalid，因为有storebuffer这玩意所以直接放到storebuffer，又因为有invalidate queue的存在<br>2. 所以CPU1立刻回复了“已更新”的ack回去了，其实并没有实际更新，只是先放在了invalidate queue中待更改标记为invalid，CPU0收到这个ack后将数据回写到内存中<br>3. 此时CPU0开始了执行下一条对b写值，因为b是M状态也是说是cpu0独占的，所以直接写到缓存就完事了<br>4. 再来到cpu1这边看看，此时cpu1读取b的值，因为cpu1上没有对应的cacheline，cpu0上b对应的cacheline是M状态，所以此时cpu0会将b的值写回到memory,并且这个时候cpu1读取到的值是最新的和memory一样，此时cpu1和cpu0上b对于的cacheline状态变为S<br>5. 这个时候再看assert(a == 1);  此时CPU1读取到的数值a仍然是S状态，所以直接读取了，读取出来自然是0，因为此时并没有去invalidate queue看看有没有值，所以看到的值不是最新的，出现assert fail<br><br>如何解决这个问题呢？可以在foo函数a=1下面加一个写内存屏障，这样的话当a=1的值放到storebuffer中后，发现后面有一个写内存屏障指令，这个时候就会把后面的写指令都会顺序放到storebuffer中。另外在bar函数第二行读取a的时候需要看下invalidqueue中有没有值，有的话一定要将对应值得cacheline标记为无效，然后去读取最新值，这就引入了读内存屏障，强制标记队列中所有的值对应cacheline为无效<br></font> <p>上面的这个程序在实际开发中也是有可能会遇到的，于是 CPU提供了write memory barrier 以及 read memory barrier，让软件有机会避免这个问题</p><h2 id="write-memory-barrier"><a href="#write-memory-barrier" class="headerlink" title="write memory barrier"></a>write memory barrier</h2><p>比如在上面的 foo 方法中，a 的赋值和 b 的赋值之间加上这个write memory barrier<br>会使得 CPU 在后续变量变更写入之前，把 Store Buffer 的变更写入 flush 到缓存；CPU 要么就等待 flush 完成后写入，要么就把后续的写入变更放到 Store Buffer 中，直到 Store Buffer 数据顺序刷到缓存。<br><strong>write memory barrier 确保之前在 store buffer 里的资料会先更新到 cache，然后才能写入 barrier 之后的资料到 cache。</strong></p><p>假设我们在 foo() 的 a=1 和 b=1 之间插一个 write memory barrier，过程变为</p><ol><li>write memory barrier 先设 store buffer 里的资料为 “marked” (即 a=1)</li><li>写入 b 的时候，因为发现 store buffer 里有 marked 的栏位，所以即使 b 已处于 Modified，仍需写入 b=1 到 store buffer，不过状态是 “unmarked”</li><li>待收到 a 的 invalidate ack 后，cache 中 a 的状态改为 Modified，然后先写入有 marked 栏位的值到 cache，再写入 unmarked 栏位的值到 cache。</li></ol><p>这样其它 CPU 就会依序看到 a、b 更新的值了</p><h2 id="read-memory-barrier"><a href="#read-memory-barrier" class="headerlink" title="read memory barrier"></a>read memory barrier</h2><p>还是以上面的例子说明，假设 CPU 1 的 cache 里 a 处于 Shared。 CPU 0 已更新 a、b 到它的 cache，CPU 1 的 invalidate queue 里有 “invalidate a”，但还没处理。<br>这时 CPU 1 依序读 b、a 的值，会从 CPU 0 的 cache 读到 b=1，然后从自己的 cache 读到 a=0 (因为还没 invalidate a)。和上面的写入情况本质一样的，invalidate queue破坏了缓存一致性<br>invalidate queue是最新的，但是 a 处于 Shared，所以会从cache中直接拿，拿得是0，不是最新的<br>所以即便在foo函数给a,b分别赋值中间加上写栅栏，还是不能完全保证得到的结果是我们想要的，其实这个时候，可以猜到需要在assert之前也就是读取a之前加上一个读栅栏read memory barrier<br>目的很明确确保先清空 invalidate queue 再继续读资料。<br>在 assert(a==1) 之前插入 read memory barrier，执行顺序变成这样:</p><ol><li>CPU 1 执行 read memory barrier 时会设 invalidate queue 里的资料为 “marked”</li><li>CPU 1 读 cache 里 a 的值时，发现 invalidate queue 里有标记 a，于是会先执行 invalidate a 再继续读 a 的值</li><li>执行 invalidate a 后，就不会读自己 cache 的值，而改从 CPU 0 的 cache 读到最新的值，达到「依序读 b、a 的值」的效果</li></ol><h2 id="第二个小案例"><a href="#第二个小案例" class="headerlink" title="第二个小案例"></a>第二个小案例</h2><p>再摘一句perfbook的话，说的有点意思</p><p><code>Since the standard synchronization primitives preserve the illusion of ordering, your path of least resistance is to stop reading this section and simply use these primitives.However, if you need to implement the synchronization primitives themselves, or if you are simply interested in understanding how memory ordering and memory barriers work, read on!</code></p><p>你也许面对CPU的这种out of order的行为有本能的抵抗，没有关系，放轻松，你的抵抗之路可以到此结束，只要你愿意使用各种同步原语来保护你程序中的共享资源，因为透过这些标准的同步原语，你看到的是一个顺序执行的世界。当然，这会引入一些小小的遗憾：你不知道底层到底是如何把“乱序”变成“有序”的。不过，实现同步原语的那些软件工程师没有这个豁免权，他们必须要深入理解memory order和memory barrier。此外，那些想要“打破沙锅问到底”以及想要“知其然知其所以然”的工程师也可以跟随我们继续。</p><p>再举一个例子，摘自 perfbook memory barrier（14.2章节）<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> thread0(<span class="keyword">void</span>)</span><br><span class="line"><span class="number">2</span> &#123;</span><br><span class="line"><span class="number">3</span> A = <span class="number">1</span>;</span><br><span class="line"><span class="number">4</span> smp_wmb();</span><br><span class="line"><span class="number">5</span> B = <span class="number">1</span>;</span><br><span class="line"><span class="number">6</span> &#125;</span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span> thread1(<span class="keyword">void</span>)</span><br><span class="line"><span class="number">9</span> &#123;</span><br><span class="line"><span class="number">10</span> <span class="keyword">while</span> (B != <span class="number">1</span>)</span><br><span class="line"><span class="number">11</span> <span class="keyword">continue</span>;</span><br><span class="line"><span class="number">12</span> barrier();</span><br><span class="line"><span class="number">13</span> C = <span class="number">1</span>;</span><br><span class="line"><span class="number">14</span> &#125;</span><br><span class="line"><span class="number">15</span></span><br><span class="line"><span class="number">16</span> thread2(<span class="keyword">void</span>)</span><br><span class="line"><span class="number">17</span> &#123;</span><br><span class="line"><span class="number">18</span> <span class="keyword">while</span> (C != <span class="number">1</span>)</span><br><span class="line"><span class="number">19</span> <span class="keyword">continue</span>;</span><br><span class="line"><span class="number">20</span> barrier();</span><br><span class="line"><span class="number">21</span> <span class="keyword">assert</span>(A != <span class="number">0</span>);</span><br><span class="line"><span class="number">22</span> &#125;</span><br></pre></td></tr></table></figure></p><p>开始，变量A，B，C的初始值都是0。根据程序逻辑：thread0中，A先于B赋值，thread1中，程序逻辑是一直等到B变量被赋值为1之后，再给C赋值。这里，人类的直觉告诉我们，如果变量C已经被赋值为1的时候（第13行程序），A一定已经被赋值为1了。同样的，在thread2中，第21行程序的assert一定是不会被触发的。</p><p><code>This line of reasoning, intuitively obvious though it may be, is completely and utterly incorrect. Please note that this is not a theoretical assertion: actually running this code on real-world weakly-ordered hardware (a 1.5GHz 16-CPU POWER 5 system) resulted in the assertion firing 16 times out of 10 million runs. Clearly, anyone who produces code with explicit memory barriers should do some extreme testing – although a proof of correctness might be helpful, the strongly counter-intuitive nature of the behavior of memory barriers should in turn strongly limit one’s trust in such proofs. The requirement for extreme testing should not be taken lightly, given that a number of dirty hardware-dependent tricks were used to greatly increase the probability of failure in this run.</code></p><p>上一节的推理从直觉上看是对的，但是在实际的CPU上运行的结果确是完全错误的。特别需要指出的是这个结果不是理论推导得出来的，是在真实的1.5GHz 16核的POWER 5系统（该cpu的内存模型属于weakly order）上观测得到的，平均每1千万次执行会有16次在21行代码处出现assert失败。很显然，当我们撰写显式调用memory barrier的代码的时候，必须进行非常大量的实际测试。在理论上进行正确性的推导是否有意义呢？也许有帮助，但是，你知道的，在使用memory barrier的时候会发生很多和你的直觉相悖的东西，这让理论的推导变得不那么确定。别小看那些看起来愚蠢的、非常重复性的大量测试，要知道不同的CPU会使用不同的硬件设计方法，因此在memory order和memory barrier方面表现各不相同，你的程序想要在各种硬件上，每次都运行成功不是一件容易的事情。</p><font color="red"><br>个人理解:<br>到底发生了什么让程序在21行的assert上失败？我们一起分析一下。我们假设CPU0、CPU1和CPU2分别执行thread0、thread1和thread2<br>1. 对于thread 0，我们假设A在CPU0的local cache中，但是状态是shared，因此当执行A=1的语句的时候，不能立刻执行，需要和其他CPU cache进行沟通（发送invalidate message去其他CPU），当然，cpu不会停下其脚步，将A的新值1放入store buffer，继续执行。<br>2. smp_wmb可以mark store buffer中A值，并且阻止后续的store操作进入cache，这时候，即便B在CPU0的local cache中，B=1的赋值也不能操作到cache，而是要进入store buffer，当然状态是unmarked。前面说过，后面进cache的话是marked先进然后unmarked进，由于存在Invalidate Queue这中东西，因此，CPU 0很快就可以收到来自其他CPU的响应，这时候，CPU0可以越过write memory barrier，完成对B的赋值。此时A的状态切到M，回写到cache中，B也跟着回写到cache中了。<br>3. 因此，对于thread1，很快可以感知B的新值“1”并执行了对C变量的赋值。来到thread2，同样的，对C变量的load操作也可以感知到thread1中的赋值因此跳出while循环。<br>4. 最关键的来了，第20行的barrier这个优化屏障不能阻止CPU对A变量的访问，但是，可能由于这时CPU cache操作非常繁忙，A变量的invalidate message还在其invalidate queue中，因此load A得到了旧的值0。<br><br>当然，要修正这个问题非常简单，修改20行代码为smp_rmb即可。一旦执行了smp_rmb，就会mark invalidate queue中的entry，这时候，CPU执行后续的load操作都必须要等到Invalidate queue中的所有缓存的invalidate message（当然，状态必须是marked）被处理并体现到cache中。因此，使用smp_rmb即可以在21行的load A操作中总是获取A的新值“1”从而避免了assert fail。<br>这里有个疑问就是例子中的barrier();这玩意到底到底代表啥意思，按照作者想要表达的意思是barrier()起不到读屏障的功能，要改为smp_rmb<br></font> <h2 id="简要归纳"><a href="#简要归纳" class="headerlink" title="简要归纳"></a>简要归纳</h2><p>硬件为了减少读写 memory 而有 cache。有 cache 就要确保 cache 之间的资料一致 (同一时间同一位置只有一个值)。但确保 cache 资料完全一致容易让 CPU 闲置，于是有了 store buffer 和 invalidate queue 降少 CPU 闲置。代价是只保证 CPU 自己会读到自己写入的最新数据，但其它 CPU 不一定。<br><strong>为了让其它 CPU 有需要的时候也能读到最新的资料，针对 store buffer 和 invalidate queue 的副作用设计了 write/read memory barrier</strong><br>于是写程序的人在需要的时候可以用 memory barrier 确保关键的数据有依正确的顺序更新 (没保证更新的时间)。 CPU 在多数情况下仍能避免闲置。<br>到此可以了解为什么这两种操作合在一起比较符合 CPU 架构：</p><ul><li>一个 thread 「先 write X 后执行 write memory barrier」</li><li>另一个 thread 「先执行 read memory barrier 后 read X」</li></ul><h1 id="java内存模型"><a href="#java内存模型" class="headerlink" title="java内存模型"></a>java内存模型</h1><p>这里再谈一下java的内存模型，这个模型是抽象出来的，下面这个图网上找的也是老演员了，最初来自深入理解虚拟机一书<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/memory-barrier07.png" alt=""></p><font color="red"><br>个人理解:<br>这里的java线程对应着cpu，工作内存其实是不存在的，可以简单的理解为是cpu的cache，save和load其实对应的是缓存一致性协议<br></font> <h2 id="JVM-barrier"><a href="#JVM-barrier" class="headerlink" title="JVM barrier"></a>JVM barrier</h2><ul><li>LoadLoad：两个 Load 操作之间内存屏障，smp_rmb 就是典型实现；</li><li>StoreStore：两个Store 操作之间的内存屏障，smp_wmb 典型实现；</li><li>LoadStore：在 Load 操作和 Store 操作之间的内存屏障；</li><li>StoreLoad：在 Store 操作和  Load 操作之间的内存屏障</li></ul><font color="red"><br>个人理解添加<br>以StoreLoad为例，这个是上面四个中最重的，最耗性能的，storeload其实能涵盖上面三个，因为它既保证了写也保证了读，它和loadstore的侧重点不一样，loadstore对于后面的那个写什么时候能写进去不是非常要求，更侧重的是前面的写。前一个是写后一个是读，后一个读取不能重排到这个写操作之前，也就是load时要看到前面写的值，这也就要保证前一个写的内容如果在storebuffer中就一定要写到cache中.<br>然后load的时候不能直接去读cache的值，要将invalidqueue中的值处理掉，该标记无效的都要进行标记，确保读取出来的是最新的。<br></font>   <p>对于java中的volatile防止重排网上博客一大堆，有些文章从汇编角度来分析加了volatile前后的对比，本地测试过hsdis可以用来将java转换为对应的汇编，这里就不展开了     </p><p><font color="red"> 个人理解<br>volatile最重要的使命是为了可见性，为了达到可见性这个目的不得不设计出防止指令重排，因为如果不限制重排，就达不到可见性这个目的<br>所以可以理解防止重排只是达到可见性的一个不得已手段<br></font><br><br>   </p><p><strong>参考文章</strong><br><a href="https://www.infoq.com/articles/memory_barriers_jvm_concurrency/" target="_blank" rel="noopener">Memory Barriers and JVM Concurrency</a><br><a href="http://www.wowotech.net/kernel_synchronization/memory-barrier.html" target="_blank" rel="noopener">Linux内核同步机制之（三）：memory barrier</a><br><a href="https://medium.com/fcamels-notes/%E5%BE%9E%E7%A1%AC%E9%AB%94%E8%A7%80%E9%BB%9E%E4%BA%86%E8%A7%A3-memry-barrier-%E7%9A%84%E5%AF%A6%E4%BD%9C%E5%92%8C%E6%95%88%E6%9E%9C-416ff0a64fc1" target="_blank" rel="noopener">從硬體觀點了解 memory barrier 的實作和效果</a><br><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/p0098r0.pdf" target="_blank" rel="noopener">P0098R0: Towards Implementation and Use ofmemoryorderconsume</a><br><a href="https://createpoint.qti.qualcomm.com/search/contentdocument/stream/35553?refererRoute=search%2FsearchArgs%2Fq%7C%7CMemory%20Barriers%7C%7Crows%7C%7C10%7C%7CsortField%7C%7Cscore%7C%7CsortOrder%7C%7Cdesc&amp;dcn=80-N5603-1&amp;currentPage=1&amp;itemTotalIndex=1" target="_blank" rel="noopener">LINUX MEMORY ORDERING ON SCORPION-MP AND KRAIT APPLICATION PROCESSORS</a><br><a href="https://preshing.com/20120710/memory-barriers-are-like-source-control-operations/" target="_blank" rel="noopener">Memory Barriers Are Like Source Control Operations</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzUzMDk3NjM3Mg==&amp;mid=2247483755&amp;idx=1&amp;sn=50f80e73f46fab04d8a799e8731432c6&amp;chksm=fa48da70cd3f5366d9658277cccd9e36fca540276f580822d41aef7d8af4dda480fc85e3bde4&amp;token=630636109&amp;lang=zh_CN#rd" target="_blank" rel="noopener">从 Java 内存模型看内部细节</a><br><a href="http://www.4e00.com/blog/java/2018/10/21/inside-java-memory-model.html" target="_blank" rel="noopener">深入理解 java 内存模型</a><br><a href="http://www.wowotech.net/memory_management/458.html" target="_blank" rel="noopener">浅谈Cache Memory</a><br><a href="http://www.wowotech.net/kernel_synchronization/Why-Memory-Barriers.html" target="_blank" rel="noopener">Why Memory Barriers</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本篇文章开始之前需要了解一些背景知识&lt;/p&gt;
&lt;h1 id=&quot;Cache-Memory&quot;&gt;&lt;a href=&quot;#Cache-Memory&quot; class=&quot;headerlink&quot; title=&quot;Cache Memory&quot;&gt;&lt;/a&gt;Cache Memory&lt;/h1&gt;&lt;p&gt;我们都知
      
    
    </summary>
    
      <category term="Linux" scheme="http://lihaizhou.top/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>mmap机制初探</title>
    <link href="http://lihaizhou.top/2020/05/25/mmap%E6%9C%BA%E5%88%B6%E5%88%9D%E6%8E%A2/"/>
    <id>http://lihaizhou.top/2020/05/25/mmap机制初探/</id>
    <published>2020-05-25T11:18:16.000Z</published>
    <updated>2020-06-02T03:37:05.927Z</updated>
    
    <content type="html"><![CDATA[<p>在Unix/Linux系统下读写文件，一般有两种方式</p><p><code>第一种方式：传统的read/write方式</code></p><p>常规文件系统操作的调用过程：</p><ul><li><p>进程发起读文件请求</p></li><li><p>内核通过查找进程文件符表，定位到内核已打开文件集上的文件信息，从而找到此文件的inode</p></li><li><p>inode在address_space上查找要请求的文件页是否已经缓存在页缓存中。如果存在，则直接返回这片文件页的内容。</p></li><li><p>如果不存在，则通过inode定位到文件磁盘地址，将数据从磁盘复制到页缓存。之后再次发起读页面过程，进而将页缓存中的数据发给用户进程。</p></li></ul><p>总结来说，常规文件操作为了提高读写效率和保护磁盘，使用了页缓存机制。这样造成读文件时需要先将文件页从磁盘拷贝到页缓存中，由于页缓存处在内核空间，不能被用户进程直接寻址，所以还需要将页缓存中数据页再次拷贝到内存对应的用户空间中。这样，通过了两次数据拷贝过程，才能完成进程对文件内容的获取任务。写操作也是一样，待写入的buffer在内核空间不能直接访问，必须要先拷贝至内核空间对应的主存，再写回磁盘中（延迟写回），也是需要两次数据拷贝。</p><p>当存在多个进程同时读取同一个文件时，每一个进程中的地址空间都会保存一份副本，这样肯定不是最优方式的，造成了物理内存的浪费</p><p><code>第二种方式：内存映射</code></p><p>具体操作方式是：<br>open一个文件，然后调用mmap系统调用，将文件的内容的全部或一部分直接映射到进程的地址空间，映射完成后，进程可以像访问普通内存一样做其他的操作，比如memcpy等等。</p><p>mmap并不分配物理地址空间，它只是占有进程的虚拟地址空间。这跟第一种方式不一样的，第一种方式需要预先分配好物理内存，内核才能将页高速缓冲中的文件数据拷贝到用户进程指定的内存空间中。</p><p>而第二种方式，当多个进程需要同时访问同一个文件时，每个进程都将文件所存储的内核高速缓冲映射到自己的进程地址空间。当第一个进程访问内核中的缓冲区时候，前面讲过并没有实际拷贝数据，这时MMU在地址映射表中是无法找到与地址空间相对应的物理地址的，也就是MMU失败，就会触发缺页中断。内核将文件的这一页数据读入到内核高速缓冲区中，并更新进程的页表，使页表指向内核缓冲中的这一页。之后有其他的进程再次访问这一页的时候，该页已经在内存中了，内核只需要将进程的页表登记并且指向内核的页高速缓冲区即可</p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-1-1.jpg" alt=""></p><p>异步IO<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-1-2.jpg" alt=""></p><p>mmap内存映射具体流程如下：</p><p>1、用户进程调用内存映射函数库mmap，当前进程在虚拟地址空间中，寻找一段空闲的满足要求的虚拟地址。</p><p>2、此时内核收到相关请求后会调用内核的mmap函数，注意，不同于用户空间库函数。内核mmap函数通过虚拟文件系统定位到文件磁盘物理地址，既实现了文件地址和虚拟地址区域的映射关系。 此时，这片虚拟地址并没有任何数据关联到主存中。</p><p>注意，前两个阶段仅在于创建虚拟区间并完成地址映射，但是并没有将任何文件数据的拷贝至主存。真正的文件读取是当进程发起读或写操作时。</p><p>3、进程的读或写操作访问虚拟地址空间这一段映射地址，现这一段地址并不在物理页面上。因为目前只建立了地址映射，真正的硬盘数据还没有拷贝到内存中，因此引发缺页中断。</p><p>4、由于引发了缺页中断，内核则调用nopage函数把所缺的页从磁盘装入到主存中。</p><p>5、之后用户进程即可对这片主存进行读或者写的操作，如果写操作改变了其内容，一定时间后系统会自动回写脏页面到对应磁盘地址，也即完成了写入到文件的过程。</p><p>注意：这里拷贝磁盘内容到主存，这里的主存是指处于内核空间的Page Cache，而不是用户空间的内存。用户地址要访问内核空间中的数据，需使用MMU把虚拟地址映射到内核的内存地址中，即可对数据进行操作。整个mmap工作流程大体如下：</p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-2.png" alt=""></p><p>这里我们可以看出mmap系统调用与read/write调用的区别在于：</p><p>mmap只需要一次系统调用（一次拷贝），后续操作不需要系统调用。访问的数据不需要在page cache和用户缓冲区之间拷贝。 访问的数据不需要在page cache和用户缓冲区之间拷贝。<br>从上所述，当频繁对一个文件进行读取操作时，mmap会比read/write更高效</p><p>既然建立内存映射没有进行实际的数据拷贝，那么进程又怎么能最终直接通过内存操作访问到硬盘上的文件呢？那就要看内存映射之后的几个相关的过程了。</p><p>mmap()会返回一个指针ptr，它指向进程逻辑地址空间中的一个地址，这样以后，进程无需再调用read或write对文件进行读写，而只需要通过ptr就能够操作文件。但是ptr所指向的是一个逻辑地址，要操作其中的数据，必须通过MMU将逻辑地址转换成物理地址，这个过程与内存映射无关。 </p><p>前面讲过，建立内存映射并没有实际拷贝数据，这时，MMU在地址映射表中是无法找到与ptr相对应的物理地址的，也就是MMU失败，将产生一个缺页中断，缺页中断的中断响应函数会在swap中寻找相对应的页面，如果找不到（也就是该文件从来没有被读入内存的情况），则会通过mmap()建立的映射关系，从硬盘上将文件读取到物理内存中，这个过程与内存映射无关。</p><p>如果在拷贝数据时，发现物理内存不够用，则会通过虚拟内存机制（swap）将暂时不用的物理页面交换到硬盘上，这个过程也与内存映射无关。</p><p>使用mmap操作文件中，创建新的虚拟内存区域和建立文件磁盘地址和虚拟内存区域映射这两步，没有任何文件拷贝操作。而之后访问数据时发现内存中并无数据而发起的缺页异常过程，可以通过已经建立好的映射关系，只使用一次数据拷贝，就从磁盘中将数据传入内存的用户空间中，供进程使用。</p><p>总而言之，常规文件操作需要从磁盘到页缓存再到用户主存的两次数据拷贝。而mmap操控文件，只需要从磁盘到用户主存的一次数据拷贝过程。说白了，mmap的关键点是实现了用户空间和内核空间的数据直接交互而省去了空间不同数据不通的繁琐过程。因此mmap效率更高</p><p>mmap使用过程中的几个细节点：</p><p>细节点一： mmap映射区域大小必须是物理页大小(page_size)的整倍数（在Linux中内存页通常是4k）。原因是，内存的最小粒度是页，而进程虚拟地址空间和内存的映射也是以页为单位。为了匹配内存的操作，mmap从磁盘到虚拟地址空间的映射也必须是页。</p><p>例如，有一个文件的大小是5K，mmap函数从文件的起始位置映射5K到虚拟内存中，由于内存物理页是4K，虽然映射的文件只有5K，但是实际上映射到内存区域的内存是8K，以便满足物理页大小的整数倍。映射后对5~8K的内存区域用零填充，对这部分的操作不会报错也不会写入到原文件中。</p><p>细节点二 ： 映射建立之后，即使文件关闭，映射依然存在。因为映射的是磁盘的地址，不是文件本身，和文件句柄无关。同时可用于进程间通信的有效地址空间不完全受限于被映射文件的大小，因为是按页映射。</p><p>平时会遇到应用OOM的问题，日志中有时候会有如下内容<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">07</span>-<span class="number">03</span> <span class="number">17</span>:<span class="number">43</span>:<span class="number">55.266</span> <span class="number">10181</span>  <span class="number">4737</span>  <span class="number">6529</span> E filemap : mmap(<span class="number">6078464</span>,<span class="number">299753</span>) failed: Out of memory</span><br></pre></td></tr></table></figure></p><p>对应的Code</p><p>system/core/libutils/FileMap.cpp</p><p>这里谷歌在2020.5.7号有修改，之前是调用的mmap，mmap中继而调用mmap64</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span>* ptr = mmap64(nullptr, adjLength, prot, flags, fd, adjOffset);</span><br><span class="line"><span class="keyword">if</span> (ptr == MAP_FAILED) &#123;</span><br><span class="line">    <span class="keyword">if</span> (errno == EINVAL &amp;&amp; length == <span class="number">0</span>) &#123;</span><br><span class="line">        ptr = nullptr;</span><br><span class="line">        adjust = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ALOGE(<span class="string">"mmap(%lld,%zu) failed: %s\n"</span>, (<span class="keyword">long</span> <span class="keyword">long</span>)adjOffset, adjLength, strerror(errno));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>bionic/libc/bionic/mmap.cpp</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span>* mmap64(<span class="keyword">void</span>* addr, size_t size, <span class="keyword">int</span> prot, <span class="keyword">int</span> flags, <span class="keyword">int</span> fd, off64_t offset) &#123;</span><br><span class="line">  <span class="keyword">if</span> (offset &lt; <span class="number">0</span> || (offset &amp; ((<span class="number">1</span>UL &lt;&lt; MMAP2_SHIFT)-<span class="number">1</span>)) != <span class="number">0</span>) &#123;</span><br><span class="line">    errno = EINVAL;</span><br><span class="line">    <span class="keyword">return</span> MAP_FAILED;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// prevent allocations large enough for `end - start` to overflow</span></span><br><span class="line">  size_t rounded = __BIONIC_ALIGN(size, PAGE_SIZE);</span><br><span class="line">  <span class="keyword">if</span> (rounded &lt; size || rounded &gt; PTRDIFF_MAX) &#123;</span><br><span class="line">    errno = ENOMEM;</span><br><span class="line">    <span class="keyword">return</span> MAP_FAILED;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  bool is_private_anonymous =</span><br><span class="line">      (flags &amp; (MAP_PRIVATE | MAP_ANONYMOUS)) == (MAP_PRIVATE | MAP_ANONYMOUS);</span><br><span class="line">  bool is_stack_or_grows_down = (flags &amp; (MAP_STACK | MAP_GROWSDOWN)) != <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">void</span>* result = __mmap2(addr, size, prot, flags, fd, offset &gt;&gt; MMAP2_SHIFT);</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">if</span> (result != MAP_FAILED &amp;&amp; kernel_has_MADV_MERGEABLE &amp;&amp;</span><br><span class="line">      is_private_anonymous &amp;&amp; !is_stack_or_grows_down) &#123;</span><br><span class="line">    ErrnoRestorer errno_restorer;</span><br><span class="line">    <span class="keyword">int</span> rc = madvise(result, size, MADV_MERGEABLE);</span><br><span class="line">    <span class="keyword">if</span> (rc == -<span class="number">1</span> &amp;&amp; errno == EINVAL) &#123;</span><br><span class="line">      kernel_has_MADV_MERGEABLE = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>mmap常见的错误类型：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">EACCES：访问出错</span><br><span class="line">EAGAIN：文件已被锁定，或者太多的内存已被锁定</span><br><span class="line">EBADF：fd不是有效的文件描述词</span><br><span class="line">EINVAL：一个或者多个参数无效 这里的参数常指的是start len offset 但是按照unlinx高级环境编程中描述，start一般会被命名为<span class="keyword">null</span>的空指针，这样告诉内核自己去选择起始地址，offset一般情况下设置为；那么出现这个问题通常就是len出错了，那么可以用printf大法来找到具体的错误。</span><br><span class="line">ENFILE：已达到系统对打开文件的限制</span><br><span class="line">ENODEV：指定文件所在的文件系统不支持内存映射</span><br><span class="line">ENOMEM：内存不足，或者进程已超出最大内存映射数量</span><br><span class="line">EPERM：权能不足，操作不允许</span><br><span class="line">ETXTBSY：已写的方式打开文件，同时指定MAP_DENYWRITE标志</span><br><span class="line">SIGSEGV：试着向只读区写入</span><br><span class="line">SIGBUS：试着访问不属于进程的内存区</span><br></pre></td></tr></table></figure><p><strong>mmap优点总结</strong></p><p>由上文讨论可知，mmap优点共有一下几点：</p><p>1、对文件的读取操作跨过了页缓存，减少了数据的拷贝次数，用内存读写取代I/O读写，提高了文件读取效率。</p><p>2、实现了用户空间和内核空间的高效交互方式, 两空间的各自修改操作可以直接反映在映射的区域内，从而被对方空间及时捕捉。</p><p>3、提供进程间共享内存及相互通信的方式。不管是父子进程还是无亲缘关系的进程，都可以将自身用户空间映射到同一个文件或匿名映射到同一片区域。从而通过各自对映射区域的改动，达到进程间通信和进程间共享的目的。</p><pre><code>同时，如果进程A和进程B都映射了区域C，当A第一次读取C时通过缺页从磁盘复制文件页到内存中；但当B再读C的相同页面时，虽然也会产生缺页异常，但是不再需要从磁盘中复制文件过来，而可直接使用已经保存在内存中的文件数据。</code></pre><p>4、可用于实现高效的大规模数据传输。内存空间不足，是制约大数据操作的一个方面，解决方案往往是借助硬盘空间协助操作，补充内存的不足。但是进一步会造成大量的文件I/O操作，极大影响效率。这个问题可以通过mmap映射很好的解决。换句话说，但凡是需要用磁盘空间代替内  存的时候，mmap都可以发挥其功效</p><p><strong>mmap使用细节</strong><br>1、使用mmap需要注意的一个关键点是mmap映射区域大小必须是物理页大小(page_size)的整倍数（32位系统中通常是4k字节）。原因是内存的最小粒度是页，而进程虚拟地址空间和内存的映射也是以页为单位。为了匹配内存的操作，mmap从磁盘到虚拟地址空间的映射也必须是页。</p><p>2、内核可以跟踪被内存映射的底层对象（文件）的大小，进程可以合法的访问在当前文件大小以内又在内存映射区以内的那些字节。也就是说，如果文件的大小一直在扩张，只要在映射区域范围内的数据，进程都可以合法得到，这和映射建立时文件的大小无关。</p><p>3、映射建立之后，即使文件关闭，映射依然存在。因为映射的是磁盘的地址，不是文件本身，和文件句柄无关。同时可用于进程间通信的有效地址空间不完全受限于被映射文件的大小，因为是按页映射。</p><p>在上面的知识前提下，我们下面看看如果大小不是页的整倍数的具体情况：</p><p>情形一：一个文件的大小是5000字节，mmap函数从一个文件的起始位置开始，映射5000字节到虚拟内存中。</p><p>分析：因为单位物理页面的大小是4096字节，虽然被映射的文件只有5000字节，但是对应到进程虚拟地址区域的大小需要满足整页大小，因此mmap函数执行后，实际映射到虚拟内存区域8192个 字节，5000~8191的字节部分用零填充。映射后的对应关系如下图所示：</p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-3.png" alt=""></p><p>此时：</p><p>（1）读/写前5000个字节（0~4999），会返回操作文件内容。</p><p>（2）读字节5000~8191时，结果全为0。写5000~8191时，进程不会报错，但是所写的内容不会写入原文件中 。</p><p>（3）读/写8192以外的磁盘部分，会返回一个SIGSECV错误。</p><p>情形二：一个文件的大小是5000字节，mmap函数从一个文件的起始位置开始，映射15000字节到虚拟内存中，即映射大小超过了原始文件的大小。</p><p>分析：由于文件的大小是5000字节，和情形一一样，其对应的两个物理页。那么这两个物理页都是合法可以读写的，只是超出5000的部分不会体现在原文件中。由于程序要求映射15000字节，而文件只占两个物理页，因此8192字节~15000字节都不能读写，操作时会返回异常。如下图所示：</p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-4.png" alt=""></p><p>此时：</p><p>（1）进程可以正常读/写被映射的前5000字节(0~4999)，写操作的改动会在一定时间后反映在原文件中。</p><p>（2）对于5000~8191字节，进程可以进行读写过程，不会报错。但是内容在写入前均为0，另外，写入后不会反映在文件中。</p><p>（3）对于8192~14999字节，进程不能对其进行读写，会报SIGBUS错误。</p><p>（4）对于15000以外的字节，进程不能对其读写，会引发SIGSEGV错误。</p><p>情形三：一个文件初始大小为0，使用mmap操作映射了1000*4K的大小，即1000个物理页大约4M字节空间，mmap返回指针ptr。</p><p>分析：如果在映射建立之初，就对文件进行读写操作，由于文件大小为0，并没有合法的物理页对应，如同情形二一样，会返回SIGBUS错误。</p><p>但是如果，每次操作ptr读写前，先增加文件的大小，那么ptr在文件大小内部的操作就是合法的。例如，文件扩充4096字节，ptr就能操作ptr ~ [ (char)ptr + 4095]的空间。只要文件扩充的范围在1000个物理页（映射范围）内，ptr都可以对应操作相同的大小。</p><p>这样，方便随时扩充文件空间，随时写入文件，不造成空间浪费</p><p>Binder进程间通信用到的mmap</p><p>Linux 下的传统 IPC 通信原理<br>传统的 IPC 方式中，进程之间是如何实现通信的。<br>通常的做法是消息发送方将要发送的数据存放在内存缓存区中，通过系统调用进入内核态。然后内核程序在内核空间分配内存，开辟一块内核缓存区，调用 copyfromuser() 函数将数据从用户空间的内存缓存区拷贝到内核空间的内核缓存区中。同样的，接收方进程在接收数据时在自己的用户空间开辟一块内存缓存区，然后内核程序调用 copytouser() 函数将数据从内核缓存区拷贝到接收进程的内存缓存区。这样数据发送方进程和数据接收方进程就完成了一次数据传输，我们称完成了一次进程间通信</p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-5.jpeg" alt=""></p><p>这种传统的 IPC 通信方式有两个问题：</p><pre><code>1.性能低下，一次数据传递需要经历：内存缓存区 --&gt; 内核缓存区 --&gt; 内存缓存区，需要 2 次数据拷贝；2.接收数据的缓存区由数据接收进程提供，但是接收进程并不知道需要多大的空间来存放将要传递过来的数据，因此只能开辟尽可能大的内存空间或者先调用 API 接收消息头来获取消息体的大小，这两种做法不是浪费空间就是浪费时间</code></pre><p>Binder采用一种全新策略：由Binder驱动负责管理数据接收缓存。我们注意到Binder驱动实现了mmap()系统调用，这对字符设备是比较特殊的，因为mmap()通常用在有物理存储介质的文件系统上，而象Binder这样没有物理介质，纯粹用来通信的字符设备没必要支持mmap()。Binder驱动当然不是为了在物理介质和用户空间做映射，而是用来创建数据接收的缓存空间。先看mmap()是如何使用的：<br>fd = open(“/dev/binder”, O_RDWR);<br>mmap(NULL, MAP_SIZE, PROT_READ, MAP_PRIVATE, fd, 0);<br>这样Binder的接收方就有了一片大小为MAP_SIZE的接收缓存区。mmap()的返回值是内存映射在用户空间的地址，不过这段空间是由驱动管理，用户不必也不能直接访问（映射类型为PROT_READ，只读映射）</p><p>一次完整的 Binder IPC 通信过程通常是这样：</p><p>1.Server端在启动之后，调用对/dev/binder设备调用mmap<br>2.内核中的binder_mmap函数进行对应的处理：申请一块物理内存，然后在Server端的用户空间和内核空间同时进行映射。内核中的binder_mmap函数进行对应的处理：申请一块物理内存，然后在Server端的用户空间和内核空间同时进行映射<br>3.Client发送请求，这个请求将先到驱动中，同时需要将数据从Client进程的用户空间拷贝（Client发送请求，这个请求将先到驱动中，同时需要将数据从Client进程的用户空间拷贝（copy_from_user）到内核空间<br>4.驱动通过请求通知Server端有人发出请求，Server进行处理。由于内核空间和Server端进程的用户空间存在内存映射，因此Server进程的代码可以直接访问。这样便完成了一次进程间的通信</p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-6.png" alt=""></p><p>而使用mmap操作文件中，创建新的虚拟内存区域和建立文件磁盘地址和虚拟内存区域映射这两步，没有任何文件拷贝操作。而之后访问数据时发现内存中并无数据而发起的缺页异常过程，可以通过已经建立好的映射关系，只使用一次数据拷贝，就从磁盘中将数据传入内存的用户空间中，供进程使用。</p><p>总而言之，常规文件操作需要从磁盘到页缓存再到用户主存的两次数据拷贝。而mmap操控文件，只需要从磁盘到用户主存的一次数据拷贝过程。说白了，mmap的关键点是实现了用户空间和内核空间的数据直接交互而省去了空间不同数据不通的繁琐过程。因此mmap效率更高</p><p>通过上面介绍可以看到，驱动为接收方分担了最为繁琐的任务：分配/释放大小不等，难以预测的有效负荷缓存区，而接收方只需要提供缓存来存放大小固定，最大空间可以预测的消息头即可。在效率上，由于mmap()分配的内存是映射在接收方用户空间里的，所有总体效果就相当于对有效负荷数据做了一次从发送方用户空间到接收方用户空间的直接数据拷贝，省去了内核中暂存这个步骤，提升了一倍的性能。顺便再提一点，Linux内核实际上没有从一个用户空间到另一个用户空间直接拷贝的函数，需要先用copy_from_user()拷贝到内核空间，再用copy_to_user()拷贝到另一个用户空间。为了实现用户空间到用户空间的拷贝，mmap()分配的内存除了映射进了接收方进程里，还映射进了内核空间。所以调用copy_from_user()将数据拷贝进内核空间也相当于拷贝进了接收方的用户空间，这就是Binder只需一次拷贝的‘秘密’</p><p>Binder 并不存在物理介质，因此 Binder 驱动使用 mmap() 并不是为了在物理介质和用户空间之间建立映射，而是用来在内核空间创建数据接收的缓存空间。</p><p>一次完整的 Binder IPC 通信过程通常是这样：</p><pre><code>首先 Binder 驱动在内核空间创建一个数据接收缓存区；接着在内核空间开辟一块内核缓存区，建立内核缓存区和内核中数据接收缓存区之间的映射关系，以及内核中数据接收缓存区和接收进程用户空间地址的映射关系；发送方进程通过系统调用 copyfromuser() 将数据 copy 到内核中的内核缓存区，由于内核缓存区和接收进程的用户空间存在内存映射，因此也就相当于把数据发送到了接收进程的用户空间，这样便完成了一次进程间的通信</code></pre><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/mmap-7.jpeg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在Unix/Linux系统下读写文件，一般有两种方式&lt;/p&gt;
&lt;p&gt;&lt;code&gt;第一种方式：传统的read/write方式&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;常规文件系统操作的调用过程：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;进程发起读文件请求&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;内核通
      
    
    </summary>
    
      <category term="Linux" scheme="http://lihaizhou.top/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>为何连接wifi后系统会卡顿一下?</title>
    <link href="http://lihaizhou.top/2020/03/05/%E4%B8%BA%E4%BD%95%E8%BF%9E%E6%8E%A5wifi%E5%90%8E%E7%B3%BB%E7%BB%9F%E4%BC%9A%E5%8D%A1%E9%A1%BF%E4%B8%80%E4%B8%8B/"/>
    <id>http://lihaizhou.top/2020/03/05/为何连接wifi后系统会卡顿一下/</id>
    <published>2020-03-05T03:00:05.000Z</published>
    <updated>2020-03-05T07:32:03.153Z</updated>
    
    <content type="html"><![CDATA[<p><strong>问题描述</strong><br>数据流量使用过程中切换到wifi连接，系统全局会卡一下</p><p><strong>初步分析</strong><br>抓取systrace时手指在桌面不停的滑动，可以看到很明确的一段没有帧，但是这个时间段手指一直在滑动<br>我们都知道vsync是APP最终通过框架层请求上来的，Choreographer收到回调后开始渲染帧。<br>自然而然对应到sf中的vsync-sf也没有帧合成，所以界面上表现为卡顿，现象和jank类似，都是屏幕上没有及时更新画面<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/wifi%E5%88%97%E8%A1%A8%E5%8D%A1%E9%A1%BF4.png" alt=""><br>其实这个时间段可以发现deliverInputEvent也没有，其实这一点也可以从Launcher的PendingInputEventQueue区域看出来<br>PS: PendingInputEventQueue 里面记录的是 App 需要处理的 Input 事件，这个阶段对应的是用户进程中了<br>开始卡顿后即红圈后面便没有波峰出现, 说明压根没有input送到应用进程<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/%E5%88%87%E6%8D%A2%E5%88%B0wifi%E5%90%8E%E5%8D%A1%E9%A1%BF-2.png" alt=""></p><p>这个时候，自然而然就有一个疑问:<br>既然应用进程没有收到input事件，那么会不会是input上报的过程中哪个环节出了问题呢？</p><p>再科普下input事件上报的大概流程</p><ol><li>InputReader 读取 Input 事件</li><li>InputReader 将读取的 Input 事件放到 InboundQueue 中</li><li>InputDispatcher 从 InboundQueue 中取出 Input 事件派发到各个 App(连接) 的 OutBoundQueue<br> 同时将事件记录到各个 App(连接) 的 WaitQueue</li><li>App 接收到 Input 事件，同时记录到 PaddingQueue ，然后对事件进行分发处理<br> App 处理完成后，回调 InputManagerService 将负责监听的 WaitQueue 中对应的 Input 移除</li></ol><p>InputReader和InputDispatcher是跑在SystemServer里面的两个Native线程，负责读取和分发Input 事件<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/%E5%88%87%E6%8D%A2%E5%88%B0wifi%E5%90%8E%E5%8D%A1%E9%A1%BF-3.png" alt=""><br>到这里可以明显看出，卡顿时间段内InputReader在不断的读取事件，说明driver没问题，注意这个时候InputDispatcher 没有收到任何input事件并且处于S状态<br>其实InputDispatcher 没有获取到事件的话，不用说oq区域和wq区域肯定也是没有事件的<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/%E5%88%87%E6%8D%A2%E5%88%B0wifi%E5%90%8E%E5%8D%A1%E9%A1%BF-4.png" alt=""><br>意料之中，空空如也，难怪应用进程苦苦等不来事件<br>这里再简要科普下这几个概念<br>说明</p><ul><li>InputReader 负责从 EventHub 里面把 Input 事件读取出来，然后交给 InputDispatcher 进行事件分发</li><li>InputDispatcher 在拿到 InputReader 获取的事件之后，对事件进行包装和分发 (也就是发给对应的)<ul><li>OutboundQueue 里面放的是即将要被派发给对应 AppConnection 的事件</li></ul></li><li>WaitQueue 里面记录的是已经派发给 AppConnection 但是 App 还在处理没有返回处理成功的事件</li><li>PendingInputEventQueue 里面记录的是 App 需要处理的 Input 事件，这里可以看到已经到了应用进程</li><li>deliverInputEvent 标识 App UI Thread 被 Input 事件唤醒</li><li>InputResponse 标识 Input 事件区域</li><li>App 响应 Input 事件 ： 这里是滑动然后松手，也就是我们熟悉的桌面滑动的操作，桌面随着手指的滑动更新画面，松手后触发 Fling 继续滑动，从 Systrace 就可以看到整个事件的流程</li></ul><p>这个时候，事件上报大致问题区域知道了，再回到InputDispatcher ，看下最后是被1726唤醒的<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/%E5%88%87%E6%8D%A2%E5%88%B0wifi%E5%90%8E%E5%8D%A1%E9%A1%BF-5.png" alt=""></p><p>跟到tid 1726区域，居然定位到了systemserver区域，InputDispatcher正常来讲都是由InputReader 唤醒的，这里不免有些困惑</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//cs.android.com/android/platform/superproject/+/master:frameworks/native/services/inputflinger/dispatcher/InputDispatcher.cpp;l=2719?q=InputDispatcher.cpp</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> InputDispatcher::notifyMotion(<span class="keyword">const</span> NotifyMotionArgs* args) &#123;</span><br><span class="line"><span class="comment">//....</span></span><br><span class="line">    bool needWake;</span><br><span class="line">    &#123; <span class="comment">// acquire lock</span></span><br><span class="line">        mLock.lock();</span><br><span class="line">        <span class="keyword">if</span> (shouldSendMotionToInputFilterLocked(args)) &#123;</span><br><span class="line">            mLock.unlock();</span><br><span class="line">            MotionEvent event;</span><br><span class="line">            event.initialize(args-&gt;deviceId, args-&gt;source, args-&gt;displayId, args-&gt;action,</span><br><span class="line">                             args-&gt;actionButton, args-&gt;flags, args-&gt;edgeFlags, args-&gt;metaState,</span><br><span class="line">                             args-&gt;buttonState, args-&gt;classification, <span class="number">0</span>, <span class="number">0</span>, args-&gt;xPrecision,</span><br><span class="line">                             args-&gt;yPrecision, args-&gt;downTime, args-&gt;eventTime, args-&gt;pointerCount,</span><br><span class="line">                             args-&gt;pointerProperties, args-&gt;pointerCoords);</span><br><span class="line">            policyFlags |= POLICY_FLAG_FILTERED;</span><br><span class="line">            <span class="keyword">if</span> (!mPolicy-&gt;filterInputEvent(&amp;event, policyFlags)) &#123;</span><br><span class="line">                <span class="keyword">return</span>; <span class="comment">// event was consumed by the filter</span></span><br><span class="line">            &#125;</span><br><span class="line">            mLock.lock();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Just enqueue a new motion event.</span></span><br><span class="line">        MotionEntry* newEntry =</span><br><span class="line">                <span class="keyword">new</span> MotionEntry(args-&gt;sequenceNum, args-&gt;eventTime, args-&gt;deviceId, args-&gt;source,</span><br><span class="line">                                args-&gt;displayId, policyFlags, args-&gt;action, args-&gt;actionButton,</span><br><span class="line">                                args-&gt;flags, args-&gt;metaState, args-&gt;buttonState,</span><br><span class="line">                                args-&gt;classification, args-&gt;edgeFlags, args-&gt;xPrecision,</span><br><span class="line">                                args-&gt;yPrecision, args-&gt;downTime, args-&gt;pointerCount,</span><br><span class="line">                                args-&gt;pointerProperties, args-&gt;pointerCoords, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        needWake = enqueueInboundEventLocked(newEntry);</span><br><span class="line">        mLock.unlock();</span><br><span class="line">    &#125; <span class="comment">// release lock</span></span><br><span class="line">    <span class="keyword">if</span> (needWake) &#123;</span><br><span class="line">        mLooper-&gt;wake();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个函数里主要做的事是读取线程InputReaderThread在处理事务并将读取的事件放到队列中<br>可以看到最后mLooper-&gt;wake();这里的looper对应的是InputDispatcher的looper，也就是最后会唤醒InputDispatcher线程<br>而我们这笔问题中InputDispatcher在卡顿期间处于S状态，往上看哪里return了导致没有执行，其实在mPolicy-&gt;filterInputEvent处返回了false并且return了，这里的代码层层追踪会跟到InputManagerService的filterInputEvent()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//cs.android.com/android/platform/superproject/+/master:frameworks/base/services/core/java/com/android/server/input/InputManagerService.java;l=1828?q=InputManagerService</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Native callback.</span></span><br><span class="line">    <span class="function"><span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">filterInputEvent</span><span class="params">(InputEvent event, <span class="keyword">int</span> policyFlags)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (mInputFilterLock) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mInputFilter != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    mInputFilter.filterInputEvent(event, policyFlags);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (RemoteException e) &#123;</span><br><span class="line">                    <span class="comment">/* ignore */</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        event.recycle();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>这里主要是判断InputFilter是否为空，如果不为空，则会走到mInputFilter.filterInputEvent，可以注意下，这里已经位于IMS也就是systemserver进程<br>我们这个问题始终不为空，原因在于开启了手势识别会设置一个InputFilter导致这里不为空，以便做进一步的事件加工处理，InputManagerService的filterInputEvent()最后调用到injectInputEvent()将这个事件送入mInBoundQueue，并唤醒InputDispatcher，不是本文重点所以代码就不展开叙述<br>至此明白了为何InputReader的唤醒源会跑到systemserver(UI线程)中</p><p>继续看systemserver(UI线程)这段区域，在执行一个广播的onReceive中等锁导致的sleep<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/%E5%88%87%E6%8D%A2%E5%88%B0wifi%E5%90%8E%E5%8D%A1%E9%A1%BF-6.png" alt=""></p><p>这里顺便对Contended on monitor with owner NetworkPolicy进行解读:<br>Monitor指的是当前锁对象的池，在Java中，每个对象都有两个池，锁(monitor)池和等待池：</p><p>锁池（同步队列 SynchronizedQueue ）：假设线程 A 已经拥有了某个对象(注意:不是类 )的锁，而其它的线程想要调用这个对象的某个 synchronized 方法(或者 synchronized 块)，由于这些线程在进入对象的 synchronized 方法之前必须先获得该对象的锁的拥有权，但是该对象的锁目前正被线程 A 拥有，所以这些线程就进入了该对象的锁池中。</p><p>这里用了争夺(contention)这个词，意思是这里由于在和目前对象的锁正被其他对象（Owner）所持有，所以没法得到该对象的锁的拥有权，所以进入该对象的锁池</p><p>Owner : 指的是当前拥有这个对象的锁的对象，这里是NetworkPolicy</p><p>讲的通俗一点<br>systemserver(UI线程)在执行一个广播的onReceive中等一个锁，这个锁此时被NetworkPolicy持有</p><p>自然而然继续看NetworkPolicy区域<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/%E5%88%87%E6%8D%A2%E5%88%B0wifi%E5%90%8E%E5%8D%A1%E9%A1%BF-7.png" alt=""></p><p>可以看到这段时间NetworkPolicy基本处于S状态，此时netd得到调度运行，这点在cpu区域也可以得到证实</p><p>再看下netd区域，卡顿开始的时候也正是netd得到调度的时候，是被2835这个进程唤醒，2835正是NetworkPolicy</p><p><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/%E5%88%87%E6%8D%A2%E5%88%B0wifi%E5%90%8E%E5%8D%A1%E9%A1%BF-8.png" alt=""></p><p>到这里可以大致梳理一下卡顿时间内做的事:<br>1.SystemServer中的UI线程在等一个锁，这个锁被NetworkPolicy持有，所以没有发送input事件给InputDispatcher<br>2.NetworkPolicy为何一直不释放呢，是因为其调用了netd，netd执行的时间较长耗时了1s左右，等netd执行结束后NetworkPolicy得到调度继续执行并释放锁<br>3.SystemServer中的UI线程获取到锁，继续发送input事件到mInBoundQueue并唤醒InputDispatcher</p><p>现在的疑问就是NetworkPolicy和SystemServer(UI线程)监听了一样的广播，这个广播的服务端应该是加锁了导致了所有注册的客户端顺序执行<br>其实想想也能猜到应该是wifi状态变化或者网络变化的广播，跟到NetworkManagerService中看下很容易发现NetworkManagerService监听了一个网络变化广播CONNECTIVITY_ACTION<br>但是SystemServer(UI线程)中注册并回调执行的代码位置需要借助traceview进一步定位，这里比较简单不展开讨论</p><p>解决思路看看SystemServer(UI线程)中具体代码处是否能够去掉锁或后台执行，只要不堵在UI线程就行</p><p>这个问题只有开启手势识别或有设置了InputFilter的情况才会出现，最新谷歌代码上发现代码变化没有注册监听，故该问题在新版本上不会存在</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;问题描述&lt;/strong&gt;&lt;br&gt;数据流量使用过程中切换到wifi连接，系统全局会卡一下&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;初步分析&lt;/strong&gt;&lt;br&gt;抓取systrace时手指在桌面不停的滑动，可以看到很明确的一段没有帧，但是这个时间段手指一直在滑动&lt;b
      
    
    </summary>
    
      <category term="Android" scheme="http://lihaizhou.top/categories/Android/"/>
    
      <category term="性能" scheme="http://lihaizhou.top/categories/Android/%E6%80%A7%E8%83%BD/"/>
    
    
  </entry>
  
  <entry>
    <title>谁拖慢了列表的滑动速度</title>
    <link href="http://lihaizhou.top/2020/03/04/%E8%B0%81%E6%8B%96%E6%85%A2%E4%BA%86%E5%88%97%E8%A1%A8%E7%9A%84%E6%BB%91%E5%8A%A8%E9%80%9F%E5%BA%A6/"/>
    <id>http://lihaizhou.top/2020/03/04/谁拖慢了列表的滑动速度/</id>
    <published>2020-03-04T13:59:04.000Z</published>
    <updated>2020-06-21T08:25:47.920Z</updated>
    
    <content type="html"><![CDATA[<p><strong>问题描述</strong><br>在开机向导界面滑动wifi列表界面时比较卡顿，概率为必现</p><p>抓一份systrace，红色帧有多处，总体上看有不少处发生掉帧<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/wifi%E5%88%97%E8%A1%A8%E5%8D%A1%E9%A1%BF1.jpg" alt=""></p><p>挑其中一处红色帧放大看下<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/wifi%E5%88%97%E8%A1%A8%E5%8D%A1%E9%A1%BF2.png" alt=""><br>耗时中的measure是大头，其中一次measure有数十次obtainview，对比其他绿色正常帧，发现正常的时候没有measure的过程<br>放大一次obtainview的过程，做的其实是inflate一项item的过程，红圈处对应了wifi一个item的布局<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/wifi%E5%88%97%E8%A1%A8%E5%8D%A1%E9%A1%BF3.png" alt=""><br>我们都知道，ViewRootImpl的performTraversals方法会经过measure、layout和draw三个流程才能将一帧View需要显示的内容绘制到屏幕上</p><ul><li>performMeasure: 从根节点向下遍历View树，完成所有ViewGroup和View的测量工作，计算出所有ViewGroup和View显示出来需要的高度和宽度</li><li>performLayout()：从根节点向下遍历View树，完成所有ViewGroup和View的布局计算工作，根据测量出来的宽高及自身属性，计算出所有ViewGroup和View显示在屏幕上的区域；</li><li>performDraw()：从根节点向下遍历View树，完成所有ViewGroup和View的绘制工作，根据布局过程计算出的显示区域，将所有View的当前需显示的内容画到屏幕上</li></ul><p>对应到我们这个问题，此时大概心里有数了，一帧的耗时并不是计算显示在哪个区域以及本身的内容绘制耗时，而是计算需要显示的高度或宽度耗时，注意这里是计算这个列表的高度或宽度耗时了，因为每次measure都对应了数十次的加载item的过程，很显然需要依据item的高度或宽度来最终确定列表的高度或宽度</p><p>故真相只有一个，就是列表很可能使用了自适应的高度或宽度</p><p>看下代码<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;LinearLayout</span><br><span class="line">     android:id=<span class="string">"@+id/provision_lyt_content"</span></span><br><span class="line">     android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">     android:layout_height=<span class="string">"0dip"</span></span><br><span class="line">     android:layout_weight=<span class="string">"1"</span></span><br><span class="line">     android:layout_marginTop=<span class="string">"@dimen/provision_content_top_padding"</span></span><br><span class="line">     android:paddingStart=<span class="string">"@dimen/provision_list_left_padding"</span></span><br><span class="line">     android:paddingEnd=<span class="string">"@dimen/provision_list_right_padding"</span></span><br><span class="line">     android:orientation=<span class="string">"vertical"</span>&gt;</span><br><span class="line">     &lt;ListView</span><br><span class="line">         android:id=<span class="string">"@android:id/list"</span></span><br><span class="line">         android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">         android:layout_height=<span class="string">"wrap_content"</span> /&gt;</span><br><span class="line"> &lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure></p><p> 果不其然，这里设置了自适应的高度，修改为match_parent后再次测试发现卡顿消失<br>抓取改后的systrace<br><img src="https://raw.githubusercontent.com/hellolihaizhou/saveImg/master/wifi%E5%88%97%E8%A1%A8%E5%8D%A1%E9%A1%BF4.png" alt=""></p><p>基本上没有了红色帧，每一帧的绘制不再有measure的过程<br>其实这个问题不抓systrace，看traceview同样能够定位，只是没有systrace直观</p><p>到这里，还有一个疑问，当view设置了自适应高度后，它的高度由其子view的高度决定，故需要计算它的所有子view高度后才能确定自身的显示高度<br>这一点容易理解，但是具体到onMeasure的代码里是如何实现的呢？<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">frameworks/base/core/java/android/view/ViewRootImpl.java</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">performMeasure</span><span class="params">(<span class="keyword">int</span> childWidthMeasureSpec, <span class="keyword">int</span> childHeightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (mView == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">     <span class="comment">//这里对应了systrace中measure tag</span></span><br><span class="line">        Trace.traceBegin(Trace.TRACE_TAG_VIEW, <span class="string">"measure"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mView.measure(childWidthMeasureSpec, childHeightMeasureSpec);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            Trace.traceEnd(Trace.TRACE_TAG_VIEW);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>其中的mView.measure(childWidthMeasureSpec, childHeightMeasureSpec);通过参数可以看到，view的显示宽高用到了其子view的宽高作为约束条件<br>listview必定会重写onMeasure，直接跟到其源码中<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">frameworks/base/core/java/android/widget/ListView.java</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Sets up mListPadding</span></span><br><span class="line">        <span class="keyword">super</span>.onMeasure(widthMeasureSpec, heightMeasureSpec);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> widthMode = MeasureSpec.getMode(widthMeasureSpec);</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> heightMode = MeasureSpec.getMode(heightMeasureSpec);</span><br><span class="line">        <span class="keyword">int</span> widthSize = MeasureSpec.getSize(widthMeasureSpec);</span><br><span class="line">        <span class="keyword">int</span> heightSize = MeasureSpec.getSize(heightMeasureSpec);</span><br><span class="line">          <span class="comment">//....</span></span><br><span class="line">          </span><br><span class="line">          <span class="keyword">if</span> (heightMode == MeasureSpec.AT_MOST) &#123;</span><br><span class="line">              <span class="comment">// <span class="doctag">TODO:</span> after first layout we should maybe start at the first visible position, not 0</span></span><br><span class="line">              heightSize = measureHeightOfChildren(widthMeasureSpec, <span class="number">0</span>, NO_POSITION, heightSize, -<span class="number">1</span>);</span><br><span class="line">          &#125;</span><br><span class="line">            <span class="comment">//...</span></span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure></p><p>我们都知道wrap_content对应的mode为<code>MeasureSpec.AT_MOST</code>,这时候调用到measureHeightOfChildren开始计算其子view的宽高</p><p>这里看注释描述，如果指定了高度，则measure会停止<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Measures the height of the given range of children (inclusive) and</span></span><br><span class="line"><span class="comment">     * returns the height with this ListView's padding and divider heights</span></span><br><span class="line"><span class="comment">     * included. If maxHeight is provided, the measuring will stop when the</span></span><br><span class="line"><span class="comment">     * current height reaches maxHeight.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> widthMeasureSpec The width measure spec to be given to a child's</span></span><br><span class="line"><span class="comment">     *            &#123;<span class="doctag">@link</span> View#measure(int, int)&#125;.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> startPosition The position of the first child to be shown.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> endPosition The (inclusive) position of the last child to be</span></span><br><span class="line"><span class="comment">     *            shown. Specify &#123;<span class="doctag">@link</span> #NO_POSITION&#125; if the last child should be</span></span><br><span class="line"><span class="comment">     *            the last available child from the adapter.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> maxHeight The maximum height that will be returned (if all the</span></span><br><span class="line"><span class="comment">     *            children don't fit in this value, this value will be</span></span><br><span class="line"><span class="comment">     *            returned).</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> disallowPartialChildPosition In general, whether the returned</span></span><br><span class="line"><span class="comment">     *            height should only contain entire children. This is more</span></span><br><span class="line"><span class="comment">     *            powerful--it is the first inclusive position at which partial</span></span><br><span class="line"><span class="comment">     *            children will not be allowed. Example: it looks nice to have</span></span><br><span class="line"><span class="comment">     *            at least 3 completely visible children, and in portrait this</span></span><br><span class="line"><span class="comment">     *            will most likely fit; but in landscape there could be times</span></span><br><span class="line"><span class="comment">     *            when even 2 children can not be completely shown, so a value</span></span><br><span class="line"><span class="comment">     *            of 2 (remember, inclusive) would be good (assuming</span></span><br><span class="line"><span class="comment">     *            startPosition is 0).</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> The height of this ListView with the given children.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@UnsupportedAppUsage</span>(maxTargetSdk = Build.VERSION_CODES.P, trackingBug = <span class="number">115609023</span>)</span><br><span class="line">    <span class="function"><span class="keyword">final</span> <span class="keyword">int</span> <span class="title">measureHeightOfChildren</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> startPosition, <span class="keyword">int</span> endPosition,</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">int</span> maxHeight, <span class="keyword">int</span> disallowPartialChildPosition)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> ListAdapter adapter = mAdapter;</span><br><span class="line">        <span class="keyword">if</span> (adapter == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> mListPadding.top + mListPadding.bottom;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Include the padding of the list</span></span><br><span class="line">        <span class="keyword">int</span> returnedHeight = mListPadding.top + mListPadding.bottom;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> dividerHeight = mDividerHeight;</span><br><span class="line">        <span class="comment">// The previous height value that was less than maxHeight and contained</span></span><br><span class="line">        <span class="comment">// no partial children</span></span><br><span class="line">        <span class="keyword">int</span> prevHeightWithoutPartialChild = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        View child;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// mItemCount - 1 since endPosition parameter is inclusive</span></span><br><span class="line">        endPosition = (endPosition == NO_POSITION) ? adapter.getCount() - <span class="number">1</span> : endPosition;</span><br><span class="line">        <span class="keyword">final</span> AbsListView.RecycleBin recycleBin = mRecycler;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">boolean</span> recyle = recycleOnMeasure();</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">boolean</span>[] isScrap = mIsScrap;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = startPosition; i &lt;= endPosition; ++i) &#123;</span><br><span class="line">            child = obtainView(i, isScrap);</span><br><span class="line"></span><br><span class="line">            measureScrapChild(child, i, widthMeasureSpec, maxHeight);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// Count the divider for all but one child</span></span><br><span class="line">                returnedHeight += dividerHeight;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Recycle the view before we possibly return from the method</span></span><br><span class="line">            <span class="keyword">if</span> (recyle &amp;&amp; recycleBin.shouldRecycleViewType(</span><br><span class="line">                    ((LayoutParams) child.getLayoutParams()).viewType)) &#123;</span><br><span class="line">                recycleBin.addScrapView(child, -<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            returnedHeight += child.getMeasuredHeight();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (returnedHeight &gt;= maxHeight) &#123;</span><br><span class="line">                <span class="comment">// We went over, figure out which height to return.  If returnedHeight &gt; maxHeight,</span></span><br><span class="line">                <span class="comment">// then the i'th position did not fit completely.</span></span><br><span class="line">                <span class="keyword">return</span> (disallowPartialChildPosition &gt;= <span class="number">0</span>) <span class="comment">// Disallowing is enabled (&gt; -1)</span></span><br><span class="line">                            &amp;&amp; (i &gt; disallowPartialChildPosition) <span class="comment">// We've past the min pos</span></span><br><span class="line">                            &amp;&amp; (prevHeightWithoutPartialChild &gt; <span class="number">0</span>) <span class="comment">// We have a prev height</span></span><br><span class="line">                            &amp;&amp; (returnedHeight != maxHeight) <span class="comment">// i'th child did not fit completely</span></span><br><span class="line">                        ? prevHeightWithoutPartialChild</span><br><span class="line">                        : maxHeight;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ((disallowPartialChildPosition &gt;= <span class="number">0</span>) &amp;&amp; (i &gt;= disallowPartialChildPosition)) &#123;</span><br><span class="line">                prevHeightWithoutPartialChild = returnedHeight;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// At this point, we went through the range of children, and they each</span></span><br><span class="line">        <span class="comment">// completely fit, so return the returnedHeight</span></span><br><span class="line">        <span class="keyword">return</span> returnedHeight;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>这里最关键的代码: <code>child = obtainView(i, isScrap);</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Gets a view and have it show the data associated with the specified</span></span><br><span class="line"><span class="comment">    * position. This is called when we have already discovered that the view</span></span><br><span class="line"><span class="comment">    * is not available for reuse in the recycle bin. The only choices left are</span></span><br><span class="line"><span class="comment">    * converting an old view or making a new one.</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> position the position to display</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> outMetadata an array of at least 1 boolean where the first entry</span></span><br><span class="line"><span class="comment">    *                    will be set &#123;<span class="doctag">@code</span> true&#125; if the view is currently</span></span><br><span class="line"><span class="comment">    *                    attached to the window, &#123;<span class="doctag">@code</span> false&#125; otherwise (e.g.</span></span><br><span class="line"><span class="comment">    *                    newly-inflated or remained scrap for multiple layout</span></span><br><span class="line"><span class="comment">    *                    passes)</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> A view displaying the data associated with the specified position</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function">View <span class="title">obtainView</span><span class="params">(<span class="keyword">int</span> position, <span class="keyword">boolean</span>[] outMetadata)</span> </span>&#123;</span><br><span class="line">       Trace.traceBegin(Trace.TRACE_TAG_VIEW, <span class="string">"obtainView"</span>);</span><br><span class="line">       <span class="comment">//...</span></span><br><span class="line">       <span class="comment">//obtainView方法里面核心的代码其实就两行，首先从复用缓存中取出一个可以复用的View，然后作为参传入getView中，</span></span><br><span class="line"><span class="comment">//也就是convertView。这里会走到obtainview，子View实例都是由obtainView方法返回的，然后再调用具体measureScrapChild</span></span><br><span class="line"><span class="comment">//来具体测量子View的高度.</span></span><br><span class="line">        <span class="comment">//正常情况下这里for循环的次数就等于所有子项的个数，不过特殊的是已测量的子View高度之和大于maxHeight</span></span><br><span class="line"> <span class="comment">//就直接return出循环了。这种做法其实很好理解，ListView能显示的最大高度就是屏幕的高度，如果有1000个子项</span></span><br><span class="line"> <span class="comment">//前面10项已经占满了一屏幕了，那后面的990项就没必要继续测量高度了，这样可以大大提高性能</span></span><br><span class="line">      <span class="keyword">final</span> View scrapView = mRecycler.getScrapView(position);</span><br><span class="line">       <span class="keyword">final</span> View child = mAdapter.getView(position, scrapView, <span class="keyword">this</span>);</span><br><span class="line">       <span class="keyword">if</span> (scrapView != <span class="keyword">null</span>) &#123;</span><br><span class="line">           <span class="keyword">if</span> (child != scrapView) &#123;</span><br><span class="line">               <span class="comment">// Failed to re-bind the data, return scrap to the heap.</span></span><br><span class="line">               mRecycler.addScrapView(scrapView, position);</span><br><span class="line">           &#125; <span class="keyword">else</span> <span class="keyword">if</span> (child.isTemporarilyDetached()) &#123;</span><br><span class="line">               outMetadata[<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">               <span class="comment">// Finish the temporary detach started in addScrapView().</span></span><br><span class="line">               child.dispatchFinishTemporaryDetach();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//....</span></span><br><span class="line">       setItemViewLayoutParams(child, position);</span><br><span class="line">       Trace.traceEnd(Trace.TRACE_TAG_VIEW);</span><br><span class="line">       <span class="keyword">return</span> child;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>出现问题时正是触发了onMeasure，导致遍历可见范围内的数十个wifi item并计算他们的高度</p><hr><p><strong>一点小结</strong></p><p>一个View最终显示到屏幕上一共分为三个阶段：Measure、Layout、Draw，而使用不当会造成其重复调用，尤其是Measure过程最为敏感。<br>因为当根布局做measure的时候，需要逐级measure子View和子布局，当所有子View或子布局measure完成的时候才能最终确定根部局的大小，<br>所以子布局的measure调用时机是由父布局来决定的。而像ListView这种在其onMeasure中直接调用getView的情况，<br>如果onMeasure被调用次数过多，将严重影响性能。</p><p>这里的listview还好外边没有裹着RelativeLayout，不然会导致子View的onMeasure重复调用，卡顿也会更加明显，假设RelativeLayout嵌套层数为n，子View的onMeasure次数为2^（n+1）</p><p>使用ListView的时候注意尽量使用layout_height=”match_parent”，如果无法避免，外边也不能裹着RelativeLayout</p><p>总而言之: 写代码三思而后行，谨慎再谨慎</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;问题描述&lt;/strong&gt;&lt;br&gt;在开机向导界面滑动wifi列表界面时比较卡顿，概率为必现&lt;/p&gt;
&lt;p&gt;抓一份systrace，红色帧有多处，总体上看有不少处发生掉帧&lt;br&gt;&lt;img src=&quot;https://raw.githubusercontent.c
      
    
    </summary>
    
      <category term="Android" scheme="http://lihaizhou.top/categories/Android/"/>
    
      <category term="性能" scheme="http://lihaizhou.top/categories/Android/%E6%80%A7%E8%83%BD/"/>
    
    
  </entry>
  
  <entry>
    <title>如何快速定位kernel错误</title>
    <link href="http://lihaizhou.top/2019/12/26/%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E5%AE%9A%E4%BD%8Dkernel%E9%94%99%E8%AF%AF/"/>
    <id>http://lihaizhou.top/2019/12/26/如何快速定位kernel错误/</id>
    <published>2019-12-26T12:08:49.000Z</published>
    <updated>2019-12-28T06:57:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>比如在定位systrace卡顿问题时，最后跟到kernel中<br><img src="https://github.com/hellolihaizhou/saveImg/blob/master/950ffc39-d5dc-47d7-a57b-3e774cae457d.png?raw=true" alt="systrace卡顿"></p><p>可以看到阻塞在<br>{kernel callsite when blocked:: “teei_forward_call+0xac/0xfc”}</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mi@mi-OptiPlex<span class="number">-7060</span>:~<span class="regexp">/Code_mi/</span>F7_code/prebuilts/gdb/linux-x86/bin$ ./gdb</span><br><span class="line">GNU gdb (GDB) <span class="number">7.11</span></span><br><span class="line">Copyright (C) <span class="number">2016</span> Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version <span class="number">3</span> or later &lt;http:<span class="comment">//gnu.org/licenses/gpl.html&gt;</span></span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.  Type <span class="string">"show copying"</span></span><br><span class="line">and <span class="string">"show warranty"</span> <span class="keyword">for</span> details.</span><br><span class="line">This GDB was configured <span class="keyword">as</span> <span class="string">"x86_64-linux-gnu"</span>.</span><br><span class="line">Type <span class="string">"show configuration"</span> <span class="keyword">for</span> configuration details.</span><br><span class="line">For bug reporting instructions, please see:</span><br><span class="line">&lt;http:<span class="comment">//www.gnu.org/software/gdb/bugs/&gt;.</span></span><br><span class="line">Find the GDB manual and other documentation resources online at:</span><br><span class="line">&lt;http:<span class="comment">//www.gnu.org/software/gdb/documentation/&gt;.</span></span><br><span class="line">For help, type <span class="string">"help"</span>.</span><br><span class="line">Type <span class="string">"apropos word"</span> to search <span class="keyword">for</span> commands related to <span class="string">"word"</span>.</span><br><span class="line">(gdb) file <span class="string">'/home/mi/日志/vmliux/out/target/product/merlin/obj/KERNEL_OBJ/vmlinux'</span> </span><br><span class="line"><span class="comment">//此时输入file后面跟vmlinux文件，vmlinux在symbols中，具体路径在out/target/product/libra/obj/KERNEL_OBJ/下</span></span><br><span class="line">Reading symbols <span class="keyword">from</span> /home/mi/日志/vmliux/out/target/product/merlin/obj/KERNEL_OBJ/vmlinux...done.</span><br><span class="line"></span><br><span class="line">(gdb) list*teei_forward_call+<span class="number">0xac</span>  <span class="comment">//list*后面跟上偏移位</span></span><br><span class="line"><span class="number">0xffffff80087fe9d8</span> is <span class="keyword">in</span> teei_forward_call (<span class="regexp">/home/</span>work/merlin-q-dev-build/kernel<span class="number">-4.14</span>/drivers/misc/mediatek/teei/<span class="number">300</span>/tz_driver/teei_smc_call.c:<span class="number">128</span>).</span><br></pre></td></tr></table></figure><p>这种情况适用于像NE问题或者一些watchdog问题等</p><p>还有一种情况是像如下图中</p><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/7d36fef5-b40b-439b-bd69-fd65e393e8be.png?raw=true" alt="systrace卡顿2"></p><p>这种情况稍微有点麻烦<br>知道地址该如何反向定位函数名和偏移呢, 这个时候就需要用到objdump，-d后面跟的是vmlinux的地址，最后会将汇编语言导入到vmlinux.txt中，此时搜索后五位即 fb684</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aarch64-linux-android-objdump -d vmlinux &gt; vmlinux.txt</span><br></pre></td></tr></table></figure><p>搜索到如下结果</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffffff80087fb674:    <span class="number">14000004</span>     b    ffffff80087fb684 &lt;teei_forward_call+<span class="number">0xac</span>&gt;</span><br></pre></td></tr></table></figure><p>这个时候在用gdb配合vmlinux定位teei_forward_call+0xac就可以了</p><p>汇总下<br>分析工具</p><ul><li>addr2line：用来分析单个pc地址对应的源码行数，比如示例log中的第13行中的#00 pc 0004097c，0004097c就是crash时pc调用的堆栈地址，用这个地址就可以分析出对应在源码中的行数；</li><li>objdump：用来把相应的so变成汇编语言的asm文件，然后根据地址信息（比如0004097c）就可以找到更加详细的相关函数信息；</li><li>ndk-stack：用来把log信息全部翻译成更加详细的带源码行数信息的log，相当于是在整个crash堆栈信息都执行addr2line命令。</li></ul><p>linux自带addr2line命令。使用Windows的，在sdk中安装了NDK之后，在ndk中就带有这些工具。<br>比如addr2line工具在：sdk\ndk-bundle\toolchains\arm-linux-androideabi-4.9\prebuilt\windows-x86_64\bin下面，同时这个bin下面包含很多其他工具，比如objdump，readelf等；<br>ndk-stack工具则在sdk\ndk-bundle下面；</p><h3 id="使用addr2line查找代码位置"><a href="#使用addr2line查找代码位置" class="headerlink" title="使用addr2line查找代码位置"></a>使用addr2line查找代码位置</h3><p>执行如下的命令，多个指针地址可以在<br><img src="https://github.com/hellolihaizhou/saveImg/blob/master/16111918_pm7h.jpg?raw=true" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arm-linux-androideabi-addr2line –e obj/local/armeabi/libhello-jni.so <span class="number">00004</span>de8 <span class="number">000056</span>c8 <span class="number">00004</span>fb4 <span class="number">00004</span>f58</span><br></pre></td></tr></table></figure><p>PS：</p><ul><li>crash log与对应的so一定要对应起来。即错误的情况是：你拿了一份旧的log，然后你修改了so相关的源码，然后编译出来了新的so，你拿着这个新的so以及旧log中的地址去让addr2line等分析，那肯定是得不到正确的结果的</li><li>带symbols的so文件<br>对于比如手机公司的开发人员来说，一般来说出问题的so对应的带symbols的so都在out/target/product/&lt;model_name&gt;/symbols/system/lib/下面，而对于常见的使用AndroidStudio开发的单个应用来说，其对应的带symbols的在&lt;PROJECT_ROOT&gt;\app\src\main\obj\local\<abi>\下面的so，而不能是\app\src\main\libs\<abi>的，这里面的是不包含symbols信息的，拿这个去分析，输出的结果就是“??:?”。其实这两个so的体积对比也是很明显的的，在我的应用中，前一个带symbols的so的体积为7M多，而后一个只有2M</abi></abi></li></ul><h3 id="使用objdump获取函数信息"><a href="#使用objdump获取函数信息" class="headerlink" title="使用objdump获取函数信息"></a>使用objdump获取函数信息</h3><p>使用如下命令导出函数表</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arm-linux-androideabi-objdump –S obj/local/armeabi/libhello-jni.so &gt; hello.asm</span><br></pre></td></tr></table></figure><p>在生成的asm文件中查找刚刚我们定位的两个关键指针00004fb4和00004f58，搜索后四位<br>可以显示对应的函数名，这样再配合addressline的结果堪称完美，可以得到对应文件的某一行并且知道对应的函数名(其实addr2line就够了)</p><p>参考文章:<br><a href="https://www.oschina.net/question/2241352_213433" target="_blank" rel="noopener">如何定位Android NDK开发中遇到的错误</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;比如在定位systrace卡顿问题时，最后跟到kernel中&lt;br&gt;&lt;img src=&quot;https://github.com/hellolihaizhou/saveImg/blob/master/950ffc39-d5dc-47d7-a57b-3e774cae457d.pn
      
    
    </summary>
    
      <category term="性能" scheme="http://lihaizhou.top/categories/%E6%80%A7%E8%83%BD/"/>
    
    
  </entry>
  
  <entry>
    <title>一个返回卡顿2s问题的分析解决之路</title>
    <link href="http://lihaizhou.top/2019/12/21/%E4%B8%80%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%8D%A1%E9%A1%BF2s%E9%97%AE%E9%A2%98%E7%9A%84%E5%88%86%E6%9E%90%E8%A7%A3%E5%86%B3%E4%B9%8B%E8%B7%AF/"/>
    <id>http://lihaizhou.top/2019/12/21/一个返回卡顿2s问题的分析解决之路/</id>
    <published>2019-12-21T09:54:10.000Z</published>
    <updated>2019-12-26T12:10:08.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="性能" scheme="http://lihaizhou.top/categories/%E6%80%A7%E8%83%BD/"/>
    
    
  </entry>
  
  <entry>
    <title>Android-Vsync</title>
    <link href="http://lihaizhou.top/2019/12/15/Android-Vsync/"/>
    <id>http://lihaizhou.top/2019/12/15/Android-Vsync/</id>
    <published>2019-12-15T12:42:18.000Z</published>
    <updated>2019-12-28T07:03:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文目的在于通过了解Vsync工作原理加深对systrace的理解</p><p>在 Systrace 中我们可以看到，Android 系统在 Vsync 信号的指引下，有条不紊地进行者每一帧的渲染、合成操作，使我们可以享受稳定帧率的画面。</p><p>Vsync作用-Drawing without Sync<br>Step1. Display显示第0帧数据，此时CPU和GPU渲染第1帧画面，而且赶在Display显示下一帧前完成<br>Step2. 因为渲染及时，Display在第0帧显示完成后，也就是第1个VSync后，正常显示第1帧<br>Step3. 由于某些原因，比如CPU资源被占用，系统没有及时地开始处理第2帧，直到第2个VSync快来前才开始处理<br>Step4. 第2个VSync来时，由于第2帧数据还没有准备就绪，显示的还是第1帧。这种情况被Android开发组命名为“Jank”。<br>Step5. 当第2帧数据准备完成后，它并不会马上被显示，而是要等待下一个VSync。</p><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-1.png?raw=true" alt=""></p><p>这个图中还有个值得注意的地方就是FramebufferSurface,这个代表最终合成的数据<br>可以看到sf合成后这个数值变为了1，display显示后这个数值又变为了0</p><p>让CPU GPU渲染工作都在一个Vsync周期工作，保证绘制的步调和屏幕刷新的步调一致，为此Android引入另外两个软件VSync信号，VSYNC-sf和VSYNC-app，VSYNC-sf用于触发SurfaceFlinger合成VSYNC-app用于触发app 绘制这几个信号可通过systrace观察到<br><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-9.png?raw=true" alt=""></p><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-10.png?raw=true" alt=""></p><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-11.png?raw=true" alt=""></p><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-12.png?raw=true" alt=""></p><p>因为 VSYNC 是由硬件产生的，一旦产生了就必须开始干活，不灵活。假设有这么一种需求，我希望在 VSYNC 偏移一段时间以后再干活，那么这个是硬件 VSYNC 提供不了，所以这个时候就必须引入软件模型。而 DispSync 就是为了解决这个需求引入的软件模型。<br>DispSync 类似于一个 PLL（phase lock loop，锁相回路），它通过接收硬件 VSYNC，然后给其他关心硬件 VSYNC 的组件（SurfaceFlinger 和需要渲染的 app）在指定的偏移以后发送软件 VSYNC，并且当误差在可接受的范围内，将会关闭硬件 VSYNC<br><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-2-dispsync.png?raw=true" alt="dispsync"><br>SurfaceFlinger将HWComposer收到新的Vsync-timestamp交给DispSync::addResyncSample来决定是否还需要继续输入HW_VSYNC_0</p><p>与此同时,DispSync会根据HWComposer传过来的retire-fence-timestamps来检查SW_VSYNC</p><p>Vsync虚拟化（Vsync App + Vsync SurfaceFlinger）：<br>虽然vsync使得CPU/GPU/Display同步了，但App UI和SurfaceFlinger的工作显然是一个流水线的模型。即对于一帧内容，先等App UI画完了，SurfaceFlinger再出场对其进行合并渲染后放入framebuffer，最后整到屏幕上。<br>而现有的VSync模型是让大家一起开始干活，这样对于同一帧内容，第一个VSync信号时App UI的数据开始准备，第二个VSync信号SurfaceFlinger工作，第三个VSync信号时用户看到Display内容，这样就两个VSync period(每个16ms)过去了，影响用户体验。<br>解决思路：SurfaceFlinger在App UI准备好数据后及时开工做合成。</p><p>Android 4.4(KitKat)引入了VSync的虚拟化，即把硬件的VSync信号先同步到一个本地VSync模型中，再从中一分为二，引出两条VSync时间与之有固定偏移的线程。示意图如下：<br>  <img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-3.png?raw=true" alt=""></p><p>第一阶段：<br>App 在收到 Vsync-App 的时候，在主线程进行 measure、layout、draw(构建 DisplayList , 里面包含 OpenGL 渲染需要的命令及数据) 。这里对应的 Systrace 中的主线程 doFrame 操作<br>第二阶段：<br>CPU 将数据上传（共享或者拷贝）给 GPU,　这里 ARM 设备 内存一般是 GPU 和 CPU 共享内存。这里对应的 Systrace 中的渲染线程的 flush drawing commands 操作<br>第三阶段：<br>通知 GPU 渲染，真机一般不会阻塞等待 GPU 渲染结束，CPU 通知结束后就返回继续执行其他任务，使用 Fence 机制辅助 GPU CPU 进行同步操作<br>第四 阶段：<br>swapBuffers，并通知 SurfaceFlinger 图层合成。这里对应的 Systrace 中的渲染线程的 eglSwapBuffersWithDamageKHR 操作<br>第五阶段：<br>SurfaceFlinger开始合成图层，如果之前提交的GPU渲染任务没结束，则等待GPU渲染完成，再合成（Fence机制），合成依然是依赖GPU，不过这就是下一个任务了.这里对应的Systrace中的SurfaceFlinger主线程的 onMessageReceived操作（包括 handleTransaction、handleMessageInvalidate、handleMessageRefresh）SurfaceFlinger 在合成的时候，会将一些合成工作委托给Hardware Composer,从而降低来自 OpenGL和GPU的负载，只有Hardware Composer 无法处理的图层，或者指定用OpenGL处理的图层，其他的 图层偶会使用Hardware Composer进行合成<br>第六阶段 ：最终合成好的数据放到屏幕对应的Frame Buffer中，固定刷新的时候就可以看到了</p><p>通过systrace看数据流向<br><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-5.jpg?raw=true" alt=""></p><p>上图中主要包含 SurfaceFlinger、App 和 hwc 三个进程，下面就来结合图中的标号，来进一步说明数据的流向</p><ul><li>第一个Vsync信号到来, SurfaceFlinger和App同时收到Vsync信号</li><li>SurfaceFlinger收到Vsync-sf信号，开始进行App上一帧的Buffer的合成</li><li>App收到Vsyc-app信号，开始进行这一帧的Buffer的渲染(对应上面的第一、二、三、四阶段)</li><li>第二个Vsync信号到来 ,SurfaceFlinger和App同时收到Vsync信号，SurfaceFlinger获取App在第二步里面渲染的Buffer,开始合成(对应上面的第五阶段),App收到Vsycn-app 信号，开始新一帧的Buffer的渲染(对应上面的第一、二、三、四阶段)</li></ul><h3 id="Vsync-offset"><a href="#Vsync-offset" class="headerlink" title="Vsync offset"></a>Vsync offset</h3><p>文章最开始有提到，Vsync信号可以由硬件产生，也可以用软件模拟，不过现在基本上都是硬件产生，负责产生硬件Vsync的是HWC,HWC 可生成 VSYNC事件并通过回调将事件发送到 SurfaceFlinge , DispSync将Vsync 生成由Choreographer和SurfaceFlinger使用的VSYNC_APP 和 VSYNC_SF 信号.</p><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync_6_disp_sync_arch.png?raw=true" alt=""></p><p>有一个疑问<br>因此可以看出SW vsync/App vsync 并不是直接由HW vsync产生的，而是由SW vsync产生的，HW vsync作为SW vsync的参考，动态的更新SW vsync里的模型参数，这样让SW vsync能与HW vsync更加的精确吧。</p><p>那么为什么SurfaceFlinger要用SW vsync而不是直接用HW vsync呢？<br>猜想可能是因为HW vsync每隔固定时间由显示屏产生中断，然后传给driver, driver再回调给SurfaceFlinger, 这样经过层层回调，会对performance有影响吧。而SW vsync直接由SurfaceFlinger产生，省略了很多步骤</p><p>这个文章 <a href="https://www.jianshu.com/p/d3e4b1805c92" target="_blank" rel="noopener">https://www.jianshu.com/p/d3e4b1805c92</a> 很棒</p><p>其中 app 和 sf 相对 hw_vsync_0 都有一个偏移,即 phase-app 和 phase-sf，如下图<br><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-7.jpg?raw=true" alt=""></p><p>Vsync Offset我们指的是VSYNC_APP和VSYNC_SF之间有一个Offset，即上图中phase-sf - phase-app的值，这个Offset是厂商可以配置的。如果 Offset 不为 0，那么意味着App和SurfaceFlinger主进程不是同时收到Vsync信号，而是间隔Offset(通常在0 - 16.6ms之间)</p><p>目前大部分厂商都没有配置这个Offset，所以App和SurfaceFlinger是同时收到Vsync信号的.</p><p>可以通过Dumpsys SurfaceFlinger来查看对应的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\MI</span><br><span class="line">λ adb shell dumpsys SurfaceFlinger|grep <span class="string">"app phase"</span></span><br><span class="line">   app phase:   <span class="number">8300000</span> ns      SF phase:   <span class="number">8300000</span> ns</span><br></pre></td></tr></table></figure><p>Offset 为 0<br>首先说 Offset 为 0 的情况， 此时 App 和 SurfaceFlinger 是同时收到 Vsync 信号 ， 其对应的 Systrace 图如下</p><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/vsync-8.jpg?raw=true" alt=""><br>这个图上面也有讲解，这里就不再详细说明，大家只需要看到，App 渲染好的 Buffer，要等到下一个 Vsync-SF 来的时候才会被 SurfaceFlinger 拿去做合成，这个时间大概在 16.6 ms。这时候大家可能会想，如果 App 的 Buffer 渲染结束，Swap 到 BufferQueue 中 ，就触发 SurfaceFlinger 去做合成，那岂不是省了一些时间(0-16.6ms )?</p><p>答案是可行的，这也就引入了 Offset 机制，在这种情况下，App 先收到 Vsync 信号，进行一帧的渲染工作，然后过了 Offset 时间后，SurfaceFlinger 才收到 Vsync 信号开始合成，这时候如果 App 的 Buffer 已经 Ready 了，那么 SurfaceFlinger 这一次合成就可以包含 App 这一帧，用户也会早一点看到。</p><p>Offset 的优缺点</p><ul><li><p>Offset 的一个比较难以确定的点就在与 Offset 的时间该如何设置，这也是众多厂商默认都不进行配置 Offset 的一个原因，其优缺点是动态的，与机型的性能和使用场景有很大的关系</p></li><li><p>如果 Offset 配置过短，那么可能 App 收到 Vsync-App 后还没有渲染完成，SurfaceFlinger 就收到 Vsync-SF 开始合成，那么此时如果 App 的 BufferQueue 中没有之前累积的 Buffer，那么 SurfaceFlinger 这次合成就不会有 App 的东西在里面，需要等到下一个 Vsync-SF 才能合成这次 App 的内容，时间相当于变成了 Vsync 周期+Offset，而不是我们期待的 Offset<br>如果 Offset 配置过长，就起不到作用了</p></li></ul><h3 id="HW-Vsync"><a href="#HW-Vsync" class="headerlink" title="HW_Vsync"></a>HW_Vsync</h3><p>这里需要说明的是，不是每次申请 Vsync 都会由硬件产生 Vsync，只有此次请求 vsync 的时间距离上次合成时间大于 500ms，才会通知 hwc，请求 HW_VSYNC</p><p>以桌面滑动为例，看 SurfaceFlinger 的进程 Trace 可以看到 HW_VSYNC 的状态</p><p>HW_VSYNC 主要是利用最近的硬件 VSYNC 来做预测,最少要 3 个,最多是 32 个,实际上要用几个则不一定, DispSync 拿到 6 个 VSYNC 后就会计算出 SW_VSYNC,只要收到的 Present Fence 没有超过误差,硬件 VSYNC 就会关掉,不然会继续接收硬件 VSYNC 计算 SW_VSYNC 的值,直到误差小于 threshold.</p><p>下面以AndroidQ上代码为例<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">frameworks/<span class="keyword">native</span>/services/surfaceflinger/SurfaceFlinger.cpp</span><br><span class="line"><span class="keyword">void</span> SurfaceFlinger::onVsyncReceived(int32_t sequenceId, hwc2_display_t hwcDisplayId,</span><br><span class="line">                                     int64_t timestamp) &#123;</span><br><span class="line">    ATRACE_NAME(<span class="string">"SF onVsync"</span>);</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    bool periodFlushed = <span class="keyword">false</span>;</span><br><span class="line">    mScheduler-&gt;addResyncSample(timestamp, &amp;periodFlushed);</span><br><span class="line">    <span class="keyword">if</span> (periodFlushed) &#123;</span><br><span class="line">        mVsyncModulator.onRefreshRateChangeCompleted();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> Scheduler::addResyncSample(<span class="keyword">const</span> nsecs_t timestamp, bool* periodFlushed) &#123;</span><br><span class="line">    bool needsHwVsync = <span class="keyword">false</span>;</span><br><span class="line">    *periodFlushed = <span class="keyword">false</span>;</span><br><span class="line">    &#123; <span class="comment">// Scope for the lock</span></span><br><span class="line">        std::lock_guard&lt;std::mutex&gt; lock(mHWVsyncLock);</span><br><span class="line">        <span class="keyword">if</span> (mPrimaryHWVsyncEnabled) &#123;</span><br><span class="line"><span class="comment">//addResyncSample会根据现有的硬件Vsync样本计算SW Vsync模型，如果误差已经在可接受范围内</span></span><br><span class="line">   <span class="comment">// 即认为不再需要硬件Vsync样本了，就得关闭硬件Vsync</span></span><br><span class="line">   <span class="comment">// 反之，如果误差还比较大，这里还需要继续加入硬件Vsync样本继续计算SW Vsync模型 </span></span><br><span class="line">            needsHwVsync = mPrimaryDispSync-&gt;addResyncSample(timestamp, periodFlushed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// enableHardwareVsync/disableHardwareVsync都是通过EventControlThread去控制硬件Vsync开关</span></span><br><span class="line">    <span class="keyword">if</span> (needsHwVsync) &#123;</span><br><span class="line">        enableHardwareVsync();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        disableHardwareVsync(<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面重点看硬件Vsync样本是如何计算SW Vsync模型，这也是最有趣的地方</p><h3 id="addResyncSample"><a href="#addResyncSample" class="headerlink" title="addResyncSample"></a>addResyncSample</h3><p>frameworks/native/services/surfaceflinger/Scheduler/DispSync.cpp<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">enum</span> &#123; MAX_RESYNC_SAMPLES = <span class="number">32</span> &#125;;</span><br><span class="line">    <span class="keyword">enum</span> &#123; MIN_RESYNC_SAMPLES_FOR_UPDATE = <span class="number">6</span> &#125;;</span><br><span class="line">    <span class="keyword">enum</span> &#123; NUM_PRESENT_SAMPLES = <span class="number">8</span> &#125;;</span><br><span class="line">    <span class="keyword">enum</span> &#123; MAX_RESYNC_SAMPLES_WITHOUT_PRESENT = <span class="number">4</span> &#125;;</span><br><span class="line">    <span class="keyword">enum</span> &#123; ACCEPTABLE_ZERO_ERR_SAMPLES_COUNT = <span class="number">64</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> DispSync::addResyncSample(<span class="keyword">nsecs_t</span> timestamp, <span class="keyword">bool</span>* periodFlushed) &#123;</span><br><span class="line">    Mutex::<span class="function">Autolock <span class="title">lock</span><span class="params">(mMutex)</span></span>;</span><br><span class="line"></span><br><span class="line">    ALOGV(<span class="string">"[%s] addResyncSample(%"</span> PRId64 <span class="string">")"</span>, mName, ns2us(timestamp));</span><br><span class="line"></span><br><span class="line">    *periodFlushed = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">size_t</span> idx = (mFirstResyncSample + mNumResyncSamples) % MAX_RESYNC_SAMPLES;</span><br><span class="line"><span class="comment">//// mResyncSamples 记录每个硬件vsync样本的时间戳，在计算sw vsync的模型时有用</span></span><br><span class="line">    mResyncSamples[idx] = timestamp;</span><br><span class="line">    <span class="keyword">if</span> (mNumResyncSamples == <span class="number">0</span>) &#123;</span><br><span class="line">        mPhase = <span class="number">0</span>;</span><br><span class="line">        ALOGV(<span class="string">"[%s] First resync sample: mPeriod = %"</span> PRId64 <span class="string">", mPhase = 0, "</span></span><br><span class="line">              <span class="string">"mReferenceTime = %"</span> PRId64,</span><br><span class="line">              mName, ns2us(mPeriod), ns2us(timestamp));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mPendingPeriod &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// mNumResyncSamples &gt; 0, so priorIdx won't overflow</span></span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">size_t</span> priorIdx = (mFirstResyncSample + mNumResyncSamples - <span class="number">1</span>) % MAX_RESYNC_SAMPLES;</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">nsecs_t</span> lastTimestamp = mResyncSamples[priorIdx];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">nsecs_t</span> observedVsync = <span class="built_in">std</span>::<span class="built_in">abs</span>(timestamp - lastTimestamp);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">std</span>::<span class="built_in">abs</span>(observedVsync - mPendingPeriod) &lt;= <span class="built_in">std</span>::<span class="built_in">abs</span>(observedVsync - mIntendedPeriod)) &#123;</span><br><span class="line">            <span class="comment">// Either the observed vsync is closer to the pending period, (and</span></span><br><span class="line">            <span class="comment">// thus we detected a period change), or the period change will</span></span><br><span class="line">            <span class="comment">// no-op. In either case, reset the model and flush the pending</span></span><br><span class="line">            <span class="comment">// period.</span></span><br><span class="line">            resetLocked();</span><br><span class="line">            mIntendedPeriod = mPendingPeriod;</span><br><span class="line">            mPeriod = mPendingPeriod;</span><br><span class="line">            mPendingPeriod = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (mTraceDetailedInfo) &#123;</span><br><span class="line">                ATRACE_INT(<span class="string">"DispSync:PendingPeriod"</span>, mPendingPeriod);</span><br><span class="line">                ATRACE_INT(<span class="string">"DispSync:IntendedPeriod"</span>, mIntendedPeriod);</span><br><span class="line">            &#125;</span><br><span class="line">            *periodFlushed = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 始终用最新的硬件时间戳timestamp来更新mReferenceTime.</span></span><br><span class="line">    mReferenceTime = timestamp;</span><br><span class="line">    mThread-&gt;updateModel(mPeriod, mPhase, mReferenceTime);</span><br><span class="line"><span class="comment">//更新 mNumResyncSamples 或 mFirstResyncSample的值</span></span><br><span class="line">    <span class="keyword">if</span> (mNumResyncSamples &lt; MAX_RESYNC_SAMPLES) &#123;</span><br><span class="line">        mNumResyncSamples++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        mFirstResyncSample = (mFirstResyncSample + <span class="number">1</span>) % MAX_RESYNC_SAMPLES;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//开始计算更新SW vsync 模型</span></span><br><span class="line">    updateModelLocked();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (mNumResyncSamplesSincePresent++ &gt; MAX_RESYNC_SAMPLES_WITHOUT_PRESENT) &#123;</span><br><span class="line">        resetErrorLocked();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (mIgnorePresentFences) &#123;</span><br><span class="line">        <span class="comment">// If we're ignoring the present fences we have no way to know whether</span></span><br><span class="line">        <span class="comment">// or not we're synchronized with the HW vsyncs, so we just request</span></span><br><span class="line">        <span class="comment">// that the HW vsync events be turned on.</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check against kErrorThreshold / 2 to add some hysteresis before having to</span></span><br><span class="line">    <span class="comment">// resync again</span></span><br><span class="line"><span class="comment">// 如果模型更新了，并且产生的错误小于 kErrorThreshold/2 这个值 (这个值是错误容忍度)，那么   modelLocked就被置为true, 即模型被锁定，模型被锁定的含义是</span></span><br><span class="line">    <span class="comment">// 现在SW vsync工作的很好，暂时不需要硬件Vsync来进行校正了，最后会将硬件Vsync给disable掉</span></span><br><span class="line">    <span class="keyword">bool</span> modelLocked = mModelUpdated &amp;&amp; mError &lt; (kErrorThreshold / <span class="number">2</span>) &amp;&amp; mPendingPeriod == <span class="number">0</span>;</span><br><span class="line">    ALOGV(<span class="string">"[%s] addResyncSample returning %s"</span>, mName, modelLocked ? <span class="string">"locked"</span> : <span class="string">"unlocked"</span>);</span><br><span class="line">    <span class="keyword">if</span> (modelLocked) &#123;</span><br><span class="line">        *periodFlushed = <span class="literal">true</span>;</span><br><span class="line">        mThread-&gt;lockModel();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> !modelLocked;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">关于这个值看下定义的地方注释</span><br><span class="line"><span class="comment">// This is the threshold used to determine when hardware vsync events are</span></span><br><span class="line"><span class="comment">// needed to re-synchronize the software vsync model with the hardware.  The</span></span><br><span class="line"><span class="comment">// error metric used is the mean of the squared difference between each</span></span><br><span class="line"><span class="comment">// present time and the nearest software-predicted vsync.</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">nsecs_t</span> kErrorThreshold = <span class="number">160000000000</span>; <span class="comment">// 400 usec squared</span></span><br></pre></td></tr></table></figure></p><p>这里核心是updateModelLocked()即如何依据硬件vsync来校准的，目前看的有点云里雾里<br>有待进一步厘清</p><h3 id="enableHardwareVsync"><a href="#enableHardwareVsync" class="headerlink" title="enableHardwareVsync"></a>enableHardwareVsync</h3><p>frameworks/native/services/surfaceflinger/Scheduler/Scheduler.cpp<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> Scheduler::enableHardwareVsync() &#123;</span><br><span class="line">    <span class="built_in">std</span>::lock_guard&lt;<span class="built_in">std</span>::mutex&gt; lock(mHWVsyncLock);</span><br><span class="line">    <span class="keyword">if</span> (!mPrimaryHWVsyncEnabled &amp;&amp; mHWVsyncAvailable) &#123;</span><br><span class="line">        mPrimaryDispSync-&gt;beginResync();</span><br><span class="line"><span class="comment">//调用EventControlThread去开启硬件vsync</span></span><br><span class="line">        mEventControlThread-&gt;setVsyncEnabled(<span class="literal">true</span>);</span><br><span class="line">        mPrimaryHWVsyncEnabled = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>参考文章<br><a href="https://source.android.com/devices/graphics/implement-vsync" target="_blank" rel="noopener">谷歌VSYNC介绍</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本文目的在于通过了解Vsync工作原理加深对systrace的理解&lt;/p&gt;
&lt;p&gt;在 Systrace 中我们可以看到，Android 系统在 Vsync 信号的指引下，有条不紊地进行者每一帧的渲染、合成操作，使我们可以享受稳定帧率的画面。&lt;/p&gt;
&lt;p&gt;Vsync作用-D
      
    
    </summary>
    
      <category term="Android" scheme="http://lihaizhou.top/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Android-丢帧分析</title>
    <link href="http://lihaizhou.top/2019/12/15/Android-%E4%B8%A2%E5%B8%A7%E5%88%86%E6%9E%90/"/>
    <id>http://lihaizhou.top/2019/12/15/Android-丢帧分析/</id>
    <published>2019-12-15T07:39:19.000Z</published>
    <updated>2019-12-28T07:02:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>用户日常使用手机过程中慢或者卡顿统一归结为丢帧问题，简单总结下：</p><p>1 内存不足<br>2 app使用的绘制方式区别<br>3 app使用的编译方式区别<br>4 app自身问题</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\MI</span><br><span class="line">λ adb shell cat /proc/meminfo</span><br><span class="line">MemTotal:        <span class="number">5871128</span> kB</span><br><span class="line">MemFree:         <span class="number">1215492</span> kB</span><br><span class="line">MemAvailable:    <span class="number">3631296</span> kB</span><br><span class="line">Buffers:           <span class="number">91956</span> kB</span><br><span class="line">Cached:          <span class="number">2432140</span> kB</span><br></pre></td></tr></table></figure><p>比较多的Uninterruptible Sleep，block 在__lock_page_or_retry </p><p>另外proc/meminfo中 可用内存非常少、且swap空间几乎耗尽 、lmk频繁打印等等都能从侧面反映内存偏低</p><p>app使用的绘制方式区别<br>相同app的软件绘制与硬件绘制对比：</p><p>软件绘制：</p><p>硬件加速<br>Android3.0开始支持硬件加速，Android4.0 默认启用硬件加速。但是app还是能主动设置 hardwareAccelerated 来切换两种模式</p><p>硬件绘制就是将CPU不擅长的图形计算转换成GPU专用指令，由GPU完成。</p><p>优点：</p><p>1）显著提升UI绘速度</p><p>2） 更新UI只重绘脏区域，提升刷新速度</p><p>缺点：</p><p>内存和电量消耗会比软件绘制大</p><p>3 app使用的编译方式区别<br>留意是否有编译方式的区别：</p><p>解释模式编译.dex文件肯定比直接执行.oat文件要来的慢</p><p>4 app自身问题<br>视图太复杂层级太深、主线程有耗时方法</p><p>DrawFrame过程很长，且基本是出于running状态时，可能视图过于复杂</p><p>主线程方法耗时的话，那需要通过加trace Label缩小范围，然后利用traceView对具体方法进行耗时分析</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;用户日常使用手机过程中慢或者卡顿统一归结为丢帧问题，简单总结下：&lt;/p&gt;
&lt;p&gt;1 内存不足&lt;br&gt;2 app使用的绘制方式区别&lt;br&gt;3 app使用的编译方式区别&lt;br&gt;4 app自身问题&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;
      
    
    </summary>
    
      <category term="Android" scheme="http://lihaizhou.top/categories/Android/"/>
    
    
  </entry>
  
  <entry>
    <title>Android input系统</title>
    <link href="http://lihaizhou.top/2019/12/15/Android%20input%E7%B3%BB%E7%BB%9F/"/>
    <id>http://lihaizhou.top/2019/12/15/Android input系统/</id>
    <published>2019-12-15T05:31:51.000Z</published>
    <updated>2019-12-28T07:03:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>一次input的耗时时间分布</p><ul><li>T1 表示 硬件中断的时间</li><li>T2 表示 InputReader 从 /dev/input/xxx 读出事件的时间</li><li>T3 表示 InputDispatcher 向 app 进程发送事件的时间</li><li>T4 表示 app 主线程开始处理输入事件的时间</li><li>T5 表示 app 主线程完成处理输入事件的时间<br>一次用户输入事件的传递过程可以简化为: 硬件 -&gt; kernel -&gt; system_server -&gt; app</li></ul><p>system_server 耗时: T3 - T2<br>frameworks/native/libs/input/InputTransport.cpp<br>应用处理耗时: T5 - T4<br>frameworks/base / core/java/android/view/InputEventReceiver.java</p><h3 id="代码分布"><a href="#代码分布" class="headerlink" title="代码分布"></a>代码分布</h3><p>frameworks/native/services/inputflinger/</p><ul><li>InputDispatcher.cpp</li><li>InputReader.cpp</li><li>InputManager.cpp</li><li>EventHub.cpp</li><li>InputListener.cpp</li></ul><p>frameworks/native/libs/input/</p><ul><li>InputTransport.cpp</li><li>Input.cpp</li><li>InputDevice.cpp</li><li>Keyboard.cpp</li><li>KeyCharacterMap.cpp</li><li>IInputFlinger.cpp</li></ul><p>frameworks/base/services/core/</p><ul><li>java/com/android/server/input/InputManagerService.java</li><li>jni/com_android_server_input_InputManagerService.cpp</li></ul><p>Input模块的主要组成：</p><ul><li>Native层的InputReader负责从EventHub取出事件并处理，再交给InputDispatcher；</li><li>Native层的InputDispatcher接收来自InputReader的输入事件，并记录WMS的窗口信息，用于派发事件到合适的窗口；</li><li>Java层的InputManagerService跟WMS交互，WMS记录所有窗口信息，并同步更新到IMS，为InputDispatcher正确派发事件到ViewRootImpl提供保障</li></ul><p><img src="https://github.com/hellolihaizhou/saveImg/blob/master/input(1" alt="input事件流转路线">-Input%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86.png?raw=true)</p><p>1、输入硬件<br>说白了就是任何接受外界刺激，然后将刺激转换为电信号（例如机械能，使得电路导通后产生电信号）的设备，然后向CPU发出硬件中断，然后CPU查找操作系统的中断向量表中相对应的中断编号，调用操作系统的相应的代码段，此处如果有对应的驱动程序的话，操作系统会调用驱动程序对输入设备产生的电信号进行解析和转换成标准的linux内核规定的事件信息结构。</p><p>2、输入设备驱动<br>在linux内核层，处理硬件电信号，并转换成linux内核标准事件信息结构。然后linux会将这些事件信息写入/dev/input/下对应的虚拟设备中。</p><p>3、/dev/input<br>linux写入输入事件的位置，被linux虚拟化成虚拟输入设备文件（字符设备）。</p><p>4、EventHub<br>安卓的事件核心、负责从linux虚拟化输入设备中获取到所有事件。</p><p>framework/native/services/inputflinger/EventHub.h</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;一次input的耗时时间分布&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;T1 表示 硬件中断的时间&lt;/li&gt;
&lt;li&gt;T2 表示 InputReader 从 /dev/input/xxx 读出事件的时间&lt;/li&gt;
&lt;li&gt;T3 表示 InputDispatcher 向 app 进程发送事件
      
    
    </summary>
    
      <category term="Android" scheme="http://lihaizhou.top/categories/Android/"/>
    
    
  </entry>
  
</feed>
